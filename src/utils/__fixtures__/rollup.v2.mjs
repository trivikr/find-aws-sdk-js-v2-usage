import e from"util";import t from"fs";import r from"crypto";import n from"buffer";import i from"domain";import o from"stream";import s from"url";import a from"querystring";import u from"dgram";import c from"os";import l from"path";import p from"child_process";import h from"string_decoder";import d from"events";import f from"timers";import m from"https";import g from"http";function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v,b,E,w,S,C,T,_,I,x,A,P,O,k,R,D,N,L,M,F,q,j,B,U,V,W,z,H,K,G,X,Y,Q,J,$,Z,ee,te;function re(){if(b)return v;b=1;var e=Yr();function t(){}function r(t,n){if(n&&null!=t)switch(n.type){case"structure":return function(t,n){if(n.isDocument)return t;var i={};return e.each(t,function(e,t){var o=n.members[e];if(o){if("body"!==o.location)return;var s=o.isLocationName?o.name:e,a=r(t,o);void 0!==a&&(i[s]=a)}}),i}(t,n);case"map":return function(t,n){var i={};return e.each(t,function(e,t){var o=r(t,n.value);void 0!==o&&(i[e]=o)}),i}(t,n);case"list":return function(t,n){var i=[];return e.arrayEach(t,function(e){var t=r(e,n.member);void 0!==t&&i.push(t)}),i}(t,n);default:return function(e,t){return t.toWireFormat(e)}(t,n)}}return t.prototype.build=function(e,t){return JSON.stringify(r(e,t))},v=t}function ne(){if(w)return E;w=1;var e=Yr();function t(){}function r(t,n){if(n&&void 0!==t)switch(n.type){case"structure":return function(t,n){if(null==t)return;if(n.isDocument)return t;var i={},o=n.members,s=n.api&&n.api.awsQueryCompatible;return e.each(o,function(e,n){var o=n.isLocationName?n.name:e;if(Object.prototype.hasOwnProperty.call(t,o)){var a=r(t[o],n);void 0!==a&&(i[e]=a)}else s&&n.defaultValue&&"list"===n.type&&(i[e]="function"==typeof n.defaultValue?n.defaultValue():n.defaultValue)}),i}(t,n);case"map":return function(t,n){if(null==t)return;var i={};return e.each(t,function(e,t){var o=r(t,n.value);i[e]=void 0===o?null:o}),i}(t,n);case"list":return function(t,n){if(null==t)return;var i=[];return e.arrayEach(t,function(e){var t=r(e,n.member);void 0===t?i.push(null):i.push(t)}),i}(t,n);default:return function(e,t){return t.toType(e)}(t,n)}}return t.prototype.parse=function(e,t){return r(JSON.parse(e),t)},E=t}function ie(){if(C)return S;C=1;var e=Yr(),t=Kt();return S={populateHostPrefix:function(r){if(!r.service.config.hostPrefixEnabled)return r;var n,i,o,s=r.service.api.operations[r.operation];if(function(t){var r=t.service.api,n=r.operations[t.operation],i=r.endpointOperation&&r.endpointOperation===e.string.lowerFirst(n.name);return"NULL"!==n.endpointDiscoveryRequired||!0===i}(r))return r;if(s.endpoint&&s.endpoint.hostPrefix){var a=function(t,r,n){return e.each(n.members,function(n,i){if(!0===i.hostLabel){if("string"!=typeof r[n]||""===r[n])throw e.error(new Error,{message:"Parameter "+n+" should be a non-empty string.",code:"InvalidParameter"});var o=new RegExp("\\{"+n+"\\}","g");t=t.replace(o,r[n])}}),t}(s.endpoint.hostPrefix,r.params,s.input);!function(e,t){e.host&&(e.host=t+e.host);e.hostname&&(e.hostname=t+e.hostname)}(r.httpRequest.endpoint,a),n=r.httpRequest.endpoint.hostname,i=n.split("."),o=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/,e.arrayEach(i,function(r){if(!r.length||r.length<1||r.length>63)throw e.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!o.test(r))throw t.util.error(new Error,{code:"ValidationError",message:r+" is not hostname compatible."})})}return r}},S}function oe(){if(_)return T;_=1;var e=Yr(),t=re(),r=ne(),n=ie().populateHostPrefix;return T={buildRequest:function(e){var r=e.httpRequest,i=e.service.api,o=i.targetPrefix+"."+i.operations[e.operation].name,s=i.jsonVersion||"1.0",a=i.operations[e.operation].input,u=new t;1===s&&(s="1.0"),i.awsQueryCompatible&&(r.params||(r.params={}),Object.assign(r.params,e.params)),r.body=u.build(e.params||{},a),r.headers["Content-Type"]="application/x-amz-json-"+s,r.headers["X-Amz-Target"]=o,n(e)},extractError:function(t){var r={},n=t.httpResponse;if(r.code=n.headers["x-amzn-errortype"]||"UnknownError","string"==typeof r.code&&(r.code=r.code.split(":")[0]),n.body.length>0)try{var i=JSON.parse(n.body.toString()),o=i.__type||i.code||i.Code;for(var s in o&&(r.code=o.split("#").pop()),"RequestEntityTooLarge"===r.code?r.message="Request body must be less than 1 MB":r.message=i.message||i.Message||null,i||{})"code"!==s&&"message"!==s&&(r["["+s+"]"]="See error."+s+" for details.",Object.defineProperty(r,s,{value:i[s],enumerable:!1,writable:!0}))}catch(i){r.statusCode=n.statusCode,r.message=n.statusMessage}else r.statusCode=n.statusCode,r.message=n.statusCode.toString();t.error=e.error(new Error,r)},extractData:function(e){var t=e.httpResponse.body.toString()||"{}";if(!1===e.request.service.config.convertResponseTypes)e.data=JSON.parse(t);else{var n=e.request.service.api.operations[e.request.operation].output||{},i=new r;e.data=i.parse(t,n)}}},T}function se(){if(x)return I;x=1;var e=Yr();function t(){}function r(e){return e.isQueryName||"ec2"!==e.api.protocol?e.name:e.name[0].toUpperCase()+e.name.substr(1)}function n(t,n,o,s){e.each(o.members,function(e,o){var a=n[e];if(null!=a){var u=r(o);i(u=t?t+"."+u:u,a,o,s)}})}function i(t,o,s,a){null!=o&&("structure"===s.type?n(t,o,s,a):"list"===s.type?function(t,n,o,s){var a=o.member||{};0!==n.length?e.arrayEach(n,function(e,n){var u="."+(n+1);if("ec2"===o.api.protocol)u+="";else if(o.flattened){if(a.name){var c=t.split(".");c.pop(),c.push(r(a)),t=c.join(".")}}else u="."+(a.name?a.name:"member")+u;i(t+u,e,a,s)}):"ec2"!==o.api.protocol&&s.call(this,t,null)}(t,o,s,a):"map"===s.type?function(t,r,n,o){var s=1;e.each(r,function(e,r){var a=(n.flattened?".":".entry.")+s+++".",u=a+(n.key.name||"key"),c=a+(n.value.name||"value");i(t+u,e,n.key,o),i(t+c,r,n.value,o)})}(t,o,s,a):a(t,s.toWireFormat(o).toString()))}return t.prototype.serialize=function(e,t,r){n("",e,t,r)},I=t}function ae(){if(P)return A;P=1;var e=Yr().memoizedProperty;function t(t,r,n,i){e(this,i(t),function(){return n(t,r)})}return A=function(e,r,n,i,o){for(var s in i=i||String,e)Object.prototype.hasOwnProperty.call(e,s)&&(t.call(this,s,e[s],n,i),o&&o(s,e[s]))}}function ue(){if(k)return O;k=1;var e=ae(),t=Yr();function r(e,r,n){null!=n&&t.property.apply(this,arguments)}function n(e,r){e.constructor.prototype[r]||t.memoizedProperty.apply(this,arguments)}function i(e,t,n){t=t||{},r(this,"shape",e.shape),r(this,"api",t.api,!1),r(this,"type",e.type),r(this,"enum",e.enum),r(this,"min",e.min),r(this,"max",e.max),r(this,"pattern",e.pattern),r(this,"location",e.location||this.location||"body"),r(this,"name",this.name||e.xmlName||e.queryName||e.locationName||n),r(this,"isStreaming",e.streaming||this.isStreaming||!1),r(this,"requiresLength",e.requiresLength,!1),r(this,"isComposite",e.isComposite||!1),r(this,"isShape",!0,!1),r(this,"isQueryName",Boolean(e.queryName),!1),r(this,"isLocationName",Boolean(e.locationName),!1),r(this,"isIdempotent",!0===e.idempotencyToken),r(this,"isJsonValue",!0===e.jsonvalue),r(this,"isSensitive",!0===e.sensitive||e.prototype&&!0===e.prototype.sensitive),r(this,"isEventStream",Boolean(e.eventstream),!1),r(this,"isEvent",Boolean(e.event),!1),r(this,"isEventPayload",Boolean(e.eventpayload),!1),r(this,"isEventHeader",Boolean(e.eventheader),!1),r(this,"isTimestampFormatSet",Boolean(e.timestampFormat)||e.prototype&&!0===e.prototype.isTimestampFormatSet,!1),r(this,"endpointDiscoveryId",Boolean(e.endpointdiscoveryid),!1),r(this,"hostLabel",Boolean(e.hostLabel),!1),t.documentation&&(r(this,"documentation",e.documentation),r(this,"documentationUrl",e.documentationUrl)),e.xmlAttribute&&r(this,"isXmlAttribute",e.xmlAttribute||!1),r(this,"defaultValue",null),this.toWireFormat=function(e){return null==e?"":e},this.toType=function(e){return e}}function o(e){i.apply(this,arguments),r(this,"isComposite",!0),e.flattened&&r(this,"flattened",e.flattened||!1)}function s(t,s){var a=this,u=null,c=!this.isShape;o.apply(this,arguments),c&&(r(this,"defaultValue",function(){return{}}),r(this,"members",{}),r(this,"memberNames",[]),r(this,"required",[]),r(this,"isRequired",function(){return!1}),r(this,"isDocument",Boolean(t.document))),t.members&&(r(this,"members",new e(t.members,s,function(e,t){return i.create(t,s,e)})),n(this,"memberNames",function(){return t.xmlOrder||Object.keys(t.members)}),t.event&&(n(this,"eventPayloadMemberName",function(){for(var e=a.members,t=a.memberNames,r=0,n=t.length;r<n;r++)if(e[t[r]].isEventPayload)return t[r]}),n(this,"eventHeaderMemberNames",function(){for(var e=a.members,t=a.memberNames,r=[],n=0,i=t.length;n<i;n++)e[t[n]].isEventHeader&&r.push(t[n]);return r}))),t.required&&(r(this,"required",t.required),r(this,"isRequired",function(e){if(!u){u={};for(var r=0;r<t.required.length;r++)u[t.required[r]]=!0}return u[e]},!1,!0)),r(this,"resultWrapper",t.resultWrapper||null),t.payload&&r(this,"payload",t.payload),"string"==typeof t.xmlNamespace?r(this,"xmlNamespaceUri",t.xmlNamespace):"object"==typeof t.xmlNamespace&&(r(this,"xmlNamespacePrefix",t.xmlNamespace.prefix),r(this,"xmlNamespaceUri",t.xmlNamespace.uri))}function a(e,t){var s=this,a=!this.isShape;if(o.apply(this,arguments),a&&r(this,"defaultValue",function(){return[]}),e.member&&n(this,"member",function(){return i.create(e.member,t)}),this.flattened){var u=this.name;n(this,"name",function(){return s.member.name||u})}}function u(e,t){var s=!this.isShape;o.apply(this,arguments),s&&(r(this,"defaultValue",function(){return{}}),r(this,"key",i.create({type:"string"},t)),r(this,"value",i.create({type:"string"},t))),e.key&&n(this,"key",function(){return i.create(e.key,t)}),e.value&&n(this,"value",function(){return i.create(e.value,t)})}function c(){i.apply(this,arguments);var e=["rest-xml","query","ec2"];this.toType=function(t){return t=this.api&&e.indexOf(this.api.protocol)>-1?t||"":t,this.isJsonValue?JSON.parse(t):t&&"function"==typeof t.toString?t.toString():t},this.toWireFormat=function(e){return this.isJsonValue?JSON.stringify(e):e}}function l(){i.apply(this,arguments),this.toType=function(e){var r=t.base64.decode(e);if(this.isSensitive&&t.isNode()&&"function"==typeof t.Buffer.alloc){var n=t.Buffer.alloc(r.length,r);r.fill(0),r=n}return r},this.toWireFormat=t.base64.encode}function p(){l.apply(this,arguments)}function h(){i.apply(this,arguments),this.toType=function(e){return"boolean"==typeof e?e:null==e?null:"true"===e}}return i.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},i.types={structure:s,list:a,map:u,boolean:h,timestamp:function(e){var n=this;if(i.apply(this,arguments),e.timestampFormat)r(this,"timestampFormat",e.timestampFormat);else if(n.isTimestampFormatSet&&this.timestampFormat)r(this,"timestampFormat",this.timestampFormat);else if("header"===this.location)r(this,"timestampFormat","rfc822");else if("querystring"===this.location)r(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":r(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":r(this,"timestampFormat","iso8601")}this.toType=function(e){return null==e?null:"function"==typeof e.toUTCString?e:"string"==typeof e||"number"==typeof e?t.date.parseTimestamp(e):null},this.toWireFormat=function(e){return t.date.format(e,n.timestampFormat)}},float:function(){i.apply(this,arguments),this.toType=function(e){return null==e?null:parseFloat(e)},this.toWireFormat=this.toType},integer:function(){i.apply(this,arguments),this.toType=function(e){return null==e?null:parseInt(e,10)},this.toWireFormat=this.toType},string:c,base64:p,binary:l},i.resolve=function(e,t){if(e.shape){var r=t.api.shapes[e.shape];if(!r)throw new Error("Cannot find shape reference: "+e.shape);return r}return null},i.create=function(e,t,r){if(e.isShape)return e;var n=i.resolve(e,t);if(n){var o=Object.keys(e);t.documentation||(o=o.filter(function(e){return!e.match(/documentation/)}));var s=function(){n.constructor.call(this,e,t,r)};return s.prototype=n,new s}e.type||(e.members?e.type="structure":e.member?e.type="list":e.key?e.type="map":e.type="string");var a=e.type;if(i.normalizedTypes[e.type]&&(e.type=i.normalizedTypes[e.type]),i.types[e.type])return new i.types[e.type](e,t,r);throw new Error("Unrecognized shape type: "+a)},i.shapes={StructureShape:s,ListShape:a,MapShape:u,StringShape:c,BooleanShape:h,Base64Shape:p},O=i}function ce(){if(D)return R;D=1;var e=Kt(),t=Yr(),r=se(),n=ue(),i=ie().populateHostPrefix;return R={buildRequest:function(e){var n=e.service.api.operations[e.operation],o=e.httpRequest;o.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",o.params={Version:e.service.api.apiVersion,Action:n.name},(new r).serialize(e.params,n.input,function(e,t){o.params[e]=t}),o.body=t.queryParamsToString(o.params),i(e)},extractError:function(r){var n,i=r.httpResponse.body.toString();if(i.match("<UnknownOperationException"))n={Code:"UnknownOperation",Message:"Unknown operation "+r.request.operation};else try{n=(new e.XML.Parser).parse(i)}catch(e){n={Code:r.httpResponse.statusCode,Message:r.httpResponse.statusMessage}}n.requestId&&!r.requestId&&(r.requestId=n.requestId),n.Errors&&(n=n.Errors),n.Error&&(n=n.Error),n.Code?r.error=t.error(new Error,{code:n.Code,message:n.Message}):r.error=t.error(new Error,{code:r.httpResponse.statusCode,message:null})},extractData:function(r){var i=r.request,o=i.service.api.operations[i.operation].output||{},s=o;if(s.resultWrapper){var a=n.create({type:"structure"});a.members[s.resultWrapper]=o,a.memberNames=[s.resultWrapper],t.property(o,"name",o.resultWrapper),o=a}var u=new e.XML.Parser;if(o&&o.members&&!o.members._XAMZRequestId){var c=n.create({type:"string"},{api:{protocol:"query"}},"requestId");o.members._XAMZRequestId=c}var l=u.parse(r.httpResponse.body.toString(),o);r.requestId=l._XAMZRequestId||l.requestId,l._XAMZRequestId&&delete l._XAMZRequestId,s.resultWrapper&&l[s.resultWrapper]&&(t.update(l,l[s.resultWrapper]),delete l[s.resultWrapper]),r.data=l}},R}function le(){if(L)return N;L=1;var e=Yr(),t=ie().populateHostPrefix;function r(t,r,n,i){var o=[t,r].join("/");o=o.replace(/\/+/g,"/");var s={},a=!1;if(e.each(n.members,function(t,r){var n=i[t];if(null!=n)if("uri"===r.location){var u=new RegExp("\\{"+r.name+"(\\+)?\\}");o=o.replace(u,function(t,r){return(r?e.uriEscapePath:e.uriEscape)(String(n))})}else"querystring"===r.location&&(a=!0,"list"===r.type?s[r.name]=n.map(function(t){return e.uriEscape(r.member.toWireFormat(t).toString())}):"map"===r.type?e.each(n,function(t,r){Array.isArray(r)?s[t]=r.map(function(t){return e.uriEscape(String(t))}):s[t]=e.uriEscape(String(r))}):s[r.name]=e.uriEscape(r.toWireFormat(n).toString()))}),a){o+=o.indexOf("?")>=0?"&":"?";var u=[];e.arrayEach(Object.keys(s).sort(),function(t){Array.isArray(s[t])||(s[t]=[s[t]]);for(var r=0;r<s[t].length;r++)u.push(e.uriEscape(String(t))+"="+s[t][r])}),o+=u.join("&")}return o}return N={buildRequest:function(n){!function(e){e.httpRequest.method=e.service.api.operations[e.operation].httpMethod}(n),function(e){var t=e.service.api.operations[e.operation],n=t.input,i=r(e.httpRequest.endpoint.path,t.httpPath,n,e.params);e.httpRequest.path=i}(n),function(t){var r=t.service.api.operations[t.operation];e.each(r.input.members,function(r,n){var i=t.params[r];null!=i&&("headers"===n.location&&"map"===n.type?e.each(i,function(e,r){t.httpRequest.headers[n.name+e]=r}):"header"===n.location&&(i=n.toWireFormat(i).toString(),n.isJsonValue&&(i=e.base64.encode(i)),t.httpRequest.headers[n.name]=i))})}(n),t(n)},extractError:function(){},extractData:function(t){var r=t.request,n={},i=t.httpResponse,o=r.service.api.operations[r.operation].output,s={};e.each(i.headers,function(e,t){s[e.toLowerCase()]=t}),e.each(o.members,function(t,r){var o=(r.name||t).toLowerCase();if("headers"===r.location&&"map"===r.type){n[t]={};var a=r.isLocationName?r.name:"",u=new RegExp("^"+a+"(.+)","i");e.each(i.headers,function(e,r){var i=e.match(u);null!==i&&(n[t][i[1]]=r)})}else if("header"===r.location){if(void 0!==s[o]){var c=r.isJsonValue?e.base64.decode(s[o]):s[o];n[t]=r.toType(c)}}else"statusCode"===r.location&&(n[t]=parseInt(i.statusCode,10))}),t.data=n},generateURI:r},N}function pe(){if(F)return M;F=1;var e=Kt(),t=Yr(),r=le(),n=oe(),i=re(),o=ne(),s=["GET","HEAD","DELETE"];function a(e,t){if(!e.httpRequest.headers["Content-Type"]){var r=t?"binary/octet-stream":"application/json";e.httpRequest.headers["Content-Type"]=r}}return M={buildRequest:function(e){r.buildRequest(e),s.indexOf(e.httpRequest.method)<0&&function(e){var t=new i,r=e.service.api.operations[e.operation].input;if(r.payload){var n,o=r.members[r.payload];n=e.params[r.payload],"structure"===o.type?(e.httpRequest.body=t.build(n||{},o),a(e)):void 0!==n&&(e.httpRequest.body=n,("binary"===o.type||o.isStreaming)&&a(e,!0))}else e.httpRequest.body=t.build(e.params,r),a(e)}(e)},extractError:function(e){n.extractError(e)},extractData:function(i){r.extractData(i);var s=i.request,a=s.service.api.operations[s.operation],u=s.service.api.operations[s.operation].output||{};if(a.hasEventOutput,u.payload){var c=u.members[u.payload],l=i.httpResponse.body;if(c.isEventStream)p=new o,i.data[u.payload]=t.createEventStream(2===e.HttpClient.streamsApiVersion?i.httpResponse.stream:l,p,c);else if("structure"===c.type||"list"===c.type){var p=new o;i.data[u.payload]=p.parse(l,c)}else"binary"===c.type||c.isStreaming?i.data[u.payload]=l:i.data[u.payload]=c.toType(l)}else{var h=i.data;n.extractData(i),i.data=t.merge(h,i.data)}},unsetContentLength:function(e){void 0===t.getRequestPayloadShape(e)&&s.indexOf(e.httpRequest.method)>=0&&delete e.httpRequest.headers["Content-Length"]}},M}function he(){if(j)return q;j=1;var e=Kt(),t=Yr(),r=le();return q={buildRequest:function(n){r.buildRequest(n),["GET","HEAD"].indexOf(n.httpRequest.method)<0&&function(r){var n=r.service.api.operations[r.operation].input,i=new e.XML.Builder,o=r.params,s=n.payload;if(s){var a=n.members[s];if(void 0===(o=o[s]))return;if("structure"===a.type){var u=a.name;r.httpRequest.body=i.toXML(o,a,u,!0)}else r.httpRequest.body=o}else r.httpRequest.body=i.toXML(o,n,n.name||n.shape||t.string.upperFirst(r.operation)+"Request")}(n)},extractError:function(n){var i;r.extractError(n);try{i=(new e.XML.Parser).parse(n.httpResponse.body.toString())}catch(e){i={Code:n.httpResponse.statusCode,Message:n.httpResponse.statusMessage}}i.Errors&&(i=i.Errors),i.Error&&(i=i.Error),i.Code?n.error=t.error(new Error,{code:i.Code,message:i.Message}):n.error=t.error(new Error,{code:n.httpResponse.statusCode,message:null})},extractData:function(n){var i;r.extractData(n);var o=n.request,s=n.httpResponse.body,a=o.service.api.operations[o.operation],u=a.output;a.hasEventOutput;var c=u.payload;if(c){var l=u.members[c];l.isEventStream?(i=new e.XML.Parser,n.data[c]=t.createEventStream(2===e.HttpClient.streamsApiVersion?n.httpResponse.stream:n.httpResponse.body,i,l)):"structure"===l.type?(i=new e.XML.Parser,n.data[c]=i.parse(s.toString(),l)):"binary"===l.type||l.isStreaming?n.data[c]=s:n.data[c]=l.toType(s)}else if(s.length>0){var p=(i=new e.XML.Parser).parse(s.toString(),u);t.update(n.data,p)}}},q}function de(){if(W)return V;W=1;var e=(U?B:(U=1,B={escapeAttribute:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}})).escapeAttribute;function t(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return t.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},t.prototype.addChildNode=function(e){return this.children.push(e),this},t.prototype.removeAttribute=function(e){return delete this.attributes[e],this},t.prototype.toString=function(){for(var t=Boolean(this.children.length),r="<"+this.name,n=this.attributes,i=0,o=Object.keys(n);i<o.length;i++){var s=o[i],a=n[s];null!=a&&(r+=" "+s+'="'+e(""+a)+'"')}return r+(t?">"+this.children.map(function(e){return e.toString()}).join("")+"</"+this.name+">":"/>")},V={XmlNode:t}}function fe(){if(G)return K;G=1;var e=(H?z:(H=1,z={escapeElement:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}})).escapeElement;function t(e){this.value=e}return t.prototype.toString=function(){return e(""+this.value)},K={XmlText:t}}function me(){if(Y)return X;Y=1;var e=Yr(),t=de().XmlNode,r=fe().XmlText;function n(){}function i(n,s,a){switch(a.type){case"structure":return function(r,n,s){e.arrayEach(s.memberNames,function(e){var a=s.members[e];if("body"===a.location){var u=n[e],c=a.name;if(null!=u)if(a.isXmlAttribute)r.addAttribute(c,u);else if(a.flattened)i(r,u,a);else{var l=new t(c);r.addChildNode(l),o(l,a),i(l,u,a)}}})}(n,s,a);case"map":return function(r,n,o){var s=o.key.name||"key",a=o.value.name||"value";e.each(n,function(e,n){var u=new t(o.flattened?o.name:"entry");r.addChildNode(u);var c=new t(s),l=new t(a);u.addChildNode(c),u.addChildNode(l),i(c,e,o.key),i(l,n,o.value)})}(n,s,a);case"list":return function(r,n,o){o.flattened?e.arrayEach(n,function(e){var n=o.member.name||o.name,s=new t(n);r.addChildNode(s),i(s,e,o.member)}):e.arrayEach(n,function(e){var n=o.member.name||"member",s=new t(n);r.addChildNode(s),i(s,e,o.member)})}(n,s,a);default:return function(e,t,n){e.addChildNode(new r(n.toWireFormat(t)))}(n,s,a)}}function o(e,t,r){var n,i="xmlns";t.xmlNamespaceUri?(n=t.xmlNamespaceUri,t.xmlNamespacePrefix&&(i+=":"+t.xmlNamespacePrefix)):r&&t.api.xmlNamespaceUri&&(n=t.api.xmlNamespaceUri),n&&e.addAttribute(i,n)}return n.prototype.toXML=function(e,r,n,s){var a=new t(n);return o(a,r,!0),i(a,e,r),a.children.length>0||s?a.toString():""},X=n}function ge(){if(J)return Q;J=1;var e=ue(),t=Yr(),r=t.property,n=t.memoizedProperty;return Q=function(t,i,o){var s=this;o=o||{},r(this,"name",i.name||t),r(this,"api",o.api,!1),i.http=i.http||{},r(this,"endpoint",i.endpoint),r(this,"httpMethod",i.http.method||"POST"),r(this,"httpPath",i.http.requestUri||"/"),r(this,"authtype",i.authtype||""),r(this,"endpointDiscoveryRequired",i.endpointdiscovery?i.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL");var a=i.httpChecksumRequired||i.httpChecksum&&i.httpChecksum.requestChecksumRequired;r(this,"httpChecksumRequired",a,!1),n(this,"input",function(){return i.input?e.create(i.input,o):new e.create({type:"structure"},o)}),n(this,"output",function(){return i.output?e.create(i.output,o):new e.create({type:"structure"},o)}),n(this,"errors",function(){var t=[];if(!i.errors)return null;for(var r=0;r<i.errors.length;r++)t.push(e.create(i.errors[r],o));return t}),n(this,"paginator",function(){return o.api.paginators[t]}),o.documentation&&(r(this,"documentation",i.documentation),r(this,"documentationUrl",i.documentationUrl)),n(this,"idempotentMembers",function(){var e=[],t=s.input,r=t.members;if(!t.members)return e;for(var n in r)r.hasOwnProperty(n)&&!0===r[n].isIdempotent&&e.push(n);return e}),n(this,"hasEventOutput",function(){return function(e){var t=e.members,r=e.payload;if(!e.members)return!1;if(r){return t[r].isEventStream}for(var n in t)if(!t.hasOwnProperty(n)&&!0===t[n].isEventStream)return!0;return!1}(s.output)})}}function ye(){if(Z)return $;Z=1;var e=Yr().property;return $=function(t,r){e(this,"inputToken",r.input_token),e(this,"limitKey",r.limit_key),e(this,"moreResults",r.more_results),e(this,"outputToken",r.output_token),e(this,"resultKey",r.result_key)}}function ve(){if(te)return ee;te=1;var e=Yr(),t=e.property;return ee=function(r,n,i){i=i||{},t(this,"name",r),t(this,"api",i.api,!1),n.operation&&t(this,"operation",e.string.lowerFirst(n.operation));var o=this;["type","description","delay","maxAttempts","acceptors"].forEach(function(e){var r=n[e];r&&t(o,e,r)})}}var be,Ee,we,Se,Ce={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena",cors:!0},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2",cors:!0},glue:{name:"Glue"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog",cors:!0},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"},databrew:{name:"DataBrew"},servicecatalogappregistry:{prefix:"servicecatalog-appregistry",name:"ServiceCatalogAppRegistry"},networkfirewall:{prefix:"network-firewall",name:"NetworkFirewall"},mwaa:{name:"MWAA"},amplifybackend:{name:"AmplifyBackend"},appintegrations:{name:"AppIntegrations"},connectcontactlens:{prefix:"connect-contact-lens",name:"ConnectContactLens"},devopsguru:{prefix:"devops-guru",name:"DevOpsGuru"},ecrpublic:{prefix:"ecr-public",name:"ECRPUBLIC"},lookoutvision:{name:"LookoutVision"},sagemakerfeaturestoreruntime:{prefix:"sagemaker-featurestore-runtime",name:"SageMakerFeatureStoreRuntime"},customerprofiles:{prefix:"customer-profiles",name:"CustomerProfiles"},auditmanager:{name:"AuditManager"},emrcontainers:{prefix:"emr-containers",name:"EMRcontainers"},healthlake:{name:"HealthLake"},sagemakeredge:{prefix:"sagemaker-edge",name:"SagemakerEdge"},amp:{name:"Amp",cors:!0},greengrassv2:{name:"GreengrassV2"},iotdeviceadvisor:{name:"IotDeviceAdvisor"},iotfleethub:{name:"IoTFleetHub"},iotwireless:{name:"IoTWireless"},location:{name:"Location",cors:!0},wellarchitected:{name:"WellArchitected"},lexmodelsv2:{prefix:"models.lex.v2",name:"LexModelsV2"},lexruntimev2:{prefix:"runtime.lex.v2",name:"LexRuntimeV2",cors:!0},fis:{name:"Fis"},lookoutmetrics:{name:"LookoutMetrics"},mgn:{name:"Mgn"},lookoutequipment:{name:"LookoutEquipment"},nimble:{name:"Nimble"},finspace:{name:"Finspace"},finspacedata:{prefix:"finspace-data",name:"Finspacedata"},ssmcontacts:{prefix:"ssm-contacts",name:"SSMContacts"},ssmincidents:{prefix:"ssm-incidents",name:"SSMIncidents"},applicationcostprofiler:{name:"ApplicationCostProfiler"},apprunner:{name:"AppRunner"},proton:{name:"Proton"},route53recoverycluster:{prefix:"route53-recovery-cluster",name:"Route53RecoveryCluster"},route53recoverycontrolconfig:{prefix:"route53-recovery-control-config",name:"Route53RecoveryControlConfig"},route53recoveryreadiness:{prefix:"route53-recovery-readiness",name:"Route53RecoveryReadiness"},chimesdkidentity:{prefix:"chime-sdk-identity",name:"ChimeSDKIdentity"},chimesdkmessaging:{prefix:"chime-sdk-messaging",name:"ChimeSDKMessaging"},snowdevicemanagement:{prefix:"snow-device-management",name:"SnowDeviceManagement"},memorydb:{name:"MemoryDB"},opensearch:{name:"OpenSearch"},kafkaconnect:{name:"KafkaConnect"},voiceid:{prefix:"voice-id",name:"VoiceID"},wisdom:{name:"Wisdom"},account:{name:"Account"},cloudcontrol:{name:"CloudControl"},grafana:{name:"Grafana"},panorama:{name:"Panorama"},chimesdkmeetings:{prefix:"chime-sdk-meetings",name:"ChimeSDKMeetings"},resiliencehub:{name:"Resiliencehub"},migrationhubstrategy:{name:"MigrationHubStrategy"},appconfigdata:{name:"AppConfigData"},drs:{name:"Drs"},migrationhubrefactorspaces:{prefix:"migration-hub-refactor-spaces",name:"MigrationHubRefactorSpaces"},evidently:{name:"Evidently"},inspector2:{name:"Inspector2"},rbin:{name:"Rbin"},rum:{name:"RUM"},backupgateway:{prefix:"backup-gateway",name:"BackupGateway"},iottwinmaker:{name:"IoTTwinMaker"},workspacesweb:{prefix:"workspaces-web",name:"WorkSpacesWeb"},amplifyuibuilder:{name:"AmplifyUIBuilder"},keyspaces:{name:"Keyspaces"},billingconductor:{name:"Billingconductor"},pinpointsmsvoicev2:{prefix:"pinpoint-sms-voice-v2",name:"PinpointSMSVoiceV2"},ivschat:{name:"Ivschat"},chimesdkmediapipelines:{prefix:"chime-sdk-media-pipelines",name:"ChimeSDKMediaPipelines"},emrserverless:{prefix:"emr-serverless",name:"EMRServerless"},m2:{name:"M2"},connectcampaigns:{name:"ConnectCampaigns"},redshiftserverless:{prefix:"redshift-serverless",name:"RedshiftServerless"},rolesanywhere:{name:"RolesAnywhere"},licensemanagerusersubscriptions:{prefix:"license-manager-user-subscriptions",name:"LicenseManagerUserSubscriptions"},privatenetworks:{name:"PrivateNetworks"},supportapp:{prefix:"support-app",name:"SupportApp"},controltower:{name:"ControlTower"},iotfleetwise:{name:"IoTFleetWise"},migrationhuborchestrator:{name:"MigrationHubOrchestrator"},connectcases:{name:"ConnectCases"},resourceexplorer2:{prefix:"resource-explorer-2",name:"ResourceExplorer2"},scheduler:{name:"Scheduler"},chimesdkvoice:{prefix:"chime-sdk-voice",name:"ChimeSDKVoice"},ssmsap:{prefix:"ssm-sap",name:"SsmSap"},oam:{name:"OAM"},arczonalshift:{prefix:"arc-zonal-shift",name:"ARCZonalShift"},omics:{name:"Omics"},opensearchserverless:{name:"OpenSearchServerless"},securitylake:{name:"SecurityLake"},simspaceweaver:{name:"SimSpaceWeaver"},docdbelastic:{prefix:"docdb-elastic",name:"DocDBElastic"},sagemakergeospatial:{prefix:"sagemaker-geospatial",name:"SageMakerGeospatial"},codecatalyst:{name:"CodeCatalyst"},pipes:{name:"Pipes"},sagemakermetrics:{prefix:"sagemaker-metrics",name:"SageMakerMetrics"},kinesisvideowebrtcstorage:{prefix:"kinesis-video-webrtc-storage",name:"KinesisVideoWebRTCStorage"},licensemanagerlinuxsubscriptions:{prefix:"license-manager-linux-subscriptions",name:"LicenseManagerLinuxSubscriptions"},kendraranking:{prefix:"kendra-ranking",name:"KendraRanking"},cleanrooms:{name:"CleanRooms"},cloudtraildata:{prefix:"cloudtrail-data",name:"CloudTrailData"},tnb:{name:"Tnb"},internetmonitor:{name:"InternetMonitor"},ivsrealtime:{prefix:"ivs-realtime",name:"IVSRealTime"},vpclattice:{prefix:"vpc-lattice",name:"VPCLattice"},osis:{name:"OSIS"},mediapackagev2:{name:"MediaPackageV2"},paymentcryptography:{prefix:"payment-cryptography",name:"PaymentCryptography"},paymentcryptographydata:{prefix:"payment-cryptography-data",name:"PaymentCryptographyData"},codegurusecurity:{prefix:"codeguru-security",name:"CodeGuruSecurity"},verifiedpermissions:{name:"VerifiedPermissions"},appfabric:{name:"AppFabric"},medicalimaging:{prefix:"medical-imaging",name:"MedicalImaging"},entityresolution:{name:"EntityResolution"},managedblockchainquery:{prefix:"managedblockchain-query",name:"ManagedBlockchainQuery"},neptunedata:{name:"Neptunedata"},pcaconnectorad:{prefix:"pca-connector-ad",name:"PcaConnectorAd"},bedrock:{name:"Bedrock"},bedrockruntime:{prefix:"bedrock-runtime",name:"BedrockRuntime"},datazone:{name:"DataZone"},launchwizard:{prefix:"launch-wizard",name:"LaunchWizard"},trustedadvisor:{name:"TrustedAdvisor"},inspectorscan:{prefix:"inspector-scan",name:"InspectorScan"},bcmdataexports:{prefix:"bcm-data-exports",name:"BCMDataExports"},costoptimizationhub:{prefix:"cost-optimization-hub",name:"CostOptimizationHub"},eksauth:{prefix:"eks-auth",name:"EKSAuth"},freetier:{name:"FreeTier"},repostspace:{name:"Repostspace"},workspacesthinclient:{prefix:"workspaces-thin-client",name:"WorkSpacesThinClient"},b2bi:{name:"B2bi"},bedrockagent:{prefix:"bedrock-agent",name:"BedrockAgent"},bedrockagentruntime:{prefix:"bedrock-agent-runtime",name:"BedrockAgentRuntime"},qbusiness:{name:"QBusiness"},qconnect:{name:"QConnect"},cleanroomsml:{name:"CleanRoomsML"},marketplaceagreement:{prefix:"marketplace-agreement",name:"MarketplaceAgreement"},marketplacedeployment:{prefix:"marketplace-deployment",name:"MarketplaceDeployment"},networkmonitor:{name:"NetworkMonitor"},supplychain:{name:"SupplyChain"},artifact:{name:"Artifact"},chatbot:{name:"Chatbot"},timestreaminfluxdb:{prefix:"timestream-influxdb",name:"TimestreamInfluxDB"},codeconnections:{name:"CodeConnections"},deadline:{name:"Deadline"},controlcatalog:{name:"ControlCatalog"},route53profiles:{name:"Route53Profiles"},mailmanager:{name:"MailManager"},taxsettings:{name:"TaxSettings"},applicationsignals:{prefix:"application-signals",name:"ApplicationSignals"},pcaconnectorscep:{prefix:"pca-connector-scep",name:"PcaConnectorScep"},apptest:{name:"AppTest"},qapps:{name:"QApps"},ssmquicksetup:{prefix:"ssm-quicksetup",name:"SSMQuickSetup"},pcs:{name:"PCS"}};function Te(){if(Ee)return be;Ee=1;var e=ae(),t=ge(),r=ue(),n=ye(),i=ve(),o=Ce,s=Yr(),a=s.property,u=s.memoizedProperty;return be=function(c,l){var p=this;c=c||{},(l=l||{}).api=this,c.metadata=c.metadata||{};var h=l.serviceIdentifier;delete l.serviceIdentifier,a(this,"isApi",!0,!1),a(this,"apiVersion",c.metadata.apiVersion),a(this,"endpointPrefix",c.metadata.endpointPrefix),a(this,"signingName",c.metadata.signingName),a(this,"globalEndpoint",c.metadata.globalEndpoint),a(this,"signatureVersion",c.metadata.signatureVersion),a(this,"jsonVersion",c.metadata.jsonVersion),a(this,"targetPrefix",c.metadata.targetPrefix),a(this,"protocol",c.metadata.protocol),a(this,"timestampFormat",c.metadata.timestampFormat),a(this,"xmlNamespaceUri",c.metadata.xmlNamespace),a(this,"abbreviation",c.metadata.serviceAbbreviation),a(this,"fullName",c.metadata.serviceFullName),a(this,"serviceId",c.metadata.serviceId),h&&o[h]&&a(this,"xmlNoDefaultLists",o[h].xmlNoDefaultLists,!1),u(this,"className",function(){var e=c.metadata.serviceAbbreviation||c.metadata.serviceFullName;return e?("ElasticLoadBalancing"===(e=e.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""))&&(e="ELB"),e):null}),a(this,"operations",new e(c.operations,l,function(e,r){return new t(e,r,l)},s.string.lowerFirst,function(e,t){!0===t.endpointoperation&&a(p,"endpointOperation",s.string.lowerFirst(e)),t.endpointdiscovery&&!p.hasRequiredEndpointDiscovery&&a(p,"hasRequiredEndpointDiscovery",!0===t.endpointdiscovery.required)})),a(this,"shapes",new e(c.shapes,l,function(e,t){return r.create(t,l)})),a(this,"paginators",new e(c.paginators,l,function(e,t){return new n(e,t,l)})),a(this,"waiters",new e(c.waiters,l,function(e,t){return new i(e,t,l)},s.string.lowerFirst)),l.documentation&&(a(this,"documentation",c.documentation),a(this,"documentationUrl",c.documentationUrl)),a(this,"awsQueryCompatible",c.metadata.awsQueryCompatible)},be}function _e(){if(Se)return we;function e(t,r){if(!e.services.hasOwnProperty(t))throw new Error("InvalidService: Failed to load api for "+t);return e.services[t][r]}return Se=1,e.services={},we=e}var Ie,xe,Ae,Pe,Oe={},ke={};function Re(){if(xe)return Oe;xe=1,Object.defineProperty(Oe,"__esModule",{value:!0});var e=function(){if(Ie)return ke;Ie=1,Object.defineProperty(ke,"__esModule",{value:!0});var e=function(e,t){this.key=e,this.value=t},t=function(){function t(e){if(this.nodeMap={},this.size=0,"number"!=typeof e||e<1)throw new Error("Cache size can only be positive number");this.sizeLimit=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),t.prototype.prependToList=function(e){this.headerNode?(this.headerNode.prev=e,e.next=this.headerNode):this.tailNode=e,this.headerNode=e,this.size++},t.prototype.removeFromTail=function(){if(this.tailNode){var e=this.tailNode,t=e.prev;return t&&(t.next=void 0),e.prev=void 0,this.tailNode=t,this.size--,e}},t.prototype.detachFromList=function(e){this.headerNode===e&&(this.headerNode=e.next),this.tailNode===e&&(this.tailNode=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.next=void 0,e.prev=void 0,this.size--},t.prototype.get=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];return this.detachFromList(t),this.prependToList(t),t.value}},t.prototype.remove=function(e){if(this.nodeMap[e]){var t=this.nodeMap[e];this.detachFromList(t),delete this.nodeMap[e]}},t.prototype.put=function(t,r){if(this.nodeMap[t])this.remove(t);else if(this.size===this.sizeLimit){var n=this.removeFromTail().key;delete this.nodeMap[n]}var i=new e(t,r);this.nodeMap[t]=i,this.prependToList(i)},t.prototype.empty=function(){for(var e=Object.keys(this.nodeMap),t=0;t<e.length;t++){var r=e[t],n=this.nodeMap[r];this.detachFromList(n),delete this.nodeMap[r]}},t}();return ke.LRUCache=t,ke}(),t=function(){function t(t){void 0===t&&(t=1e3),this.maxSize=t,this.cache=new e.LRUCache(t)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),t.prototype.put=function(e,r){var n="string"!=typeof e?t.getKeyString(e):e,i=this.populateValue(r);this.cache.put(n,i)},t.prototype.get=function(e){var r="string"!=typeof e?t.getKeyString(e):e,n=Date.now(),i=this.cache.get(r);if(i){for(var o=i.length-1;o>=0;o--){i[o].Expire<n&&i.splice(o,1)}if(0===i.length)return void this.cache.remove(r)}return i},t.getKeyString=function(e){for(var t=[],r=Object.keys(e).sort(),n=0;n<r.length;n++){var i=r[n];void 0!==e[i]&&t.push(e[i])}return t.join(" ")},t.prototype.populateValue=function(e){var t=Date.now();return e.map(function(e){return{Address:e.Address||"",Expire:t+60*(e.CachePeriodInMinutes||1)*1e3}})},t.prototype.empty=function(){this.cache.empty()},t.prototype.remove=function(e){var r="string"!=typeof e?t.getKeyString(e):e;this.cache.remove(r)},t}();return Oe.EndpointCache=t,Oe}function De(){if(Pe)return Ae;Pe=1;var e=Kt();return e.SequentialExecutor=e.util.inherit({constructor:function(){this._events={}},listeners:function(e){return this._events[e]?this._events[e].slice(0):[]},on:function(e,t,r){return this._events[e]?r?this._events[e].unshift(t):this._events[e].push(t):this._events[e]=[t],this},onAsync:function(e,t,r){return t._isAsync=!0,this.on(e,t,r)},removeListener:function(e,t){var r=this._events[e];if(r){for(var n=r.length,i=-1,o=0;o<n;++o)r[o]===t&&(i=o);i>-1&&r.splice(i,1)}return this},removeAllListeners:function(e){return e?delete this._events[e]:this._events={},this},emit:function(e,t,r){r||(r=function(){});var n=this.listeners(e),i=n.length;return this.callListeners(n,t,r),i>0},callListeners:function(t,r,n,i){var o=this,s=i||null;function a(i){if(i&&(s=e.util.error(s||new Error,i),o._haltHandlersOnError))return n.call(o,s);o.callListeners(t,r,n,s)}for(;t.length>0;){var u=t.shift();if(u._isAsync)return void u.apply(o,r.concat([a]));try{u.apply(o,r)}catch(t){s=e.util.error(s||new Error,t)}if(s&&o._haltHandlersOnError)return void n.call(o,s)}n.call(o,s)},addListeners:function(t){var r=this;return t._events&&(t=t._events),e.util.each(t,function(t,n){"function"==typeof n&&(n=[n]),e.util.arrayEach(n,function(e){r.on(t,e)})}),r},addNamedListener:function(e,t,r,n){return this[e]=r,this.addListener(t,r,n),this},addNamedAsyncListener:function(e,t,r,n){return r._isAsync=!0,this.addNamedListener(e,t,r,n)},addNamedListeners:function(e){var t=this;return e(function(){t.addNamedListener.apply(t,arguments)},function(){t.addNamedAsyncListener.apply(t,arguments)}),this}}),e.SequentialExecutor.prototype.addListener=e.SequentialExecutor.prototype.on,Ae=e.SequentialExecutor}var Ne,Le,Me,Fe,qe,je,Be={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"eu-isoe-*/*":"euIsoe","us-iso-*/*":"usIso","us-isob-*/*":"usIsob","us-isof-*/*":"usIsof","*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","us-iso-*/route53":{endpoint:"{service}.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-isob-*/route53":{endpoint:"{service}.sc2s.sgov.gov",globalEndpoint:!0,signingRegion:"us-isob-east-1"},"us-isof-*/route53":"globalUsIsof","eu-isoe-*/route53":"globalEuIsoe","*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-iso-*/iam":{endpoint:"{service}.us-iso-east-1.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-gov-*/iam":"globalGovCloud","*/ce":{endpoint:"{service}.us-east-1.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},"cn-*/ce":{endpoint:"{service}.cn-northwest-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"},"*/resource-explorer-2":"dualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"globalDualstackByDefault"},fipsRules:{"*/*":"fipsStandard","us-gov-*/*":"fipsStandard","us-iso-*/*":{endpoint:"{service}-fips.{region}.c2s.ic.gov"},"us-iso-*/dms":"usIso","us-isob-*/*":{endpoint:"{service}-fips.{region}.sc2s.sgov.gov"},"us-isob-*/dms":"usIsob","cn-*/*":{endpoint:"{service}-fips.{region}.amazonaws.com.cn"},"*/api.ecr":"fips.api.ecr","*/api.sagemaker":"fips.api.sagemaker","*/batch":"fipsDotPrefix","*/eks":"fipsDotPrefix","*/models.lex":"fips.models.lex","*/runtime.lex":"fips.runtime.lex","*/runtime.sagemaker":{endpoint:"runtime-fips.sagemaker.{region}.amazonaws.com"},"*/iam":"fipsWithoutRegion","*/route53":"fipsWithoutRegion","*/transcribe":"fipsDotPrefix","*/waf":"fipsWithoutRegion","us-gov-*/transcribe":"fipsDotPrefix","us-gov-*/api.ecr":"fips.api.ecr","us-gov-*/models.lex":"fips.models.lex","us-gov-*/runtime.lex":"fips.runtime.lex","us-gov-*/access-analyzer":"fipsWithServiceOnly","us-gov-*/acm":"fipsWithServiceOnly","us-gov-*/acm-pca":"fipsWithServiceOnly","us-gov-*/api.sagemaker":"fipsWithServiceOnly","us-gov-*/appconfig":"fipsWithServiceOnly","us-gov-*/application-autoscaling":"fipsWithServiceOnly","us-gov-*/autoscaling":"fipsWithServiceOnly","us-gov-*/autoscaling-plans":"fipsWithServiceOnly","us-gov-*/batch":"fipsWithServiceOnly","us-gov-*/cassandra":"fipsWithServiceOnly","us-gov-*/clouddirectory":"fipsWithServiceOnly","us-gov-*/cloudformation":"fipsWithServiceOnly","us-gov-*/cloudshell":"fipsWithServiceOnly","us-gov-*/cloudtrail":"fipsWithServiceOnly","us-gov-*/config":"fipsWithServiceOnly","us-gov-*/connect":"fipsWithServiceOnly","us-gov-*/databrew":"fipsWithServiceOnly","us-gov-*/dlm":"fipsWithServiceOnly","us-gov-*/dms":"fipsWithServiceOnly","us-gov-*/dynamodb":"fipsWithServiceOnly","us-gov-*/ec2":"fipsWithServiceOnly","us-gov-*/eks":"fipsWithServiceOnly","us-gov-*/elasticache":"fipsWithServiceOnly","us-gov-*/elasticbeanstalk":"fipsWithServiceOnly","us-gov-*/elasticloadbalancing":"fipsWithServiceOnly","us-gov-*/elasticmapreduce":"fipsWithServiceOnly","us-gov-*/events":"fipsWithServiceOnly","us-gov-*/fis":"fipsWithServiceOnly","us-gov-*/glacier":"fipsWithServiceOnly","us-gov-*/greengrass":"fipsWithServiceOnly","us-gov-*/guardduty":"fipsWithServiceOnly","us-gov-*/identitystore":"fipsWithServiceOnly","us-gov-*/imagebuilder":"fipsWithServiceOnly","us-gov-*/kafka":"fipsWithServiceOnly","us-gov-*/kinesis":"fipsWithServiceOnly","us-gov-*/logs":"fipsWithServiceOnly","us-gov-*/mediaconvert":"fipsWithServiceOnly","us-gov-*/monitoring":"fipsWithServiceOnly","us-gov-*/networkmanager":"fipsWithServiceOnly","us-gov-*/organizations":"fipsWithServiceOnly","us-gov-*/outposts":"fipsWithServiceOnly","us-gov-*/participant.connect":"fipsWithServiceOnly","us-gov-*/ram":"fipsWithServiceOnly","us-gov-*/rds":"fipsWithServiceOnly","us-gov-*/redshift":"fipsWithServiceOnly","us-gov-*/resource-groups":"fipsWithServiceOnly","us-gov-*/runtime.sagemaker":"fipsWithServiceOnly","us-gov-*/serverlessrepo":"fipsWithServiceOnly","us-gov-*/servicecatalog-appregistry":"fipsWithServiceOnly","us-gov-*/servicequotas":"fipsWithServiceOnly","us-gov-*/sns":"fipsWithServiceOnly","us-gov-*/sqs":"fipsWithServiceOnly","us-gov-*/ssm":"fipsWithServiceOnly","us-gov-*/streams.dynamodb":"fipsWithServiceOnly","us-gov-*/sts":"fipsWithServiceOnly","us-gov-*/support":"fipsWithServiceOnly","us-gov-*/swf":"fipsWithServiceOnly","us-gov-west-1/states":"fipsWithServiceOnly","us-iso-east-1/elasticfilesystem":{endpoint:"elasticfilesystem-fips.{region}.c2s.ic.gov"},"us-gov-west-1/organizations":"fipsWithServiceOnly","us-gov-west-1/route53":{endpoint:"route53.us-gov.amazonaws.com"},"*/resource-explorer-2":"fipsDualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"fipsGlobalDualstackByDefault"},dualstackRules:{"*/*":{endpoint:"{service}.{region}.api.aws"},"cn-*/*":{endpoint:"{service}.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackLegacy","cn-*/s3":"dualstackLegacyCn","*/s3-control":"dualstackLegacy","cn-*/s3-control":"dualstackLegacyCn","ap-south-1/ec2":"dualstackLegacyEc2","eu-west-1/ec2":"dualstackLegacyEc2","sa-east-1/ec2":"dualstackLegacyEc2","us-east-1/ec2":"dualstackLegacyEc2","us-east-2/ec2":"dualstackLegacyEc2","us-west-2/ec2":"dualstackLegacyEc2"},dualstackFipsRules:{"*/*":{endpoint:"{service}-fips.{region}.api.aws"},"cn-*/*":{endpoint:"{service}-fips.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackFipsLegacy","cn-*/s3":"dualstackFipsLegacyCn","*/s3-control":"dualstackFipsLegacy","cn-*/s3-control":"dualstackFipsLegacyCn"},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},globalUsIsof:{endpoint:"{service}.csp.hci.ic.gov",globalEndpoint:!0,signingRegion:"us-isof-south-1"},globalEuIsoe:{endpoint:"{service}.cloud.adc-e.uk",globalEndpoint:!0,signingRegion:"eu-isoe-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"},euIsoe:{endpoint:"{service}.{region}.cloud.adc-e.uk"},usIso:{endpoint:"{service}.{region}.c2s.ic.gov"},usIsob:{endpoint:"{service}.{region}.sc2s.sgov.gov"},usIsof:{endpoint:"{service}.{region}.csp.hci.ic.gov"},fipsStandard:{endpoint:"{service}-fips.{region}.amazonaws.com"},fipsDotPrefix:{endpoint:"fips.{service}.{region}.amazonaws.com"},fipsWithoutRegion:{endpoint:"{service}-fips.amazonaws.com"},"fips.api.ecr":{endpoint:"ecr-fips.{region}.amazonaws.com"},"fips.api.sagemaker":{endpoint:"api-fips.sagemaker.{region}.amazonaws.com"},"fips.models.lex":{endpoint:"models-fips.lex.{region}.amazonaws.com"},"fips.runtime.lex":{endpoint:"runtime-fips.lex.{region}.amazonaws.com"},fipsWithServiceOnly:{endpoint:"{service}.{region}.amazonaws.com"},dualstackLegacy:{endpoint:"{service}.dualstack.{region}.amazonaws.com"},dualstackLegacyCn:{endpoint:"{service}.dualstack.{region}.amazonaws.com.cn"},dualstackFipsLegacy:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com"},dualstackFipsLegacyCn:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com.cn"},dualstackLegacyEc2:{endpoint:"api.ec2.{region}.aws"},dualstackByDefault:{endpoint:"{service}.{region}.api.aws"},fipsDualstackByDefault:{endpoint:"{service}-fips.{region}.api.aws"},globalDualstackByDefault:{endpoint:"{service}.global.api.aws"},fipsGlobalDualstackByDefault:{endpoint:"{service}-fips.global.api.aws"}}};function Ue(){if(Fe)return Me;return Fe=1,Me={isFipsRegion:function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},isGlobalRegion:function(e){return"string"==typeof e&&["aws-global","aws-us-gov-global"].includes(e)},getRealRegion:function(e){return["fips-aws-global","aws-fips","aws-global"].includes(e)?"us-east-1":["fips-aws-us-gov-global","aws-us-gov-global"].includes(e)?"us-gov-west-1":e.replace(/fips-(dkr-|prod-)?|-fips/,"")}}}function Ve(){if(je)return qe;je=1;var e=Kt(),t=Te(),r=function(){if(Le)return Ne;Le=1;var e=Yr(),t=Be;function r(t,r){e.each(r,function(e,r){"globalEndpoint"!==e&&(void 0!==t.config[e]&&null!==t.config[e]||(t.config[e]=r))})}return Ne={configureEndpoint:function(e){for(var n=function(e){var t=e.config.region,r=function(e){if(!e)return null;var t=e.split("-");return t.length<3?null:t.slice(0,t.length-2).join("-")+"-*"}(t),n=e.api.endpointPrefix;return[[t,n],[r,n],[t,"*"],[r,"*"],["*",n],[t,"internal-*"],["*","*"]].map(function(e){return e[0]&&e[1]?e.join("/"):null})}(e),i=e.config.useFipsEndpoint,o=e.config.useDualstackEndpoint,s=0;s<n.length;s++){var a=n[s];if(a){var u=i?o?t.dualstackFipsRules:t.fipsRules:o?t.dualstackRules:t.rules;if(Object.prototype.hasOwnProperty.call(u,a)){var c=u[a];"string"==typeof c&&(c=t.patterns[c]),e.isGlobalEndpoint=!!c.globalEndpoint,c.signingRegion&&(e.signingRegion=c.signingRegion),c.signatureVersion||(c.signatureVersion="v4");var l="bearer"===(e.api&&e.api.signatureVersion);return void r(e,Object.assign({},c,{signatureVersion:l?"bearer":c.signatureVersion}))}}}},getEndpointSuffix:function(e){for(var t={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov","^eu\\-isoe\\-west\\-1$":"cloud.adc-e.uk","^us\\-isof\\-\\w+\\-\\d+$":"csp.hci.ic.gov"},r=Object.keys(t),n=0;n<r.length;n++){var i=RegExp(r[n]),o=t[r[n]];if(i.test(e))return o}return"amazonaws.com"}},Ne}(),n=e.util.inherit,i=0,o=Ue();return e.Service=n({constructor:function(t){if(!this.loadServiceClass)throw e.util.error(new Error,"Service must be constructed with `new' operator");if(t){if(t.region){var r=t.region;o.isFipsRegion(r)&&(t.region=o.getRealRegion(r),t.useFipsEndpoint=!0),o.isGlobalRegion(r)&&(t.region=o.getRealRegion(r))}"boolean"==typeof t.useDualstack&&"boolean"!=typeof t.useDualstackEndpoint&&(t.useDualstackEndpoint=t.useDualstack)}var n=this.loadServiceClass(t||{});if(n){var s=e.util.copy(t),a=new n(t);return Object.defineProperty(a,"_originalConfig",{get:function(){return s},enumerable:!1,configurable:!0}),a._clientId=++i,a}this.initialize(t)},initialize:function(t){var n=e.config[this.serviceIdentifier];if(this.config=new e.Config(e.config),n&&this.config.update(n,!0),t&&this.config.update(t,!0),this.validateService(),this.config.endpoint||r.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),e.SequentialExecutor.call(this),e.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||e.Service._clientSideMonitoring)&&this.publisher){var i=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",function(e){process.nextTick(function(){i.eventHandler(e)})}),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",function(e){process.nextTick(function(){i.eventHandler(e)})})}},validateService:function(){},loadServiceClass:function(t){var r=t;if(e.util.isEmpty(this.api)){if(r.apiConfig)return e.Service.defineServiceApi(this.constructor,r.apiConfig);if(this.constructor.services){(r=new e.Config(e.config)).update(t,!0);var n=r.apiVersions[this.constructor.serviceIdentifier];return n=n||r.apiVersion,this.getLatestServiceClass(n)}return null}return null},getLatestServiceClass:function(t){return t=this.getLatestServiceVersion(t),null===this.constructor.services[t]&&e.Service.defineServiceApi(this.constructor,t),this.constructor.services[t]},getLatestServiceVersion:function(t){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(t?e.util.isType(t,Date)&&(t=e.util.date.iso8601(t).split("T")[0]):t="latest",Object.hasOwnProperty(this.constructor.services,t))return t;for(var r=Object.keys(this.constructor.services).sort(),n=null,i=r.length-1;i>=0;i--)if("*"!==r[i][r[i].length-1]&&(n=r[i]),r[i].substr(0,10)<=t)return n;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+t+"'")},api:{},defaultRetryCount:3,customizeRequests:function(e){if(e){if("function"!=typeof e)throw new Error("Invalid callback type '"+typeof e+"' provided in customizeRequests");this.customRequestHandler=e}else this.customRequestHandler=null},makeRequest:function(t,r,n){if("function"==typeof r&&(n=r,r=null),r=r||{},this.config.params){var i=this.api.operations[t];i&&(r=e.util.copy(r),e.util.each(this.config.params,function(e,t){i.input.members[e]&&(void 0!==r[e]&&null!==r[e]||(r[e]=t))}))}var o=new e.Request(this,t,r);return this.addAllRequestListeners(o),this.attachMonitoringEmitter(o),n&&o.send(n),o},makeUnauthenticatedRequest:function(e,t,r){"function"==typeof t&&(r=t,t={});var n=this.makeRequest(e,t).toUnauthenticated();return r?n.send(r):n},waitFor:function(t,r,n){return new e.ResourceWaiter(this,t).wait(r,n)},addAllRequestListeners:function(t){for(var r=[e.events,e.EventListeners.Core,this.serviceInterface(),e.EventListeners.CorePost],n=0;n<r.length;n++)r[n]&&t.addListeners(r[n]);this.config.paramValidation||t.removeListener("validate",e.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&t.addListeners(e.EventListeners.Logger),this.setupRequestListeners(t),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(t),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(t)},apiCallEvent:function(e){var t=e.service.api.operations[e.operation],r={Type:"ApiCall",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Region:e.httpRequest.region,MaxRetriesExceeded:0,UserAgent:e.httpRequest.getUserAgent()},n=e.response;if(n.httpResponse.statusCode&&(r.FinalHttpStatusCode=n.httpResponse.statusCode),n.error){var i=n.error;n.httpResponse.statusCode>299?(i.code&&(r.FinalAwsException=i.code),i.message&&(r.FinalAwsExceptionMessage=i.message)):((i.code||i.name)&&(r.FinalSdkException=i.code||i.name),i.message&&(r.FinalSdkExceptionMessage=i.message))}return r},apiAttemptEvent:function(e){var t=e.service.api.operations[e.operation],r={Type:"ApiCallAttempt",Api:t?t.name:e.operation,Version:1,Service:e.service.api.serviceId||e.service.api.endpointPrefix,Fqdn:e.httpRequest.endpoint.hostname,UserAgent:e.httpRequest.getUserAgent()},n=e.response;return n.httpResponse.statusCode&&(r.HttpStatusCode=n.httpResponse.statusCode),!e._unAuthenticated&&e.service.config.credentials&&e.service.config.credentials.accessKeyId&&(r.AccessKey=e.service.config.credentials.accessKeyId),n.httpResponse.headers?(e.httpRequest.headers["x-amz-security-token"]&&(r.SessionToken=e.httpRequest.headers["x-amz-security-token"]),n.httpResponse.headers["x-amzn-requestid"]&&(r.XAmznRequestId=n.httpResponse.headers["x-amzn-requestid"]),n.httpResponse.headers["x-amz-request-id"]&&(r.XAmzRequestId=n.httpResponse.headers["x-amz-request-id"]),n.httpResponse.headers["x-amz-id-2"]&&(r.XAmzId2=n.httpResponse.headers["x-amz-id-2"]),r):r},attemptFailEvent:function(e){var t=this.apiAttemptEvent(e),r=e.response,n=r.error;return r.httpResponse.statusCode>299?(n.code&&(t.AwsException=n.code),n.message&&(t.AwsExceptionMessage=n.message)):((n.code||n.name)&&(t.SdkException=n.code||n.name),n.message&&(t.SdkExceptionMessage=n.message)),t},attachMonitoringEmitter:function(t){var r,n,i,o,s,a,u=0,c=this,l=!0;t.on("validate",function(){o=e.util.realClock.now(),a=Date.now()},l),t.on("sign",function(){n=e.util.realClock.now(),r=Date.now(),s=t.httpRequest.region,u++},l),t.on("validateResponse",function(){i=Math.round(e.util.realClock.now()-n)}),t.addNamedListener("API_CALL_ATTEMPT","success",function(){var e=c.apiAttemptEvent(t);e.Timestamp=r,e.AttemptLatency=i>=0?i:0,e.Region=s,c.emit("apiCallAttempt",[e])}),t.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",function(){var o=c.attemptFailEvent(t);o.Timestamp=r,i=i||Math.round(e.util.realClock.now()-n),o.AttemptLatency=i>=0?i:0,o.Region=s,c.emit("apiCallAttempt",[o])}),t.addNamedListener("API_CALL","complete",function(){var r=c.apiCallEvent(t);if(r.AttemptCount=u,!(r.AttemptCount<=0)){r.Timestamp=a;var n=Math.round(e.util.realClock.now()-o);r.Latency=n>=0?n:0;var i=t.response;i.error&&i.error.retryable&&"number"==typeof i.retryCount&&"number"==typeof i.maxRetries&&i.retryCount>=i.maxRetries&&(r.MaxRetriesExceeded=1),c.emit("apiCall",[r])}})},setupRequestListeners:function(e){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(t){var r,n=null,i="";t&&(i=(n=(t.service.api.operations||{})[t.operation]||null)?n.authtype:"");return r=this.config.signatureVersion?this.config.signatureVersion:"v4"===i||"v4-unsigned-body"===i?"v4":"bearer"===i?"bearer":this.api.signatureVersion,e.Signers.RequestSigner.getVersion(r)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return e.EventListeners.Query;case"json":return e.EventListeners.Json;case"rest-json":return e.EventListeners.RestJson;case"rest-xml":return e.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(e){return e.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(t,r){return e.util.calculateRetryDelay(t,this.config.retryDelayOptions,r)},retryableError:function(e){return!!this.timeoutError(e)||(!!this.networkingError(e)||(!!this.expiredCredentialsError(e)||(!!this.throttledError(e)||e.statusCode>=500)))},networkingError:function(e){return"NetworkingError"===e.code},timeoutError:function(e){return"TimeoutError"===e.code},expiredCredentialsError:function(e){return"ExpiredTokenException"===e.code},clockSkewError:function(e){switch(e.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(e){e&&(this.config.systemClockOffset=e-Date.now())},isClockSkewed:function(e){if(e)return Math.abs(this.getSkewCorrectedDate().getTime()-e)>=3e5},throttledError:function(e){if(429===e.statusCode)return!0;switch(e.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(e){if("string"!=typeof e)return e;var t=e;return t=(t=(t=t.replace(/\{service\}/g,this.api.endpointPrefix)).replace(/\{region\}/g,this.config.region)).replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(t){this.endpoint=new e.Endpoint(t,this.config)},paginationConfig:function(t,r){var n=this.api.operations[t].paginator;if(!n){if(r){var i=new Error;throw e.util.error(i,"No pagination configuration for "+t)}return null}return n}}),e.util.update(e.Service,{defineMethods:function(t){e.util.each(t.prototype.api.operations,function(e){t.prototype[e]||("none"===t.prototype.api.operations[e].authtype?t.prototype[e]=function(t,r){return this.makeUnauthenticatedRequest(e,t,r)}:t.prototype[e]=function(t,r){return this.makeRequest(e,t,r)})})},defineService:function(t,r,i){e.Service._serviceMap[t]=!0,Array.isArray(r)||(i=r,r=[]);var o=n(e.Service,i||{});if("string"==typeof t){e.Service.addVersions(o,r);var s=o.serviceIdentifier||t;o.serviceIdentifier=s}else o.prototype.api=t,e.Service.defineMethods(o);if(e.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&e.util.clientSideMonitoring){var a=e.util.clientSideMonitoring.Publisher,u=(0,e.util.clientSideMonitoring.configProvider)();this.prototype.publisher=new a(u),u.enabled&&(e.Service._clientSideMonitoring=!0)}return e.SequentialExecutor.call(o.prototype),e.Service.addDefaultMonitoringListeners(o.prototype),o},addVersions:function(e,t){Array.isArray(t)||(t=[t]),e.services=e.services||{};for(var r=0;r<t.length;r++)void 0===e.services[t[r]]&&(e.services[t[r]]=null);e.apiVersions=Object.keys(e.services).sort()},defineServiceApi:function(r,i,o){var s=n(r,{serviceIdentifier:r.serviceIdentifier});function a(e){e.isApi?s.prototype.api=e:s.prototype.api=new t(e,{serviceIdentifier:r.serviceIdentifier})}if("string"==typeof i){if(o)a(o);else try{a(e.apiLoader(r.serviceIdentifier,i))}catch(t){throw e.util.error(t,{message:"Could not find API configuration "+r.serviceIdentifier+"-"+i})}Object.prototype.hasOwnProperty.call(r.services,i)||(r.apiVersions=r.apiVersions.concat(i).sort()),r.services[i]=s}else a(i);return e.Service.defineMethods(s),s},hasService:function(t){return Object.prototype.hasOwnProperty.call(e.Service._serviceMap,t)},addDefaultMonitoringListeners:function(e){e.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",function(t){var r=Object.getPrototypeOf(e);r._events&&r.emit("apiCallAttempt",[t])}),e.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",function(t){var r=Object.getPrototypeOf(e);r._events&&r.emit("apiCall",[t])})},_serviceMap:{}}),e.util.mixin(e.Service,e.SequentialExecutor),qe=e.Service}var We,ze={},He={};function Ke(){if(We)return He;We=1;var e=Kt();return e.Credentials=e.util.inherit({constructor:function(){if(e.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&"object"==typeof arguments[0]){var t=arguments[0].credentials||arguments[0];this.accessKeyId=t.accessKeyId,this.secretAccessKey=t.secretAccessKey,this.sessionToken=t.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var t=e.util.date.getDate().getTime(),r=new Date(t+1e3*this.expiryWindow);return!!(this.expireTime&&r>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(e){var t=this;this.needsRefresh()?this.refresh(function(r){r||(t.expired=!1),e&&e(r)}):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(t,r){var n=this;1===n.refreshCallbacks.push(t)&&n.load(function(t){e.util.arrayEach(n.refreshCallbacks,function(n){r?n(t):e.util.defer(function(){n(t)})}),n.refreshCallbacks.length=0})},load:function(e){e()}}),e.Credentials.addPromisesToClass=function(t){this.prototype.getPromise=e.util.promisifyMethod("get",t),this.prototype.refreshPromise=e.util.promisifyMethod("refresh",t)},e.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},e.util.addPromises(e.Credentials),He}var Ge,Xe,Ye={};function Qe(){if(Ge)return Ye;Ge=1;var e=Kt();return e.CredentialProviderChain=e.util.inherit(e.Credentials,{constructor:function(t){this.providers=t||e.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(t){var r=this;if(0===r.providers.length)return t(new Error("No providers")),r;if(1===r.resolveCallbacks.push(t)){var n=0,i=r.providers.slice(0);function o(t,s){if(!t&&s||n===i.length)return e.util.arrayEach(r.resolveCallbacks,function(e){e(t,s)}),void(r.resolveCallbacks.length=0);var a=i[n++];(s="function"==typeof a?a.call():a).get?s.get(function(e){o(e,e?null:s)}):o(null,s)}o()}return r}}),e.CredentialProviderChain.defaultProviders=[],e.CredentialProviderChain.addPromisesToClass=function(t){this.prototype.resolvePromise=e.util.promisifyMethod("resolve",t)},e.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},e.util.addPromises(e.CredentialProviderChain),Ye}var Je,$e={};function Ze(){if(Je)return $e;Je=1;var e=Kt(),t=e.util.inherit;return e.Endpoint=t({constructor:function(t,r){if(e.util.hideProperties(this,["slashes","auth","hash","search","query"]),null==t)throw new Error("Invalid endpoint: "+t);if("string"!=typeof t)return e.util.copy(t);t.match(/^http/)||(t=((r&&void 0!==r.sslEnabled?r.sslEnabled:e.config.sslEnabled)?"https":"http")+"://"+t);e.util.update(this,e.util.urlParse(t)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),e.HttpRequest=t({constructor:function(t,r){t=new e.Endpoint(t),this.method="POST",this.path=t.path||"/",this.headers={},this.body="",this.endpoint=t,this.region=r,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=e.util.userAgent()},getUserAgentHeaderName:function(){return(e.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(e){"string"==typeof e&&e&&(this._userAgent+=" "+e),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var t=this.path.split("?",2)[1];return t?(t=e.util.queryStringParse(t),e.util.queryParamsToString(t)):""},updateEndpoint:function(t){var r=new e.Endpoint(t);this.endpoint=r,this.path=r.path||"/",this.headers.Host&&(this.headers.Host=r.host)}}),e.HttpResponse=t({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),e.HttpClient=t({}),e.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton},$e}var et,tt,rt,nt={};function it(){if(tt)return et;tt=1;var e=Kt(),t=Yr(),r=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function n(e){var t=e.service,r=t.api||{};r.operations;var n={};return t.config.region&&(n.region=t.config.region),r.serviceId&&(n.serviceId=r.serviceId),t.config.credentials.accessKeyId&&(n.accessKeyId=t.config.credentials.accessKeyId),n}function i(e,r,n){n&&null!=r&&"structure"===n.type&&n.required&&n.required.length>0&&t.arrayEach(n.required,function(t){var o=n.members[t];if(!0===o.endpointDiscoveryId){var s=o.isLocationName?o.name:t;e[s]=String(r[t])}else i(e,r[t],o)})}function o(e,t){var r={};return i(r,e.params,t),r}function s(r){var i=r.service,s=i.api,a=s.operations?s.operations[r.operation]:void 0,u=o(r,a?a.input:void 0),l=n(r);Object.keys(u).length>0&&(l=t.update(l,u),a&&(l.operation=a.name));var p=e.endpointCache.get(l);if(!p||1!==p.length||""!==p[0].Address)if(p&&p.length>0)r.httpRequest.updateEndpoint(p[0].Address);else{var h=i.makeRequest(s.endpointOperation,{Operation:a.name,Identifiers:u});c(h),h.removeListener("validate",e.EventListeners.Core.VALIDATE_PARAMETERS),h.removeListener("retry",e.EventListeners.Core.RETRY_CHECK),e.endpointCache.put(l,[{Address:"",CachePeriodInMinutes:1}]),h.send(function(t,r){r&&r.Endpoints?e.endpointCache.put(l,r.Endpoints):t&&e.endpointCache.put(l,[{Address:"",CachePeriodInMinutes:1}])})}}var a={};function u(r,i){var s=r.service,u=s.api,l=u.operations?u.operations[r.operation]:void 0,p=l?l.input:void 0,h=o(r,p),d=n(r);Object.keys(h).length>0&&(d=t.update(d,h),l&&(d.operation=l.name));var f=e.EndpointCache.getKeyString(d),m=e.endpointCache.get(f);if(m&&1===m.length&&""===m[0].Address)return a[f]||(a[f]=[]),void a[f].push({request:r,callback:i});if(m&&m.length>0)r.httpRequest.updateEndpoint(m[0].Address),i();else{var g=s.makeRequest(u.endpointOperation,{Operation:l.name,Identifiers:h});g.removeListener("validate",e.EventListeners.Core.VALIDATE_PARAMETERS),c(g),e.endpointCache.put(f,[{Address:"",CachePeriodInMinutes:60}]),g.send(function(n,o){if(n){if(r.response.error=t.error(n,{retryable:!1}),e.endpointCache.remove(d),a[f]){var s=a[f];t.arrayEach(s,function(e){e.request.response.error=t.error(n,{retryable:!1}),e.callback()}),delete a[f]}}else if(o&&(e.endpointCache.put(f,o.Endpoints),r.httpRequest.updateEndpoint(o.Endpoints[0].Address),a[f])){s=a[f];t.arrayEach(s,function(e){e.request.httpRequest.updateEndpoint(o.Endpoints[0].Address),e.callback()}),delete a[f]}i()})}}function c(e){var t=e.service.api.apiVersion;t&&!e.httpRequest.headers["x-amz-api-version"]&&(e.httpRequest.headers["x-amz-api-version"]=t)}function l(r){var i=r.error,s=r.httpResponse;if(i&&("InvalidEndpointException"===i.code||421===s.statusCode)){var a=r.request,u=a.service.api.operations||{},c=o(a,u[a.operation]?u[a.operation].input:void 0),l=n(a);Object.keys(c).length>0&&(l=t.update(l,c),u[a.operation]&&(l.operation=u[a.operation].name)),e.endpointCache.remove(l)}}function p(e){return["false","0"].indexOf(e)>=0}return et={discoverEndpoint:function(n,i){var o=n.service||{};if(function(r){if(r._originalConfig&&r._originalConfig.endpoint&&!0===r._originalConfig.endpointDiscoveryEnabled)throw t.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var n=e.config[r.serviceIdentifier]||{};return Boolean(e.config.endpoint||n.endpoint||r._originalConfig&&r._originalConfig.endpoint)}(o)||n.isPresigned())return i();var a=(o.api.operations||{})[n.operation],c=a?a.endpointDiscoveryRequired:"NULL",h=function(n){var i=n.service||{};if(void 0!==i.config.endpointDiscoveryEnabled)return i.config.endpointDiscoveryEnabled;if(!t.isBrowser()){for(var o=0;o<r.length;o++){var s=r[o];if(Object.prototype.hasOwnProperty.call(process.env,s)){if(""===process.env[s]||void 0===process.env[s])throw t.error(new Error,{code:"ConfigurationException",message:"environmental variable "+s+" cannot be set to nothing"});return!p(process.env[s])}}var a={};try{a=e.util.iniLoader?e.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[e.util.sharedConfigFileEnv]}):{}}catch(e){}var u=a[process.env.AWS_PROFILE||e.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(u,"endpoint_discovery_enabled")){if(void 0===u.endpoint_discovery_enabled)throw t.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!p(u.endpoint_discovery_enabled)}}}(n),d=o.api.hasRequiredEndpointDiscovery;switch((h||d)&&n.httpRequest.appendToUserAgent("endpoint-discovery"),c){case"OPTIONAL":(h||d)&&(s(n),n.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",l)),i();break;case"REQUIRED":if(!1===h){n.response.error=t.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+o.api.className+"."+n.operation+"() requires it. Please check your configurations."}),i();break}n.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",l),u(n,i);break;default:i()}},requiredDiscoverEndpoint:u,optionalDiscoverEndpoint:s,marshallCustomIdentifiers:o,getCacheKey:n,invalidateCachedEndpoint:l},et}function ot(){if(rt)return nt;rt=1;var t=Kt(),r=De(),n=it().discoverEndpoint;function i(e){if(!e.service.api.operations)return"";var t=e.service.api.operations[e.operation];return t?t.authtype:""}function o(e){var t=e.service;return t.config.signatureVersion?t.config.signatureVersion:t.api.signatureVersion?t.api.signatureVersion:i(e)}return t.EventListeners={Core:{}},t.EventListeners={Core:(new r).addNamedListeners(function(e,r){r("VALIDATE_CREDENTIALS","validate",function(e,r){if(!e.service.api.signatureVersion&&!e.service.config.signatureVersion)return r();"bearer"!==o(e)?e.service.config.getCredentials(function(n){n&&(e.response.error=t.util.error(n,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),r()}):e.service.config.getToken(function(n){n&&(e.response.error=t.util.error(n,{code:"TokenError"})),r()})}),e("VALIDATE_REGION","validate",function(e){if(!e.service.isGlobalEndpoint){var r=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);e.service.config.region?r.test(e.service.config.region)||(e.response.error=t.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):e.response.error=t.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}}),e("BUILD_IDEMPOTENCY_TOKENS","validate",function(e){if(e.service.api.operations){var r=e.service.api.operations[e.operation];if(r){var n=r.idempotentMembers;if(n.length){for(var i=t.util.copy(e.params),o=0,s=n.length;o<s;o++)i[n[o]]||(i[n[o]]=t.util.uuid.v4());e.params=i}}}}),e("VALIDATE_PARAMETERS","validate",function(e){if(e.service.api.operations){var r=e.service.api.operations[e.operation].input,n=e.service.config.paramValidation;new t.ParamValidator(n).validate(r,e.params)}}),e("COMPUTE_CHECKSUM","afterBuild",function(e){if(e.service.api.operations){var r=e.service.api.operations[e.operation];if(r){var n=e.httpRequest.body,i=n&&(t.util.Buffer.isBuffer(n)||"string"==typeof n),o=e.httpRequest.headers;if(r.httpChecksumRequired&&e.service.config.computeChecksums&&i&&!o["Content-MD5"]){var s=t.util.crypto.md5(n,"base64");o["Content-MD5"]=s}}}}),r("COMPUTE_SHA256","afterBuild",function(e,r){if(e.haltHandlersOnError(),e.service.api.operations){var n=e.service.api.operations[e.operation],i=n?n.authtype:"";if(!e.service.api.signatureVersion&&!i&&!e.service.config.signatureVersion)return r();if(e.service.getSignerClass(e)===t.Signers.V4){var o=e.httpRequest.body||"";if(i.indexOf("unsigned-body")>=0)return e.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",r();t.util.computeSha256(o,function(t,n){t?r(t):(e.httpRequest.headers["X-Amz-Content-Sha256"]=n,r())})}else r()}}),e("SET_CONTENT_LENGTH","afterBuild",function(e){var r=i(e),n=t.util.getRequestPayloadShape(e);if(void 0===e.httpRequest.headers["Content-Length"])try{var o=t.util.string.byteLength(e.httpRequest.body);e.httpRequest.headers["Content-Length"]=o}catch(t){if(n&&n.isStreaming){if(n.requiresLength)throw t;if(r.indexOf("unsigned-body")>=0)return void(e.httpRequest.headers["Transfer-Encoding"]="chunked");throw t}throw t}}),e("SET_HTTP_HOST","afterBuild",function(e){e.httpRequest.headers.Host=e.httpRequest.endpoint.host}),e("SET_TRACE_ID","afterBuild",function(e){var r="X-Amzn-Trace-Id";if(t.util.isNode()&&!Object.hasOwnProperty.call(e.httpRequest.headers,r)){var n=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID;"string"==typeof n&&n.length>0&&"string"==typeof i&&i.length>0&&(e.httpRequest.headers[r]=i)}}),e("RESTART","restart",function(){var e=this.response.error;e&&e.retryable&&(this.httpRequest=new t.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)});r("DISCOVER_ENDPOINT","sign",n,!0),r("SIGN","sign",function(e,t){var r=e.service,n=o(e);if(!n||0===n.length)return t();"bearer"===n?r.config.getToken(function(n,i){if(n)return e.response.error=n,t();try{new(r.getSignerClass(e))(e.httpRequest).addAuthorization(i)}catch(t){e.response.error=t}t()}):r.config.getCredentials(function(n,i){if(n)return e.response.error=n,t();try{var o=r.getSkewCorrectedDate(),s=r.getSignerClass(e),a=(e.service.api.operations||{})[e.operation],u=new s(e.httpRequest,r.getSigningName(e),{signatureCache:r.config.signatureCache,operation:a,signatureVersion:r.api.signatureVersion});u.setServiceClientId(r._clientId),delete e.httpRequest.headers.Authorization,delete e.httpRequest.headers.Date,delete e.httpRequest.headers["X-Amz-Date"],u.addAuthorization(i,o),e.signedAt=o}catch(t){e.response.error=t}t()})}),e("VALIDATE_RESPONSE","validateResponse",function(e){this.service.successfulResponse(e,this)?(e.data={},e.error=null):(e.data=null,e.error=t.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),e("ERROR","error",function(e,t){if(t.request.service.api.awsQueryCompatible){var r=t.httpResponse.headers,n=r?r["x-amzn-query-error"]:void 0;n&&n.includes(";")&&(t.error.code=n.split(";")[0])}},!0),r("SEND","send",function(e,r){function n(n){e.httpResponse.stream=n;var i=e.request.httpRequest.stream,o=e.request.service,s=o.api,a=e.request.operation,u=s.operations[a]||{};n.on("headers",function(i,s,a){if(e.request.emit("httpHeaders",[i,s,e,a]),!e.httpResponse.streaming)if(2===t.HttpClient.streamsApiVersion){if(u.hasEventOutput&&o.successfulResponse(e))return e.request.emit("httpDone"),void r();n.on("readable",function(){var t=n.read();null!==t&&e.request.emit("httpData",[t,e])})}else n.on("data",function(t){e.request.emit("httpData",[t,e])})}),n.on("end",function(){if(!i||!i.didCallback){if(2===t.HttpClient.streamsApiVersion&&u.hasEventOutput&&o.successfulResponse(e))return;e.request.emit("httpDone"),r()}})}function i(n){if("RequestAbortedError"!==n.code){var i="TimeoutError"===n.code?n.code:"NetworkingError";n=t.util.error(n,{code:i,region:e.request.httpRequest.region,hostname:e.request.httpRequest.endpoint.hostname,retryable:!0})}e.error=n,e.request.emit("httpError",[e.error,e],function(){r()})}function o(){var r,o=t.HttpClient.getInstance(),s=e.request.service.config.httpOptions||{};try{var a=o.handleRequest(e.request.httpRequest,s,n,i);(r=a).on("sendProgress",function(t){e.request.emit("httpUploadProgress",[t,e])}),r.on("receiveProgress",function(t){e.request.emit("httpDownloadProgress",[t,e])})}catch(e){i(e)}}e.httpResponse._abortCallback=r,e.error=null,e.data=null,(e.request.service.getSkewCorrectedDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],function(e){e?r(e):o()}):o()}),e("HTTP_HEADERS","httpHeaders",function(e,r,n,i){n.httpResponse.statusCode=e,n.httpResponse.statusMessage=i,n.httpResponse.headers=r,n.httpResponse.body=t.util.buffer.toBuffer(""),n.httpResponse.buffers=[],n.httpResponse.numBytes=0;var o=r.date||r.Date,s=n.request.service;if(o){var a=Date.parse(o);s.config.correctClockSkew&&s.isClockSkewed(a)&&s.applyClockOffset(a)}}),e("HTTP_DATA","httpData",function(e,r){if(e){if(t.util.isNode()){r.httpResponse.numBytes+=e.length;var n=r.httpResponse.headers["content-length"],i={loaded:r.httpResponse.numBytes,total:n};r.request.emit("httpDownloadProgress",[i,r])}r.httpResponse.buffers.push(t.util.buffer.toBuffer(e))}}),e("HTTP_DONE","httpDone",function(e){if(e.httpResponse.buffers&&e.httpResponse.buffers.length>0){var r=t.util.buffer.concat(e.httpResponse.buffers);e.httpResponse.body=r}delete e.httpResponse.numBytes,delete e.httpResponse.buffers}),e("FINALIZE_ERROR","retry",function(e){e.httpResponse.statusCode&&(e.error.statusCode=e.httpResponse.statusCode,void 0===e.error.retryable&&(e.error.retryable=this.service.retryableError(e.error,this)))}),e("INVALIDATE_CREDENTIALS","retry",function(e){if(e.error)switch(e.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":e.error.retryable=!0,e.request.service.config.credentials.expired=!0}}),e("EXPIRED_SIGNATURE","retry",function(e){var t=e.error;t&&"string"==typeof t.code&&"string"==typeof t.message&&t.code.match(/Signature/)&&t.message.match(/expired/)&&(e.error.retryable=!0)}),e("CLOCK_SKEWED","retry",function(e){e.error&&this.service.clockSkewError(e.error)&&this.service.config.correctClockSkew&&(e.error.retryable=!0)}),e("REDIRECT","retry",function(e){e.error&&e.error.statusCode>=300&&e.error.statusCode<400&&e.httpResponse.headers.location&&(this.httpRequest.endpoint=new t.Endpoint(e.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,this.httpRequest.path=this.httpRequest.endpoint.path,e.error.redirect=!0,e.error.retryable=!0)}),e("RETRY_CHECK","retry",function(e){e.error&&(e.error.redirect&&e.redirectCount<e.maxRedirects?e.error.retryDelay=0:e.retryCount<e.maxRetries&&(e.error.retryDelay=this.service.retryDelays(e.retryCount,e.error)||0))}),r("RESET_RETRY_STATE","afterRetry",function(e,t){var r,n=!1;e.error&&(r=e.error.retryDelay||0,e.error.retryable&&e.retryCount<e.maxRetries?(e.retryCount++,n=!0):e.error.redirect&&e.redirectCount<e.maxRedirects&&(e.redirectCount++,n=!0)),n&&r>=0?(e.error=null,setTimeout(t,r)):t()})}),CorePost:(new r).addNamedListeners(function(e){e("EXTRACT_REQUEST_ID","extractData",t.util.extractRequestId),e("EXTRACT_REQUEST_ID","extractError",t.util.extractRequestId),e("ENOTFOUND_ERROR","httpError",function(e){if("NetworkingError"===e.code&&function(e){return"ENOTFOUND"===e.errno||"number"==typeof e.errno&&"function"==typeof t.util.getSystemErrorName&&["EAI_NONAME","EAI_NODATA"].indexOf(t.util.getSystemErrorName(e.errno)>=0)}(e)){var r="Inaccessible host: `"+e.hostname+"' at port `"+e.port+"'. This service may not be available in the `"+e.region+"' region.";this.response.error=t.util.error(new Error(r),{code:"UnknownEndpoint",region:e.region,hostname:e.hostname,retryable:!0,originalError:e})}})}),Logger:(new r).addNamedListeners(function(r){r("LOG_REQUEST","complete",function(r){var n=r.request,i=n.service.config.logger;if(i){var o=function(){var o=(r.request.service.getSkewCorrectedDate().getTime()-n.startTime.getTime())/1e3,a=!!i.isTTY,u=r.httpResponse.statusCode,c=n.params;n.service.api.operations&&n.service.api.operations[n.operation]&&n.service.api.operations[n.operation].input&&(c=s(n.service.api.operations[n.operation].input,n.params));var l=e.inspect(c,!0,null),p="";return a&&(p+="[33m"),p+="[AWS "+n.service.serviceIdentifier+" "+u,p+=" "+o.toString()+"s "+r.retryCount+" retries]",a&&(p+="[0;1m"),p+=" "+t.util.string.lowerFirst(n.operation),p+="("+l+")",a&&(p+="[0m"),p}();"function"==typeof i.log?i.log(o):"function"==typeof i.write&&i.write(o+"\n")}function s(e,r){if(!r)return r;if(e.isSensitive)return"***SensitiveInformation***";switch(e.type){case"structure":var n={};return t.util.each(r,function(t,r){Object.prototype.hasOwnProperty.call(e.members,t)?n[t]=s(e.members[t],r):n[t]=r}),n;case"list":var i=[];return t.util.arrayEach(r,function(t,r){i.push(s(e.member,t))}),i;case"map":var o={};return t.util.each(r,function(t,r){o[t]=s(e.value,r)}),o;default:return r}}})}),Json:(new r).addNamedListeners(function(e){var t=oe();e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Rest:(new r).addNamedListeners(function(e){var t=le();e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),RestJson:(new r).addNamedListeners(function(e){var t=pe();e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError),e("UNSET_CONTENT_LENGTH","afterBuild",t.unsetContentLength)}),RestXml:(new r).addNamedListeners(function(e){var t=he();e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)}),Query:(new r).addNamedListeners(function(e){var t=ce();e("BUILD","build",t.buildRequest),e("EXTRACT_DATA","extractData",t.extractData),e("EXTRACT_ERROR","extractError",t.extractError)})},nt}var st,at,ut={};var ct,lt,pt={};function ht(){return ct||(ct=1,function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===n(e[o],i[o]))return!1;return!0}if(!0===r(e)){var s={};for(var a in e)if(hasOwnProperty.call(e,a)){if(!1===n(e[a],i[a]))return!1;s[a]=!0}for(var u in i)if(hasOwnProperty.call(i,u)&&!0!==s[u])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(r(e)){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}return!1}var o;o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var s=0,a=2,u={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},c="EOF",l="UnquotedIdentifier",p="QuotedIdentifier",h="Rbracket",d="Rparen",f="Comma",m="Colon",g="Rbrace",y="Number",v="Current",b="Expref",E="Pipe",w="Or",S="And",C="EQ",T="GT",_="LT",I="GTE",x="LTE",A="NE",P="Flatten",O="Star",k="Filter",R="Dot",D="Not",N="Lbrace",L="Lbracket",M="Lparen",F="Literal",q={".":R,"*":O,",":f,":":m,"{":N,"}":g,"]":h,"(":M,")":d,"@":v},j={"<":!0,">":!0,"=":!0,"!":!0},B={" ":!0,"\t":!0,"\n":!0};function U(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e}function V(e){return e>="0"&&e<="9"||"-"===e}function W(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e}function z(){}z.prototype={tokenize:function(e){var t,r,n,i=[];for(this._current=0;this._current<e.length;)if(U(e[this._current]))t=this._current,r=this._consumeUnquotedIdentifier(e),i.push({type:l,value:r,start:t});else if(void 0!==q[e[this._current]])i.push({type:q[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(V(e[this._current]))n=this._consumeNumber(e),i.push(n);else if("["===e[this._current])n=this._consumeLBracket(e),i.push(n);else if('"'===e[this._current])t=this._current,r=this._consumeQuotedIdentifier(e),i.push({type:p,value:r,start:t});else if("'"===e[this._current])t=this._current,r=this._consumeRawStringLiteral(e),i.push({type:F,value:r,start:t});else if("`"===e[this._current]){t=this._current;var o=this._consumeLiteral(e);i.push({type:F,value:o,start:t})}else if(void 0!==j[e[this._current]])i.push(this._consumeOperator(e));else if(void 0!==B[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,i.push({type:S,value:"&&",start:t})):i.push({type:b,value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,i.push({type:w,value:"||",start:t})):i.push({type:E,value:"|",start:t})}return i},_consumeUnquotedIdentifier:function(e){var t=this._current;for(this._current++;this._current<e.length&&W(e[this._current]);)this._current++;return e.slice(t,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var r=e.length;'"'!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&'"'!==e[n+1]?n++:n+=2,this._current=n}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var r=e.length;"'"!==e[this._current]&&this._current<r;){var n=this._current;"\\"!==e[n]||"\\"!==e[n+1]&&"'"!==e[n+1]?n++:n+=2,this._current=n}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var r=e.length;V(e[this._current])&&this._current<r;)this._current++;var n=parseInt(e.slice(t,this._current));return{type:y,value:n,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:k,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:P,value:"[]",start:t}):{type:L,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,r=e[t];return this._current++,"!"===r?"="===e[this._current]?(this._current++,{type:A,value:"!=",start:t}):{type:D,value:"!",start:t}:"<"===r?"="===e[this._current]?(this._current++,{type:x,value:"<=",start:t}):{type:_,value:"<",start:t}:">"===r?"="===e[this._current]?(this._current++,{type:I,value:">=",start:t}):{type:T,value:">",start:t}:"="===r&&"="===e[this._current]?(this._current++,{type:C,value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,r=this._current,n=e.length;"`"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var s=o(e.slice(r,this._current));return s=s.replace("\\`","`"),t=this._looksLikeJSON(s)?JSON.parse(s):JSON.parse('"'+s+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var H={};function K(){}function G(e){this.runtime=e}function X(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}H[c]=0,H[l]=0,H[p]=0,H[h]=0,H[d]=0,H[f]=0,H[g]=0,H[y]=0,H[v]=0,H[b]=0,H[E]=1,H[w]=2,H[S]=3,H[C]=5,H[T]=5,H[_]=5,H[I]=5,H[x]=5,H[A]=5,H[P]=9,H[O]=20,H[k]=21,H[R]=40,H[D]=45,H[N]=50,H[L]=55,H[M]=60,K.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if(this._lookahead(0)!==c){var r=this._lookaheadToken(0),n=new Error("Unexpected token type: "+r.type+", value: "+r.value);throw n.name="ParserError",n}return t},_loadTokens:function(e){var t=(new z).tokenize(e);t.push({type:c,value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var r=this.nud(t),n=this._lookahead(0);e<H[n];)this._advance(),r=this.led(n,r),n=this._lookahead(0);return r},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,r;switch(e.type){case F:return{type:"Literal",value:e.value};case l:return{type:"Field",name:e.value};case p:var n={type:"Field",name:e.value};if(this._lookahead(0)===M)throw new Error("Quoted identifier not allowed for function names.");return n;case D:return{type:"NotExpression",children:[t=this.expression(H.Not)]};case O:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===h?{type:"Identity"}:this._parseProjectionRHS(H.Star)]};case k:return this.led(e.type,{type:"Identity"});case N:return this._parseMultiselectHash();case P:return{type:"Projection",children:[{type:P,children:[{type:"Identity"}]},t=this._parseProjectionRHS(H.Flatten)]};case L:return this._lookahead(0)===y||this._lookahead(0)===m?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===O&&this._lookahead(1)===h?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(H.Star)]}):this._parseMultiselectList();case v:return{type:v};case b:return{type:"ExpressionReference",children:[r=this.expression(H.Expref)]};case M:for(var i=[];this._lookahead(0)!==d;)this._lookahead(0)===v?(r={type:v},this._advance()):r=this.expression(0),i.push(r);return this._match(d),i[0];default:this._errorToken(e)}},led:function(e,t){var r;switch(e){case R:var n=H.Dot;return this._lookahead(0)!==O?{type:"Subexpression",children:[t,r=this._parseDotRHS(n)]}:(this._advance(),{type:"ValueProjection",children:[t,r=this._parseProjectionRHS(n)]});case E:return r=this.expression(H.Pipe),{type:E,children:[t,r]};case w:return{type:"OrExpression",children:[t,r=this.expression(H.Or)]};case S:return{type:"AndExpression",children:[t,r=this.expression(H.And)]};case M:for(var i,o=t.name,s=[];this._lookahead(0)!==d;)this._lookahead(0)===v?(i={type:v},this._advance()):i=this.expression(0),this._lookahead(0)===f&&this._match(f),s.push(i);return this._match(d),{type:"Function",name:o,children:s};case k:var a=this.expression(0);return this._match(h),{type:"FilterProjection",children:[t,r=this._lookahead(0)===P?{type:"Identity"}:this._parseProjectionRHS(H.Filter),a]};case P:return{type:"Projection",children:[{type:P,children:[t]},this._parseProjectionRHS(H.Flatten)]};case C:case A:case T:case I:case _:case x:return this._parseComparator(t,e);case L:var u=this._lookaheadToken(0);return u.type===y||u.type===m?(r=this._parseIndexExpression(),this._projectIfSlice(t,r)):(this._match(O),this._match(h),{type:"Projection",children:[t,r=this._parseProjectionRHS(H.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),r=new Error("Expected "+e+", got: "+t.type);throw r.name="ParserError",r}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===m||this._lookahead(1)===m)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(h),e},_projectIfSlice:function(e,t){var r={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[r,this._parseProjectionRHS(H.Star)]}:r},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,r=this._lookahead(0);r!==h&&t<3;){if(r===m)t++,this._advance();else{if(r!==y){var n=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}r=this._lookahead(0)}return this._match(h),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(H[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return[l,p,O].indexOf(t)>=0?this.expression(e):t===L?(this._match(L),this._parseMultiselectList()):t===N?(this._match(N),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(H[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===L)t=this.expression(e);else if(this._lookahead(0)===k)t=this.expression(e);else{if(this._lookahead(0)!==R){var r=this._lookaheadToken(0),n=new Error("Sytanx error, unexpected token: "+r.value+"("+r.type+")");throw n.name="ParserError",n}this._match(R),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==h;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===f&&(this._match(f),this._lookahead(0)===h))throw new Error("Unexpected token Rbracket")}return this._match(h),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,r,n=[],i=[l,p];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(m),r={type:"KeyValuePair",name:t,value:this.expression(0)},n.push(r),this._lookahead(0)===f)this._match(f);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:n}}},G.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var s,a,u,c,l,p,h,d,f;switch(e.type){case"Field":return null!==o&&r(o)?void 0===(p=o[e.name])?null:p:null;case"Subexpression":for(u=this.visit(e.children[0],o),f=1;f<e.children.length;f++)if(null===(u=this.visit(e.children[1],u)))return null;return u;case"IndexExpression":return h=this.visit(e.children[0],o),this.visit(e.children[1],h);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(u=o[m])&&(u=null),u;case"Slice":if(!t(o))return null;var g=e.children.slice(0),y=this.computeSliceParams(o.length,g),w=y[0],S=y[1],O=y[2];if(u=[],O>0)for(f=w;f<S;f+=O)u.push(o[f]);else for(f=w;f>S;f+=O)u.push(o[f]);return u;case"Projection":var k=this.visit(e.children[0],o);if(!t(k))return null;for(d=[],f=0;f<k.length;f++)null!==(a=this.visit(e.children[1],k[f]))&&d.push(a);return d;case"ValueProjection":if(!r(k=this.visit(e.children[0],o)))return null;d=[];var R=function(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}(k);for(f=0;f<R.length;f++)null!==(a=this.visit(e.children[1],R[f]))&&d.push(a);return d;case"FilterProjection":if(!t(k=this.visit(e.children[0],o)))return null;var D=[],N=[];for(f=0;f<k.length;f++)i(s=this.visit(e.children[2],k[f]))||D.push(k[f]);for(var L=0;L<D.length;L++)null!==(a=this.visit(e.children[1],D[L]))&&N.push(a);return N;case"Comparator":switch(c=this.visit(e.children[0],o),l=this.visit(e.children[1],o),e.name){case C:u=n(c,l);break;case A:u=!n(c,l);break;case T:u=c>l;break;case I:u=c>=l;break;case _:u=c<l;break;case x:u=c<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return u;case P:var M=this.visit(e.children[0],o);if(!t(M))return null;var F=[];for(f=0;f<M.length;f++)t(a=M[f])?F.push.apply(F,a):F.push(a);return F;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(d=[],f=0;f<e.children.length;f++)d.push(this.visit(e.children[f],o));return d;case"MultiSelectHash":if(null===o)return null;var q;for(d={},f=0;f<e.children.length;f++)d[(q=e.children[f]).name]=this.visit(q.value,o);return d;case"OrExpression":return i(s=this.visit(e.children[0],o))&&(s=this.visit(e.children[1],o)),s;case"AndExpression":return!0===i(c=this.visit(e.children[0],o))?c:this.visit(e.children[1],o);case"NotExpression":return i(c=this.visit(e.children[0],o));case"Literal":return e.value;case E:return h=this.visit(e.children[0],o),this.visit(e.children[1],h);case v:return o;case"Function":var j=[];for(f=0;f<e.children.length;f++)j.push(this.visit(e.children[f],o));return this.runtime.callFunction(e.name,j);case"ExpressionReference":var B=e.children[0];return B.jmespathType=b,B;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var r=t[0],n=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var s=new Error("Invalid slice, step cannot be 0");throw s.name="RuntimeError",s}var a=i<0;return r=null===r?a?e-1:0:this.capSliceRange(e,r,i),n=null===n?a?-1:e:this.capSliceRange(e,n,i),o[0]=r,o[1]=n,o[2]=i,o},capSliceRange:function(e,t,r){return t<0?(t+=e)<0&&(t=r<0?-1:0):t>=e&&(t=r<0?e-1:e),t}},X.prototype={callFunction:function(e,t){var r=this.functionTable[e];if(void 0===r)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,r._signature),r._func.call(this,t)},_validateArgs:function(e,t,r){var n,i,o,s;if(r[r.length-1].variadic){if(t.length<r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+r.length+n+" but received "+t.length)}else if(t.length!==r.length)throw n=1===r.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+r.length+n+" but received "+t.length);for(var a=0;a<r.length;a++){s=!1,i=r[a].types,o=this._getTypeName(t[a]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[a])){s=!0;break}if(!s){var l=i.map(function(e){return u[e]}).join(",");throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+l+" but received type "+u[o]+" instead.")}}},_typeMatches:function(e,t,r){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var n;8===t?n=s:9===t&&(n=a);for(var i=0;i<r.length;i++)if(!this._typeMatches(this._getTypeName(r[i]),n,r[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===b?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],r=e[1];return-1!==t.indexOf(r,t.length-r.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===a){for(var t=e[0],r="",n=t.length-1;n>=0;n--)r+=t[n];return r}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t/r.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return r(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],r=this._interpreter,n=e[0],i=e[1],o=0;o<i.length;o++)t.push(r.visit(n,i[o]));return t},_functionMerge:function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];for(var i in n)t[i]=n[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.max.apply(Math,e[0]);for(var t=e[0],r=t[0],n=1;n<t.length;n++)r.localeCompare(t[n])<0&&(r=t[n]);return r}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===s)return Math.min.apply(Math,e[0]);for(var t=e[0],r=t[0],n=1;n<t.length;n++)t[n].localeCompare(r)<0&&(r=t[n]);return r}return null},_functionSum:function(e){for(var t=0,r=e[0],n=0;n<r.length;n++)t+=r[n];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],r=Object.keys(t),n=[],i=0;i<r.length;i++)n.push(t[r[i]]);return n},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===a?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,r=this._getTypeName(e[0]);return r===s?e[0]:r!==a||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var r=this._interpreter,n=e[1],i=this._getTypeName(r.visit(n,t[0]));if([s,a].indexOf(i)<0)throw new Error("TypeError");for(var o=this,u=[],c=0;c<t.length;c++)u.push([c,t[c]]);u.sort(function(e,t){var s=r.visit(n,e[1]),a=r.visit(n,t[1]);if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));return s>a?1:s<a?-1:e[0]-t[0]});for(var l=0;l<u.length;l++)t[l]=u[l][1];return t},_functionMaxBy:function(e){for(var t,r,n=e[1],i=e[0],o=this.createKeyFunction(n,[s,a]),u=-1/0,c=0;c<i.length;c++)(r=o(i[c]))>u&&(u=r,t=i[c]);return t},_functionMinBy:function(e){for(var t,r,n=e[1],i=e[0],o=this.createKeyFunction(n,[s,a]),u=1/0,c=0;c<i.length;c++)(r=o(i[c]))<u&&(u=r,t=i[c]);return t},createKeyFunction:function(e,t){var r=this,n=this._interpreter;return function(i){var o=n.visit(e,i);if(t.indexOf(r._getTypeName(o))<0){var s="TypeError: expected one of "+t+", received "+r._getTypeName(o);throw new Error(s)}return o}}},e.tokenize=function(e){return(new z).tokenize(e)},e.compile=function(e){return(new K).parse(e)},e.search=function(e,t){var r=new K,n=new X,i=new G(n);n._interpreter=i;var o=r.parse(t);return i.search(o,e)},e.strictDeepEqual=n}(pt)),pt}function dt(){if(lt)return ut;lt=1;var e=Kt(),t=function(){if(at)return st;function e(e,t){this.currentState=t||null,this.states=e||{}}return at=1,e.prototype.runTo=function(e,t,r,n){"function"==typeof e&&(n=r,r=t,t=e,e=null);var i=this,o=i.states[i.currentState];o.fn.call(r||i,n,function(n){if(n){if(!o.fail)return t?t.call(r,n):null;i.currentState=o.fail}else{if(!o.accept)return t?t.call(r):null;i.currentState=o.accept}if(i.currentState===e)return t?t.call(r,n):null;i.runTo(e,t,r,n)})},e.prototype.addState=function(e,t,r,n){return"function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),this.currentState||(this.currentState=e),this.states[e]={accept:t,fail:r,fn:n},this},st=e}(),r=e.util.inherit,n=e.util.domain,i=ht(),o={success:1,error:1,complete:1};var s=new t;return s.setupStates=function(){var e=function(e,t){var r=this;r._haltHandlersOnError=!1,r.emit(r._asm.currentState,function(e){if(e)if(i=r,Object.prototype.hasOwnProperty.call(o,i._asm.currentState)){if(!(n&&r.domain instanceof n.Domain))throw e;e.domainEmitter=r,e.domain=r.domain,e.domainThrown=!1,r.domain.emit("error",e)}else r.response.error=e,t(e);else t(r.response.error);var i})};this.addState("validate","build","error",e),this.addState("build","afterBuild","restart",e),this.addState("afterBuild","sign","restart",e),this.addState("sign","send","retry",e),this.addState("retry","afterRetry","afterRetry",e),this.addState("afterRetry","sign","error",e),this.addState("send","validateResponse","retry",e),this.addState("validateResponse","extractData","extractError",e),this.addState("extractError","extractData","retry",e),this.addState("extractData","success","retry",e),this.addState("restart","build","error",e),this.addState("success","complete","complete",e),this.addState("error","complete","complete",e),this.addState("complete",null,null,e)},s.setupStates(),e.Request=r({constructor:function(r,i,o){var a=r.endpoint,u=r.config.region,c=r.config.customUserAgent;r.signingRegion?u=r.signingRegion:r.isGlobalEndpoint&&(u="us-east-1"),this.domain=n&&n.active,this.service=r,this.operation=i,this.params=o||{},this.httpRequest=new e.HttpRequest(a,u),this.httpRequest.appendToUserAgent(c),this.startTime=r.getSkewCorrectedDate(),this.response=new e.Response(this),this._asm=new t(s.states,"validate"),this._haltHandlersOnError=!1,e.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(e){return e&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(t){e.call(t,t.error,t.data)})),this.runTo(),this.response},build:function(e){return this.runTo("send",e)},runTo:function(e,t){return this._asm.runTo(e,t,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(t){t.error=e.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(t){t=e.util.fn.makeAsync(t,3),this.on("complete",function r(n){t.call(n,n.error,n.data,function(i){!1!==i&&(n.hasNextPage()?n.nextPage().on("complete",r).send():t.call(n,null,null,e.util.fn.noop))})}).send()},eachItem:function(t){var r=this;this.eachPage(function(n,o){if(n)return t(n,null);if(null===o)return t(null,null);var s=r.service.paginationConfig(r.operation).resultKey;Array.isArray(s)&&(s=s[0]);var a=i.search(o,s),u=!0;return e.util.arrayEach(a,function(r){if(!1===(u=t(null,r)))return e.util.abort}),u})},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var t=e.util.stream,r=this,n=null;return 2===e.HttpClient.streamsApiVersion?(n=new t.PassThrough,process.nextTick(function(){r.send()})):((n=new t.Stream).readable=!0,n.sent=!1,n.on("newListener",function(e){n.sent||"data"!==e||(n.sent=!0,process.nextTick(function(){r.send()}))})),this.on("error",function(e){n.emit("error",e)}),this.on("httpHeaders",function(i,o,s){if(i<300){r.removeListener("httpData",e.EventListeners.Core.HTTP_DATA),r.removeListener("httpError",e.EventListeners.Core.HTTP_ERROR),r.on("httpError",function(e){s.error=e,s.error.retryable=!1});var a,u=!1;if("HEAD"!==r.httpRequest.method&&(a=parseInt(o["content-length"],10)),void 0!==a&&!isNaN(a)&&a>=0){u=!0;var c=0}var l=function(){u&&c!==a?n.emit("error",e.util.error(new Error("Stream content length mismatch. Received "+c+" of "+a+" bytes."),{code:"StreamContentLengthMismatch"})):2===e.HttpClient.streamsApiVersion?n.end():n.emit("end")},p=s.httpResponse.createUnbufferedStream();if(2===e.HttpClient.streamsApiVersion)if(u){var h=new t.PassThrough;h._write=function(e){return e&&e.length&&(c+=e.length),t.PassThrough.prototype._write.apply(this,arguments)},h.on("end",l),n.on("error",function(e){u=!1,p.unpipe(h),h.emit("end"),h.end()}),p.pipe(h).pipe(n,{end:!1})}else p.pipe(n);else u&&p.on("data",function(e){e&&e.length&&(c+=e.length)}),p.on("data",function(e){n.emit("data",e)}),p.on("end",l);p.on("error",function(e){u=!1,n.emit("error",e)})}}),n},emitEvent:function(t,r,n){"function"==typeof r&&(n=r,r=null),n||(n=function(){}),r||(r=this.eventParameters(t,this.response)),e.SequentialExecutor.prototype.emit.call(this,t,r,function(e){e&&(this.response.error=e),n.call(this,e)})},eventParameters:function(e){switch(e){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(t,r){return r||"function"!=typeof t||(r=t,t=null),(new e.Signers.Presign).sign(this.toGet(),t,r)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",e.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",e.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(e){e.httpRequest.method="GET",e.httpRequest.path=e.service.endpoint.path+"?"+e.httpRequest.body,e.httpRequest.body="",delete e.httpRequest.headers["Content-Length"],delete e.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),e.Request.addPromisesToClass=function(e){this.prototype.promise=function(){var t=this;return this.httpRequest.appendToUserAgent("promise"),new e(function(e,r){t.on("complete",function(t){t.error?r(t.error):e(Object.defineProperty(t.data||{},"$response",{value:t}))}),t.runTo()})}},e.Request.deletePromisesFromClass=function(){delete this.prototype.promise},e.util.addPromises(e.Request),e.util.mixin(e.Request,e.SequentialExecutor),ut}var ft,mt={};var gt,yt={};var vt,bt,Et,wt,St,Ct,Tt,_t,It,xt,At,Pt,Ot,kt,Rt={};function Dt(){if(wt)return Et;wt=1;var e=Kt(),t=e.util.inherit;return e.Signers.V3=t(e.Signers.RequestSigner,{addAuthorization:function(t,r){var n=e.util.date.rfc822(r);this.request.headers["X-Amz-Date"]=n,t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(t,n)},authorization:function(e){return"AWS3 AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(e)},signedHeaders:function(){var t=[];return e.util.arrayEach(this.headersToSign(),function(e){t.push(e.toLowerCase())}),t.sort().join(";")},canonicalHeaders:function(){var t=this.request.headers,r=[];return e.util.arrayEach(this.headersToSign(),function(e){r.push(e.toLowerCase().trim()+":"+String(t[e]).trim())}),r.sort().join("\n")+"\n"},headersToSign:function(){var t=[];return e.util.each(this.request.headers,function(e){("Host"===e||"Content-Encoding"===e||e.match(/^X-Amz/i))&&t.push(e)}),t},signature:function(t){return e.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push("/"),t.push(""),t.push(this.canonicalHeaders()),t.push(this.request.body),e.util.crypto.sha256(t.join("\n"))}}),Et=e.Signers.V3}function Nt(){if(xt)return It;xt=1;var e=Kt(),t=function(){if(_t)return Tt;_t=1;var e=Kt(),t={},r=[],n="aws4_request";return Tt={createScope:function(e,t,r){return[e.substr(0,8),t,r,n].join("/")},getSigningKey:function(i,o,s,a,u){var c=[e.util.crypto.hmac(i.secretAccessKey,i.accessKeyId,"base64"),o,s,a].join("_");if((u=!1!==u)&&c in t)return t[c];var l=e.util.crypto.hmac("AWS4"+i.secretAccessKey,o,"buffer"),p=e.util.crypto.hmac(l,s,"buffer"),h=e.util.crypto.hmac(p,a,"buffer"),d=e.util.crypto.hmac(h,n,"buffer");return u&&(t[c]=d,r.push(c),r.length>50&&delete t[r.shift()]),d},emptyCache:function(){t={},r=[]}},Tt}(),r=e.util.inherit,n="presigned-expires";return e.Signers.V4=r(e.Signers.RequestSigner,{constructor:function(t,r,n){e.Signers.RequestSigner.call(this,t),this.serviceName=r,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(t,r){var n=e.util.date.iso8601(r).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(t,n):this.addHeaders(t,n),this.request.headers.Authorization=this.authorization(t,n)},addHeaders:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken)},updateForPresigned:function(t,r){var i=this.credentialString(r),o={"X-Amz-Date":r,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":t.accessKeyId+"/"+i,"X-Amz-Expires":this.request.headers[n],"X-Amz-SignedHeaders":this.signedHeaders()};t.sessionToken&&(o["X-Amz-Security-Token"]=t.sessionToken),this.request.headers["Content-Type"]&&(o["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(o["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(o["Cache-Control"]=this.request.headers["Cache-Control"]),e.util.each.call(this,this.request.headers,function(e,t){if(e!==n&&this.isSignableHeader(e)){var r=e.toLowerCase();0===r.indexOf("x-amz-meta-")?o[r]=t:0===r.indexOf("x-amz-")&&(o[e]=t)}});var s=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=s+e.util.queryParamsToString(o)},authorization:function(e,t){var r=[],n=this.credentialString(t);return r.push(this.algorithm+" Credential="+e.accessKeyId+"/"+n),r.push("SignedHeaders="+this.signedHeaders()),r.push("Signature="+this.signature(e,t)),r.join(", ")},signature:function(r,n){var i=t.getSigningKey(r,n.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return e.util.crypto.hmac(i,this.stringToSign(n),"hex")},stringToSign:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")},canonicalString:function(){var t=[],r=this.request.pathname();return"s3"!==this.serviceName&&"s3v4"!==this.signatureVersion&&(r=e.util.uriEscapePath(r)),t.push(this.request.method),t.push(r),t.push(this.request.search()),t.push(this.canonicalHeaders()+"\n"),t.push(this.signedHeaders()),t.push(this.hexEncodedBodyHash()),t.join("\n")},canonicalHeaders:function(){var t=[];e.util.each.call(this,this.request.headers,function(e,r){t.push([e,r])}),t.sort(function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1});var r=[];return e.util.arrayEach.call(this,t,function(t){var n=t[0].toLowerCase();if(this.isSignableHeader(n)){var i=t[1];if(null==i||"function"!=typeof i.toString)throw e.util.error(new Error("Header "+n+" contains invalid value"),{code:"InvalidHeader"});r.push(n+":"+this.canonicalHeaderValues(i.toString()))}}),r.join("\n")},canonicalHeaderValues:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var t=[];return e.util.each.call(this,this.request.headers,function(e){e=e.toLowerCase(),this.isSignableHeader(e)&&t.push(e)}),t.sort().join(";")},credentialString:function(e){return t.createScope(e.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(t){return e.util.crypto.sha256(t,"hex")},hexEncodedBodyHash:function(){var e=this.request;return this.isPresigned()&&["s3","s3-object-lambda"].indexOf(this.serviceName)>-1&&!e.body?"UNSIGNED-PAYLOAD":e.headers["X-Amz-Content-Sha256"]?e.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",n,"expect","x-amzn-trace-id"],isSignableHeader:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(e)<0},isPresigned:function(){return!!this.request.headers[n]}}),It=e.Signers.V4}var Lt,Mt,Ft={};function qt(){if(Mt)return Rt;Mt=1;var e=Kt(),t=e.util.inherit;return e.Signers.RequestSigner=t({constructor:function(e){this.request=e},setServiceClientId:function(e){this.serviceClientId=e},getServiceClientId:function(){return this.serviceClientId}}),e.Signers.RequestSigner.getVersion=function(t){switch(t){case"v2":return e.Signers.V2;case"v3":return e.Signers.V3;case"s3v4":case"v4":return e.Signers.V4;case"s3":return e.Signers.S3;case"v3https":return e.Signers.V3Https;case"bearer":return e.Signers.Bearer}throw new Error("Unknown signing version "+t)},function(){if(bt)return vt;bt=1;var e=Kt(),t=e.util.inherit;e.Signers.V2=t(e.Signers.RequestSigner,{addAuthorization:function(t,r){r||(r=e.util.date.getDate());var n=this.request;n.params.Timestamp=e.util.date.iso8601(r),n.params.SignatureVersion="2",n.params.SignatureMethod="HmacSHA256",n.params.AWSAccessKeyId=t.accessKeyId,t.sessionToken&&(n.params.SecurityToken=t.sessionToken),delete n.params.Signature,n.params.Signature=this.signature(t),n.body=e.util.queryParamsToString(n.params),n.headers["Content-Length"]=n.body.length},signature:function(t){return e.util.crypto.hmac(t.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var t=[];return t.push(this.request.method),t.push(this.request.endpoint.host.toLowerCase()),t.push(this.request.pathname()),t.push(e.util.queryParamsToString(this.request.params)),t.join("\n")}}),vt=e.Signers.V2}(),Dt(),function(){if(Ct)return St;Ct=1;var e=Kt(),t=e.util.inherit;Dt(),e.Signers.V3Https=t(e.Signers.V3,{authorization:function(e){return"AWS3-HTTPS AWSAccessKeyId="+e.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(e)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),St=e.Signers.V3Https}(),Nt(),function(){if(Pt)return At;Pt=1;var e=Kt(),t=e.util.inherit;e.Signers.S3=t(e.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(t,r){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=e.util.date.rfc822(r)),t.sessionToken&&(this.request.headers["x-amz-security-token"]=t.sessionToken);var n=this.sign(t.secretAccessKey,this.stringToSign()),i="AWS "+t.accessKeyId+":"+n;this.request.headers.Authorization=i},stringToSign:function(){var e=this.request,t=[];t.push(e.method),t.push(e.headers["Content-MD5"]||""),t.push(e.headers["Content-Type"]||""),t.push(e.headers["presigned-expires"]||"");var r=this.canonicalizedAmzHeaders();return r&&t.push(r),t.push(this.canonicalizedResource()),t.join("\n")},canonicalizedAmzHeaders:function(){var t=[];e.util.each(this.request.headers,function(e){e.match(/^x-amz-/i)&&t.push(e)}),t.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1});var r=[];return e.util.arrayEach.call(this,t,function(e){r.push(e.toLowerCase()+":"+String(this.request.headers[e]))}),r.join("\n")},canonicalizedResource:function(){var t=this.request,r=t.path.split("?"),n=r[0],i=r[1],o="";if(t.virtualHostedBucket&&(o+="/"+t.virtualHostedBucket),o+=n,i){var s=[];e.util.arrayEach.call(this,i.split("&"),function(e){var t=e.split("=")[0],r=e.split("=")[1];if(this.subResources[t]||this.responseHeaders[t]){var n={name:t};void 0!==r&&(this.subResources[t]?n.value=r:n.value=decodeURIComponent(r)),s.push(n)}}),s.sort(function(e,t){return e.name<t.name?-1:1}),s.length&&(i=[],e.util.arrayEach(s,function(e){void 0===e.value?i.push(e.name):i.push(e.name+"="+e.value)}),o+="?"+i.join("&"))}return o},sign:function(t,r){return e.util.crypto.hmac(t,r,"base64","sha1")}}),At=e.Signers.S3}(),function(){if(kt)return Ot;kt=1;var e=Kt(),t=e.util.inherit,r="presigned-expires";function n(t){var n=t.httpRequest.headers[r],i=t.service.getSignerClass(t);if(delete t.httpRequest.headers["User-Agent"],delete t.httpRequest.headers["X-Amz-User-Agent"],i===e.Signers.V4){if(n>604800)throw e.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1});t.httpRequest.headers[r]=n}else{if(i!==e.Signers.S3)throw e.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});var o=t.service?t.service.getSkewCorrectedDate():e.util.date.getDate();t.httpRequest.headers[r]=parseInt(e.util.date.unixTimestamp(o)+n,10).toString()}}function i(t){var n=t.httpRequest.endpoint,i=e.util.urlParse(t.httpRequest.path),o={};i.search&&(o=e.util.queryStringParse(i.search.substr(1)));var s=t.httpRequest.headers.Authorization.split(" ");if("AWS"===s[0])s=s[1].split(":"),o.Signature=s.pop(),o.AWSAccessKeyId=s.join(":"),e.util.each(t.httpRequest.headers,function(e,t){e===r&&(e="Expires"),0===e.indexOf("x-amz-meta-")&&(delete o[e],e=e.toLowerCase()),o[e]=t}),delete t.httpRequest.headers[r],delete o.Authorization,delete o.Host;else if("AWS4-HMAC-SHA256"===s[0]){s.shift();var a=s.join(" ").match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];o["X-Amz-Signature"]=a,delete o.Expires}n.pathname=i.pathname,n.search=e.util.queryParamsToString(o)}e.Signers.Presign=t({sign:function(t,o,s){if(t.httpRequest.headers[r]=o||3600,t.on("build",n),t.on("sign",i),t.removeListener("afterBuild",e.EventListeners.Core.SET_CONTENT_LENGTH),t.removeListener("afterBuild",e.EventListeners.Core.COMPUTE_SHA256),t.emit("beforePresign",[t]),!s){if(t.build(),t.response.error)throw t.response.error;return e.util.urlFormat(t.httpRequest.endpoint)}t.build(function(){this.response.error?s(this.response.error):s(null,e.util.urlFormat(t.httpRequest.endpoint))})}}),Ot=e.Signers.Presign}(),function(){if(Lt)return Ft;Lt=1;var e=Kt();e.Signers.Bearer=e.util.inherit(e.Signers.RequestSigner,{constructor:function(t){e.Signers.RequestSigner.call(this,t)},addAuthorization:function(e){this.request.headers.Authorization="Bearer "+e.token}})}(),Rt}var jt,Bt={};var Ut,Vt,Wt,zt={exports:{}};function Ht(){return Ut||(Ut=1,e=zt,t=["The AWS SDK for JavaScript (v2) is in maintenance mode."," SDK releases are limited to address critical bug fixes and security issues only.\n","Please migrate your code to use AWS SDK for JavaScript (v3).","For more information, check the blog post at https://a.co/cUPnyil"].join("\n"),e.exports={suppress:!1},setTimeout(function(){e.exports.suppress||"undefined"!=typeof process&&("object"==typeof process.env&&void 0!==process.env.AWS_EXECUTION_ENV&&0===process.env.AWS_EXECUTION_ENV.indexOf("AWS_Lambda_")||"object"==typeof process.env&&void 0!==process.env.AWS_SDK_JS_SUPPRESS_MAINTENANCE_MODE_MESSAGE||"function"==typeof process.emitWarning&&process.emitWarning(t,{type:"NOTE"}))},0)),zt.exports;var e,t}function Kt(){if(Wt)return Vt;Wt=1;var e={util:Yr()};return Vt=e,e.util.update(e,{VERSION:"2.1692.0",Signers:{},Protocol:{Json:oe(),Query:ce(),Rest:le(),RestJson:pe(),RestXml:he()},XML:{Builder:me(),Parser:null},JSON:{Builder:re(),Parser:ne()},Model:{Api:Te(),Operation:ge(),Shape:ue(),Paginator:ye(),ResourceWaiter:ve()},apiLoader:_e(),EndpointCache:Re().EndpointCache}),De(),Ve(),function(){if(Xe)return ze;Xe=1;var e,t=Kt();Ke(),Qe(),t.Config=t.util.inherit({constructor:function(e){void 0===e&&(e={}),e=this.extractCredentials(e),t.util.each.call(this,this.keys,function(t,r){this.set(t,e[t],r)})},getCredentials:function(e){var r,n=this;function i(t){e(t,t?null:n.credentials)}function o(e,r){return new t.util.error(r||new Error,{code:"CredentialsError",message:e,name:"CredentialsError"})}n.credentials?"function"==typeof n.credentials.get?n.credentials.get(function(e){e&&(e=o("Could not load credentials from "+n.credentials.constructor.name,e)),i(e)}):(r=null,n.credentials.accessKeyId&&n.credentials.secretAccessKey||(r=o("Missing credentials")),i(r)):n.credentialProvider?n.credentialProvider.resolve(function(e,t){e&&(e=o("Could not load credentials from any providers",e)),n.credentials=t,i(e)}):i(o("No credentials to load"))},getToken:function(e){var r,n=this;function i(t){e(t,t?null:n.token)}function o(e,r){return new t.util.error(r||new Error,{code:"TokenError",message:e,name:"TokenError"})}n.token?"function"==typeof n.token.get?n.token.get(function(e){e&&(e=o("Could not load token from "+n.token.constructor.name,e)),i(e)}):(r=null,n.token.token||(r=o("Missing token")),i(r)):n.tokenProvider?n.tokenProvider.resolve(function(e,t){e&&(e=o("Could not load token from any providers",e)),n.token=t,i(e)}):i(o("No token to load"))},update:function(e,r){r=r||!1,e=this.extractCredentials(e),t.util.each.call(this,e,function(e,n){(r||Object.prototype.hasOwnProperty.call(this.keys,e)||t.Service.hasService(e))&&this.set(e,n)})},loadFromPath:function(e){this.clear();var r=JSON.parse(t.util.readFileSync(e)),n=new t.FileSystemCredentials(e),i=new t.CredentialProviderChain;return i.providers.unshift(n),i.resolve(function(e,t){if(e)throw e;r.credentials=t}),this.constructor(r),this},clear:function(){t.util.each.call(this,this.keys,function(e){delete this[e]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(e,r,n){void 0===r?(void 0===n&&(n=this.keys[e]),this[e]="function"==typeof n?n.call(this):n):"httpOptions"===e&&this[e]?this[e]=t.util.merge(this[e],r):this[e]=r},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy",useFipsEndpoint:!1,useDualstackEndpoint:!1,token:null},extractCredentials:function(e){return e.accessKeyId&&e.secretAccessKey&&((e=t.util.copy(e)).credentials=new t.Credentials(e)),e},setPromisesDependency:function(r){e=r,null===r&&"function"==typeof Promise&&(e=Promise);var n=[t.Request,t.Credentials,t.CredentialProviderChain];t.S3&&(n.push(t.S3),t.S3.ManagedUpload&&n.push(t.S3.ManagedUpload)),t.util.addPromises(n,e)},getPromisesDependency:function(){return e}}),t.config=new t.Config}(),Ze(),ot(),dt(),function(){if(ft)return mt;ft=1;var e=Kt(),t=e.util.inherit,r=ht();e.Response=t({constructor:function(t){this.request=t,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new e.HttpResponse,t&&(this.maxRetries=t.service.numRetries(),this.maxRedirects=t.service.config.maxRedirects)},nextPage:function(t){var r,n=this.request.service,i=this.request.operation;try{r=n.paginationConfig(i,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(t)t(this.error,null);else if(this.error)throw this.error;return null}var o=e.util.copy(this.request.params);if(this.nextPageTokens){var s=r.inputToken;"string"==typeof s&&(s=[s]);for(var a=0;a<s.length;a++)o[s[a]]=this.nextPageTokens[a];return n.makeRequest(this.request.operation,o,t)}return t?t(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var t=this.request.service.paginationConfig(this.request.operation);if(!t)return this.nextPageTokens;if(this.nextPageTokens=null,t.moreResults&&!r.search(this.data,t.moreResults))return this.nextPageTokens;var n=t.outputToken;return"string"==typeof n&&(n=[n]),e.util.arrayEach.call(this,n,function(e){var t=r.search(this.data,e);t&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(t))}),this.nextPageTokens}})}(),function(){if(gt)return yt;gt=1;var e=Kt(),t=e.util.inherit,r=ht();function n(e){var t=e.request._waiter,r=t.config.acceptors,n=!1,i="retry";r.forEach(function(r){if(!n){var o=t.matchers[r.matcher];o&&o(e,r.expected,r.argument)&&(n=!0,i=r.state)}}),!n&&e.error&&(i="failure"),"success"===i?t.setSuccess(e):t.setError(e,"retry"===i)}e.ResourceWaiter=t({constructor:function(e,t){this.service=e,this.state=t,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(e,t,n){try{var i=r.search(e.data,n)}catch(e){return!1}return r.strictDeepEqual(i,t)},pathAll:function(e,t,n){try{var i=r.search(e.data,n)}catch(e){return!1}Array.isArray(i)||(i=[i]);var o=i.length;if(!o)return!1;for(var s=0;s<o;s++)if(!r.strictDeepEqual(i[s],t))return!1;return!0},pathAny:function(e,t,n){try{var i=r.search(e.data,n)}catch(e){return!1}Array.isArray(i)||(i=[i]);for(var o=i.length,s=0;s<o;s++)if(r.strictDeepEqual(i[s],t))return!0;return!1},status:function(e,t){var r=e.httpResponse.statusCode;return"number"==typeof r&&r===t},error:function(e,t){return"string"==typeof t&&e.error?t===e.error.code:t===!!e.error}},listeners:(new e.SequentialExecutor).addNamedListeners(function(e){e("RETRY_CHECK","retry",function(e){var t=e.request._waiter;e.error&&"ResourceNotReady"===e.error.code&&(e.error.retryDelay=1e3*(t.config.delay||0))}),e("CHECK_OUTPUT","extractData",n),e("CHECK_ERROR","extractError",n)}),wait:function(t,r){"function"==typeof t&&(r=t,t=void 0),t&&t.$waiter&&("number"==typeof(t=e.util.copy(t)).$waiter.delay&&(this.config.delay=t.$waiter.delay),"number"==typeof t.$waiter.maxAttempts&&(this.config.maxAttempts=t.$waiter.maxAttempts),delete t.$waiter);var n=this.service.makeRequest(this.config.operation,t);return n._waiter=this,n.response.maxRetries=this.config.maxAttempts,n.addListeners(this.listeners),r&&n.send(r),n},setSuccess:function(e){e.error=null,e.data=e.data||{},e.request.removeAllListeners("extractData")},setError:function(t,r){t.data=null,t.error=e.util.error(t.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:r})},loadWaiterConfig:function(t){if(!this.service.api.waiters[t])throw new e.util.error(new Error,{code:"StateNotFoundError",message:"State "+t+" not found."});this.config=e.util.copy(this.service.api.waiters[t])}})}(),qt(),function(){if(jt)return Bt;jt=1;var e=Kt();e.ParamValidator=e.util.inherit({constructor:function(e){!0!==e&&void 0!==e||(e={min:!0}),this.validation=e},validate:function(t,r,n){if(this.errors=[],this.validateMember(t,r||{},n||"params"),this.errors.length>1){var i=this.errors.join("\n* ");throw i="There were "+this.errors.length+" validation errors:\n* "+i,e.util.error(new Error(i),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(t,r){this.errors.push(e.util.error(new Error(r),{code:t}))},validateStructure:function(e,t,r){if(e.isDocument)return!0;var n;this.validateType(t,r,["object"],"structure");for(var i=0;e.required&&i<e.required.length;i++){null==t[n=e.required[i]]&&this.fail("MissingRequiredParameter","Missing required key '"+n+"' in "+r)}for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n],s=e.members[n];if(void 0!==s){var a=[r,n].join(".");this.validateMember(s,o,a)}else null!=o&&this.fail("UnexpectedParameter","Unexpected key '"+n+"' found in "+r)}return!0},validateMember:function(e,t,r){switch(e.type){case"structure":return this.validateStructure(e,t,r);case"list":return this.validateList(e,t,r);case"map":return this.validateMap(e,t,r);default:return this.validateScalar(e,t,r)}},validateList:function(e,t,r){if(this.validateType(t,r,[Array])){this.validateRange(e,t.length,r,"list member count");for(var n=0;n<t.length;n++)this.validateMember(e.member,t[n],r+"["+n+"]")}},validateMap:function(e,t,r){if(this.validateType(t,r,["object"],"map")){var n=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this.validateMember(e.key,i,r+"[key='"+i+"']"),this.validateMember(e.value,t[i],r+"['"+i+"']"),n++);this.validateRange(e,n,r,"map member count")}},validateScalar:function(e,t,r){switch(e.type){case null:case void 0:case"string":return this.validateString(e,t,r);case"base64":case"binary":return this.validatePayload(t,r);case"integer":case"float":return this.validateNumber(e,t,r);case"boolean":return this.validateType(t,r,["boolean"]);case"timestamp":return this.validateType(t,r,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+e.type+" for "+r)}},validateString:function(e,t,r){var n=["string"];e.isJsonValue&&(n=n.concat(["number","object","boolean"])),null!==t&&this.validateType(t,r,n)&&(this.validateEnum(e,t,r),this.validateRange(e,t.length,r,"string length"),this.validatePattern(e,t,r),this.validateUri(e,t,r))},validateUri:function(e,t,r){"uri"===e.location&&0===t.length&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+t+'" for '+r)},validatePattern:function(e,t,r){this.validation.pattern&&void 0!==e.pattern&&(new RegExp(e.pattern).test(t)||this.fail("PatternMatchError",'Provided value "'+t+'" does not match regex pattern /'+e.pattern+"/ for "+r))},validateRange:function(e,t,r,n){this.validation.min&&void 0!==e.min&&t<e.min&&this.fail("MinRangeError","Expected "+n+" >= "+e.min+", but found "+t+" for "+r),this.validation.max&&void 0!==e.max&&t>e.max&&this.fail("MaxRangeError","Expected "+n+" <= "+e.max+", but found "+t+" for "+r)},validateEnum:function(e,t,r){this.validation.enum&&void 0!==e.enum&&-1===e.enum.indexOf(t)&&this.fail("EnumError","Found string value of "+t+", but expected "+e.enum.join("|")+" for "+r)},validateType:function(t,r,n,i){if(null==t)return!1;for(var o=!1,s=0;s<n.length;s++){if("string"==typeof n[s]){if(typeof t===n[s])return!0}else if(n[s]instanceof RegExp){if((t||"").toString().match(n[s]))return!0}else{if(t instanceof n[s])return!0;if(e.util.isType(t,n[s]))return!0;i||o||(n=n.slice()),n[s]=e.util.typeName(n[s])}o=!0}var a=i;a||(a=n.join(", ").replace(/,([^,]+)$/,", or$1"));var u=a.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+r+" to be a"+u+" "+a),!1},validateNumber:function(e,t,r){if(null!=t){if("string"==typeof t){var n=parseFloat(t);n.toString()===t&&(t=n)}this.validateType(t,r,["number"])&&this.validateRange(e,t,r,"numeric value")}},validatePayload:function(t,r){if(null!=t&&"string"!=typeof t&&(!t||"number"!=typeof t.byteLength)){if(e.util.isNode()){var n=e.util.stream.Stream;if(e.util.Buffer.isBuffer(t)||t instanceof n)return}else if(void 0!==typeof Blob&&t instanceof Blob)return;var i=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(t)for(var o=0;o<i.length;o++){if(e.util.isType(t,i[o]))return;if(e.util.typeName(t.constructor)===i[o])return}this.fail("InvalidParameterType","Expected "+r+" to be a string, Buffer, Stream, Blob, or typed array object")}}})}(),Ht(),e.events=new e.SequentialExecutor,e.util.memoizedProperty(e,"endpointCache",function(){return new e.EndpointCache(e.config.endpointCacheSize)},!0),Vt}var Gt,Xt={},Yt={},Qt={};function Jt(){if(Gt)return Qt;Gt=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=function(){return t.default.randomBytes(16)};var e,t=(e=r)&&e.__esModule?e:{default:e};return Qt}var $t,Zt,er={};function tr(){if($t)return er;$t=1,Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;for(var e=[],t=0;t<256;++t)e[t]=(t+256).toString(16).substr(1);var r=function(t,r){var n=r||0,i=e;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")};return er.default=r,er}function rr(){if(Zt)return Yt;Zt=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.default=void 0;var e,t,r=i(Jt()),n=i(tr());function i(e){return e&&e.__esModule?e:{default:e}}var o=0,s=0;var a=function(i,a,u){var c=a&&u||0,l=a||[],p=(i=i||{}).node||e,h=void 0!==i.clockseq?i.clockseq:t;if(null==p||null==h){var d=i.random||(i.rng||r.default)();null==p&&(p=e=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=t=16383&(d[6]<<8|d[7]))}var f=void 0!==i.msecs?i.msecs:(new Date).getTime(),m=void 0!==i.nsecs?i.nsecs:s+1,g=f-o+(m-s)/1e4;if(g<0&&void 0===i.clockseq&&(h=h+1&16383),(g<0||f>o)&&void 0===i.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,s=m,t=h;var y=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var v=f/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var b=0;b<6;++b)l[c+b]=p[b];return a||(0,n.default)(l)};return Yt.default=a,Yt}var nr,ir={},or={};function sr(){if(nr)return or;nr=1,Object.defineProperty(or,"__esModule",{value:!0}),or.default=function(e,i,o){var s=function(e,r,n,s){var a=n&&s||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof r&&(r=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,function(e){t.push(parseInt(e,16))}),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=o(r.concat(e));if(u[6]=15&u[6]|i,u[8]=63&u[8]|128,n)for(var c=0;c<16;++c)n[a+c]=u[c];return n||(0,t.default)(u)};try{s.name=e}catch(e){}return s.DNS=r,s.URL=n,s},or.URL=or.DNS=void 0;var e,t=(e=tr())&&e.__esModule?e:{default:e};const r="6ba7b810-9dad-11d1-80b4-00c04fd430c8";or.DNS=r;const n="6ba7b811-9dad-11d1-80b4-00c04fd430c8";return or.URL=n,or}var ar,ur,cr={};function lr(){if(ar)return cr;ar=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var e,t=(e=r)&&e.__esModule?e:{default:e};var n=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),t.default.createHash("md5").update(e).digest()};return cr.default=n,cr}function pr(){if(ur)return ir;ur=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var e=r(sr()),t=r(lr());function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,e.default)("v3",48,t.default);return ir.default=n,ir}var hr,dr={};function fr(){if(hr)return dr;hr=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var e=r(Jt()),t=r(tr());function r(e){return e&&e.__esModule?e:{default:e}}var n=function(r,n,i){var o=n&&i||0;"string"==typeof r&&(n="binary"===r?new Array(16):null,r=null);var s=(r=r||{}).random||(r.rng||e.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n)for(var a=0;a<16;++a)n[o+a]=s[a];return n||(0,t.default)(s)};return dr.default=n,dr}var mr,gr,yr,vr,br,Er,wr,Sr,Cr,Tr,_r,Ir,xr,Ar,Pr,Or,kr,Rr,Dr,Nr,Lr,Mr,Fr,qr,jr,Br,Ur,Vr,Wr,zr={},Hr={};function Kr(){if(mr)return Hr;mr=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.default=void 0;var e,t=(e=r)&&e.__esModule?e:{default:e};var n=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),t.default.createHash("sha1").update(e).digest()};return Hr.default=n,Hr}function Gr(){if(gr)return zr;gr=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.default=void 0;var e=r(sr()),t=r(Kr());function r(e){return e&&e.__esModule?e:{default:e}}var n=(0,e.default)("v5",80,t.default);return zr.default=n,zr}function Xr(){return yr||(yr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(rr()),r=o(pr()),n=o(fr()),i=o(Gr());function o(e){return e&&e.__esModule?e:{default:e}}}(Xt)),Xt}function Yr(){if(br)return vr;var e;br=1;var r={environment:"nodejs",engine:function(){if(r.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var e=process.platform+"/"+process.version;return process.env.AWS_EXECUTION_ENV&&(e+=" exec-env/"+process.env.AWS_EXECUTION_ENV),e},userAgent:function(){var e=r.environment,t="aws-sdk-"+e+"/"+Kt().VERSION;return"nodejs"===e&&(t+=" "+r.engine()),t},uriEscape:function(e){var t=encodeURIComponent(e);return t=(t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape)).replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return r.arrayEach(e.split("/"),function(e){t.push(r.uriEscape(e))}),t.join("/")},urlParse:function(e){return r.url.parse(e)},urlFormat:function(e){return r.url.format(e)},queryStringParse:function(e){return r.querystring.parse(e)},queryParamsToString:function(e){var t=[],n=r.uriEscape,i=Object.keys(e).sort();return r.arrayEach(i,function(i){var o=e[i],s=n(i),a=s+"=";if(Array.isArray(o)){var u=[];r.arrayEach(o,function(e){u.push(n(e))}),a=s+"="+u.sort().join("&"+s+"=")}else null!=o&&(a=s+"="+n(o));t.push(a)}),t.join("&")},readFileSync:function(e){return r.isBrowser()?null:t.readFileSync(e,"utf-8")},base64:{encode:function(e){if("number"==typeof e)throw r.error(new Error("Cannot base64 encode number "+e));return null==e?e:r.buffer.toBuffer(e).toString("base64")},decode:function(e){if("number"==typeof e)throw r.error(new Error("Cannot base64 decode number "+e));return null==e?e:r.buffer.toBuffer(e,"base64")}},buffer:{toBuffer:function(e,t){return"function"==typeof r.Buffer.from&&r.Buffer.from!==Uint8Array.from?r.Buffer.from(e,t):new r.Buffer(e,t)},alloc:function(e,t,n){if("number"!=typeof e)throw new Error("size passed to alloc must be a number.");if("function"==typeof r.Buffer.alloc)return r.Buffer.alloc(e,t,n);var i=new r.Buffer(e);return void 0!==t&&"function"==typeof i.fill&&i.fill(t,void 0,void 0,n),i},toStream:function(e){r.Buffer.isBuffer(e)||(e=r.buffer.toBuffer(e));var t=new r.stream.Readable,n=0;return t._read=function(r){if(n>=e.length)return t.push(null);var i=n+r;i>e.length&&(i=e.length),t.push(e.slice(n,i)),n=i},t},concat:function(e){var t,n,i=0,o=0;for(n=0;n<e.length;n++)i+=e[n].length;for(t=r.buffer.alloc(i),n=0;n<e.length;n++)e[n].copy(t,o),o+=e[n].length;return t}},string:{byteLength:function(e){if(null==e)return 0;if("string"==typeof e&&(e=r.buffer.toBuffer(e)),"number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)return t.lstatSync(e.path).size;throw r.error(new Error("Cannot determine length of "+e),{object:e})},upperFirst:function(e){return e[0].toUpperCase()+e.substr(1)},lowerFirst:function(e){return e[0].toLowerCase()+e.substr(1)}},ini:{parse:function(e){var t,n={};return r.arrayEach(e.split(/\r?\n/),function(e){if("["===(e=e.split(/(^|\s)[;#]/)[0].trim())[0]&&"]"===e[e.length-1]){if("__proto__"===(t=e.substring(1,e.length-1))||"__proto__"===t.split(/\s/)[1])throw r.error(new Error("Cannot load profile name '"+t+"' from shared ini file."))}else if(t){var i=e.indexOf("="),o=e.length-1;if(-1!==i&&0!==i&&i!==o){var s=e.substring(0,i).trim(),a=e.substring(i+1).trim();n[t]=n[t]||{},n[t][s]=a}}}),n}},fn:{noop:function(){},callback:function(e){if(e)throw e},makeAsync:function(e,t){return t&&t<=e.length?e:function(){var t=Array.prototype.slice.call(arguments,0);t.pop()(e.apply(null,t))}}},date:{getDate:function(){return e||(e=Kt()),e.config.systemClockOffset?new Date((new Date).getTime()+e.config.systemClockOffset):new Date},iso8601:function(e){return void 0===e&&(e=r.date.getDate()),e.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(e){return void 0===e&&(e=r.date.getDate()),e.toUTCString()},unixTimestamp:function(e){return void 0===e&&(e=r.date.getDate()),e.getTime()/1e3},from:function(e){return"number"==typeof e?new Date(1e3*e):new Date(e)},format:function(e,t){return t||(t="iso8601"),r.date[t](r.date.from(e))},parseTimestamp:function(e){if("number"==typeof e)return new Date(1e3*e);if(e.match(/^\d+$/))return new Date(1e3*e);if(e.match(/^\d{4}/))return new Date(e);if(e.match(/^\w{3},/))return new Date(e);throw r.error(new Error("unhandled timestamp format: "+e),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(e){var t=r.crypto.crc32Table,n=~0;"string"==typeof e&&(e=r.buffer.toBuffer(e));for(var i=0;i<e.length;i++){n=n>>>8^t[255&(n^e.readUInt8(i))]}return(-1^n)>>>0},hmac:function(e,t,n,i){return n||(n="binary"),"buffer"===n&&(n=void 0),i||(i="sha256"),"string"==typeof t&&(t=r.buffer.toBuffer(t)),r.crypto.lib.createHmac(i,e).update(t).digest(n)},md5:function(e,t,n){return r.crypto.hash("md5",e,t,n)},sha256:function(e,t,n){return r.crypto.hash("sha256",e,t,n)},hash:function(e,t,n,i){var o=r.crypto.createHash(e);n||(n="binary"),"buffer"===n&&(n=void 0),"string"==typeof t&&(t=r.buffer.toBuffer(t));var s=r.arraySliceFn(t),a=r.Buffer.isBuffer(t);if(r.isBrowser()&&"undefined"!=typeof ArrayBuffer&&t&&t.buffer instanceof ArrayBuffer&&(a=!0),i&&"object"==typeof t&&"function"==typeof t.on&&!a)t.on("data",function(e){o.update(e)}),t.on("error",function(e){i(e)}),t.on("end",function(){i(null,o.digest(n))});else{if(!i||!s||a||"undefined"==typeof FileReader){r.isBrowser()&&"object"==typeof t&&!a&&(t=new r.Buffer(new Uint8Array(t)));var u=o.update(t).digest(n);return i&&i(null,u),u}var c=0,l=new FileReader;l.onerror=function(){i(new Error("Failed to read data."))},l.onload=function(){var e=new r.Buffer(new Uint8Array(l.result));o.update(e),c+=e.length,l._continueReading()},l._continueReading=function(){if(c>=t.size)i(null,o.digest(n));else{var e=c+524288;e>t.size&&(e=t.size),l.readAsArrayBuffer(s.call(t,c,e))}},l._continueReading()}},toHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push(("0"+e.charCodeAt(r).toString(16)).substr(-2,2));return t.join("")},createHash:function(e){return r.crypto.lib.createHash(e)}},abort:{},each:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,n,e[n])===r.abort)break}},arrayEach:function(e,t){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))if(t.call(this,e[n],parseInt(n,10))===r.abort)break}},update:function(e,t){return r.each(t,function(t,r){e[t]=r}),e},merge:function(e,t){return r.update(r.copy(e),t)},copy:function(e){if(null==e)return e;var t={};for(var r in e)t[r]=e[r];return t},isEmpty:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},arraySliceFn:function(e){var t=e.slice||e.webkitSlice||e.mozSlice;return"function"==typeof t?t:null},isType:function(e,t){return"function"==typeof t&&(t=r.typeName(t)),Object.prototype.toString.call(e)==="[object "+t+"]"},typeName:function(e){if(Object.prototype.hasOwnProperty.call(e,"name"))return e.name;var t=e.toString(),r=t.match(/^\s*function (.+)\(/);return r?r[1]:t},error:function(e,t){var n=null;for(var i in"string"==typeof e.message&&""!==e.message&&("string"==typeof t||t&&t.message)&&((n=r.copy(e)).message=e.message),e.message=e.message||null,"string"==typeof t?e.message=t:"object"==typeof t&&null!==t&&(r.update(e,t),t.message&&(e.message=t.message),(t.code||t.name)&&(e.code=t.code||t.name),t.stack&&(e.stack=t.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(e,"name",{writable:!0,enumerable:!1}),Object.defineProperty(e,"message",{enumerable:!0})),e.name=String(t&&t.name||e.name||e.code||"Error"),e.time=new Date,n&&(e.originalError=n),t||{})if("["===i[0]&&"]"===i[i.length-1]){if("code"===(i=i.slice(1,-1))||"message"===i)continue;e["["+i+"]"]="See error."+i+" for details.",Object.defineProperty(e,i,{value:e[i]||t&&t[i]||n&&n[i],enumerable:!1,writable:!0})}return e},inherit:function(e,t){var n=null;if(void 0===t)t=e,e=Object,n={};else{var i=function(){};i.prototype=e.prototype,n=new i}return t.constructor===Object&&(t.constructor=function(){if(e!==Object)return e.apply(this,arguments)}),t.constructor.prototype=n,r.update(t.constructor.prototype,t),t.constructor.__super__=e,t.constructor},mixin:function(){for(var e=arguments[0],t=1;t<arguments.length;t++)for(var r in arguments[t].prototype){var n=arguments[t].prototype[r];"constructor"!==r&&(e.prototype[r]=n)}return e},hideProperties:function(e,t){"function"==typeof Object.defineProperty&&r.arrayEach(t,function(t){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0})})},property:function(e,t,r,n,i){var o={configurable:!0,enumerable:void 0===n||n};"function"!=typeof r||i?(o.value=r,o.writable=!0):o.get=r,Object.defineProperty(e,t,o)},memoizedProperty:function(e,t,n,i){var o=null;r.property(e,t,function(){return null===o&&(o=n()),o},i)},hoistPayloadMember:function(e){var t=e.request,n=t.operation,i=t.service.api.operations[n],o=i.output;if(o.payload&&!i.hasEventOutput){var s=o.members[o.payload],a=e.data[o.payload];"structure"===s.type&&r.each(a,function(t,n){r.property(e.data,t,n,!1)})}},computeSha256:function(e,n){if(r.isNode()){var i=r.stream.Stream,o=t;if("function"==typeof i&&e instanceof i){if("string"!=typeof e.path)return n(new Error("Non-file stream objects are not supported with SigV4"));var s={};"number"==typeof e.start&&(s.start=e.start),"number"==typeof e.end&&(s.end=e.end),e=o.createReadStream(e.path,s)}}r.crypto.sha256(e,"hex",function(e,t){e?n(e):n(null,t)})},isClockSkewed:function(t){if(t)return r.property(e.config,"isClockSkewed",Math.abs((new Date).getTime()-t)>=3e5,!1),e.config.isClockSkewed},applyClockOffset:function(t){t&&(e.config.systemClockOffset=t-(new Date).getTime())},extractRequestId:function(e){var t=e.httpResponse.headers["x-amz-request-id"]||e.httpResponse.headers["x-amzn-requestid"];!t&&e.data&&e.data.ResponseMetadata&&(t=e.data.ResponseMetadata.RequestId),t&&(e.requestId=t),e.error&&(e.error.requestId=t)},addPromises:function(t,r){var n=!1;void 0===r&&e&&e.config&&(r=e.config.getPromisesDependency()),void 0===r&&"undefined"!=typeof Promise&&(r=Promise),"function"!=typeof r&&(n=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i];n?o.deletePromisesFromClass&&o.deletePromisesFromClass():o.addPromisesToClass&&o.addPromisesToClass(r)}},promisifyMethod:function(e,t){return function(){var r=this,n=Array.prototype.slice.call(arguments);return new t(function(t,i){n.push(function(e,r){e?i(e):t(r)}),r[e].apply(r,n)})}},isDualstackAvailable:function(e){if(!e)return!1;var t=Ce;return"string"!=typeof e&&(e=e.serviceIdentifier),!("string"!=typeof e||!t.hasOwnProperty(e))&&!!t[e].dualstackAvailable},calculateRetryDelay:function(e,t,r){t||(t={});var n=t.customBackoff||null;if("function"==typeof n)return n(e,r);var i="number"==typeof t.base?t.base:100;return Math.random()*(Math.pow(2,e)*i)},handleRequestWithRetries:function(t,n,i){n||(n={});var o=e.HttpClient.getInstance(),s=n.httpOptions||{},a=0,u=function(e){var t=n.maxRetries||0;if(e&&"TimeoutError"===e.code&&(e.retryable=!0),e&&e.retryable&&a<t){var o=r.calculateRetryDelay(a,n.retryDelayOptions,e);if(o>=0)return a++,void setTimeout(c,o+(e.retryAfter||0))}i(e)},c=function(){var e="";o.handleRequest(t,s,function(t){t.on("data",function(t){e+=t.toString()}),t.on("end",function(){var n=t.statusCode;if(n<300)i(null,e);else{var o=1e3*parseInt(t.headers["retry-after"],10)||0,s=r.error(new Error,{statusCode:n,retryable:n>=500||429===n});o&&s.retryable&&(s.retryAfter=o),u(s)}})},u)};e.util.defer(c)},uuid:{v4:function(){return Xr().v4()}},convertPayloadToString:function(e){var t=e.request,r=t.operation,n=t.service.api.operations[r].output||{};n.payload&&e.data[n.payload]&&(e.data[n.payload]=e.data[n.payload].toString())},defer:function(e){"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(e):"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)},getRequestPayloadShape:function(e){var t=e.service.api.operations;if(t){var r=(t||{})[e.operation];if(r&&r.input&&r.input.payload)return r.input.members[r.input.payload]}},getProfilesFromSharedConfig:function(e,t){var n={},i={};if(process.env[r.configOptInEnv])i=e.loadFrom({isConfig:!0,filename:process.env[r.sharedConfigFileEnv]});var o={};try{o=e.loadFrom({filename:t||process.env[r.configOptInEnv]&&process.env[r.sharedCredentialsFileEnv]})}catch(e){if(!process.env[r.configOptInEnv])throw e}for(var s=0,a=Object.keys(i);s<a.length;s++)n[a[s]]=u(n[a[s]]||{},i[a[s]]);for(s=0,a=Object.keys(o);s<a.length;s++)n[a[s]]=u(n[a[s]]||{},o[a[s]]);return n;function u(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++)e[n[r]]=t[n[r]];return e}},ARN:{validate:function(e){return e&&0===e.indexOf("arn:")&&e.split(":").length>=6},parse:function(e){var t=e.split(":");return{partition:t[1],service:t[2],region:t[3],accountId:t[4],resource:t.slice(5).join(":")}},build:function(e){if(void 0===e.service||void 0===e.region||void 0===e.accountId||void 0===e.resource)throw r.error(new Error("Input ARN object is invalid"));return"arn:"+(e.partition||"aws")+":"+e.service+":"+e.region+":"+e.accountId+":"+e.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};return vr=r}function Qr(){if(xr)return Ir;xr=1;var e=function(){if(Cr)return Sr;Cr=1;var e=Kt().util,t=e.buffer.toBuffer;function r(r){if(8!==r.length)throw new Error("Int64 buffers must be exactly 8 bytes");e.Buffer.isBuffer(r)||(r=t(r)),this.bytes=r}function n(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}return r.fromNumber=function(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(e+" is too large (or, if negative, too small) to represent as an Int64");for(var t=new Uint8Array(8),i=7,o=Math.abs(Math.round(e));i>-1&&o>0;i--,o/=256)t[i]=o;return e<0&&n(t),new r(t)},r.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&n(e),parseInt(e.toString("hex"),16)*(t?-1:1)},r.prototype.toString=function(){return String(this.valueOf())},Sr={Int64:r}}().Int64,t=function(){if(_r)return Tr;_r=1;var e=Kt().util,t=e.buffer.toBuffer;return Tr={splitMessage:function(r){if(e.Buffer.isBuffer(r)||(r=t(r)),r.length<16)throw new Error("Provided message too short to accommodate event stream message overhead");if(r.length!==r.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var n=r.readUInt32BE(8);if(n!==e.crypto.crc32(r.slice(0,8)))throw new Error("The prelude checksum specified in the message ("+n+") does not match the calculated CRC32 checksum.");var i=r.readUInt32BE(r.length-4);if(i!==e.crypto.crc32(r.slice(0,r.length-4)))throw new Error("The message checksum did not match the expected value of "+i);var o=12+r.readUInt32BE(4);return{headers:r.slice(12,o),body:r.slice(o,r.length-4)}}}}().splitMessage,r="boolean";function n(t){for(var n={},i=0;i<t.length;){var o=t.readUInt8(i++),s=t.slice(i,i+o).toString();switch(i+=o,t.readUInt8(i++)){case 0:n[s]={type:r,value:!0};break;case 1:n[s]={type:r,value:!1};break;case 2:n[s]={type:"byte",value:t.readInt8(i++)};break;case 3:n[s]={type:"short",value:t.readInt16BE(i)},i+=2;break;case 4:n[s]={type:"integer",value:t.readInt32BE(i)},i+=4;break;case 5:n[s]={type:"long",value:new e(t.slice(i,i+8))},i+=8;break;case 6:var a=t.readUInt16BE(i);i+=2,n[s]={type:"binary",value:t.slice(i,i+a)},i+=a;break;case 7:var u=t.readUInt16BE(i);i+=2,n[s]={type:"string",value:t.slice(i,i+u).toString()},i+=u;break;case 8:n[s]={type:"timestamp",value:new Date(new e(t.slice(i,i+8)).valueOf())},i+=8;break;case 9:var c=t.slice(i,i+16).toString("hex");i+=16,n[s]={type:"uuid",value:c.substr(0,8)+"-"+c.substr(8,4)+"-"+c.substr(12,4)+"-"+c.substr(16,4)+"-"+c.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return n}return Ir={parseMessage:function(e){var r=t(e);return{headers:n(r.headers),body:r.body}}}}function Jr(){if(Pr)return Ar;Pr=1;var e=Qr().parseMessage;return Ar={parseEvent:function(t,r,n){var i=e(r),o=i.headers[":message-type"];if(o){if("error"===o.value)throw function(e){var t=e.headers[":error-code"],r=e.headers[":error-message"],n=new Error(r.value||r);return n.code=n.name=t.value||t,n}(i);if("event"!==o.value)return}var s=i.headers[":event-type"],a=n.members[s.value];if(a){var u={},c=a.eventPayloadMemberName;if(c){var l=a.members[c];"binary"===l.type?u[c]=i.body:u[c]=t.parse(i.body.toString(),l)}for(var p=a.eventHeaderMemberNames,h=0;h<p.length;h++){var d=p[h];i.headers[d]&&(u[d]=a.members[d].toType(i.headers[d].value))}var f={};return f[s.value]=u,f}}},Ar}function $r(){if(Dr)return Rr;Dr=1;var e=function(){if(wr)return Er;wr=1;var e=Kt().util,t=o.Transform,r=e.buffer.alloc;function n(e){t.call(this,e),this.currentMessageTotalLength=0,this.currentMessagePendingLength=0,this.currentMessage=null,this.messageLengthBuffer=null}return n.prototype=Object.create(t.prototype),n.prototype._transform=function(e,t,n){for(var i=e.length,o=0;o<i;){if(!this.currentMessage){var s=i-o;this.messageLengthBuffer||(this.messageLengthBuffer=r(4));var a=Math.min(4-this.currentMessagePendingLength,s);if(e.copy(this.messageLengthBuffer,this.currentMessagePendingLength,o,o+a),this.currentMessagePendingLength+=a,o+=a,this.currentMessagePendingLength<4)break;this.allocateMessage(this.messageLengthBuffer.readUInt32BE(0)),this.messageLengthBuffer=null}var u=Math.min(this.currentMessageTotalLength-this.currentMessagePendingLength,i-o);e.copy(this.currentMessage,this.currentMessagePendingLength,o,o+u),this.currentMessagePendingLength+=u,o+=u,this.currentMessageTotalLength&&this.currentMessageTotalLength===this.currentMessagePendingLength&&(this.push(this.currentMessage),this.currentMessage=null,this.currentMessageTotalLength=0,this.currentMessagePendingLength=0)}n()},n.prototype._flush=function(e){this.currentMessageTotalLength?this.currentMessageTotalLength===this.currentMessagePendingLength?e(null,this.currentMessage):e(new Error("Truncated event message received.")):e()},n.prototype.allocateMessage=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);this.currentMessageTotalLength=e,this.currentMessagePendingLength=4,this.currentMessage=r(e),this.currentMessage.writeUInt32BE(e,0)},Er={EventMessageChunkerStream:n}}().EventMessageChunkerStream,t=function(){if(kr)return Or;kr=1;var e=o.Transform,t=Jr().parseEvent;function r(t){(t=t||{}).readableObjectMode=!0,e.call(this,t),this._readableState.objectMode=!0,this.parser=t.parser,this.eventStreamModel=t.eventStreamModel}return r.prototype=Object.create(e.prototype),r.prototype._transform=function(e,r,n){try{var i=t(this.parser,e,this.eventStreamModel);return this.push(i),n()}catch(e){n(e)}},Or={EventUnmarshallerStream:r}}().EventUnmarshallerStream;return Rr={createEventStream:function(r,n,i){var o=new t({parser:n,eventStreamModel:i}),s=new e;return r.pipe(s).pipe(o),r.on("error",function(e){s.emit("error",e)}),s.on("error",function(e){o.emit("error",e)}),o}},Rr}function Zr(){if(Fr)return Mr;Fr=1;var e=(Lr?Nr:(Lr=1,Nr={eventMessageChunker:function(e){for(var t=[],r=0;r<e.length;){var n=e.readInt32BE(r),i=e.slice(r,n+r);r+=n,t.push(i)}return t}})).eventMessageChunker,t=Jr().parseEvent;return Mr={createEventStream:function(r,n,i){for(var o=e(r),s=[],a=0;a<o.length;a++)s.push(t(n,o[a],i));return s}},Mr}function en(){if(Ur)return Br;Ur=1;var e=Kt().util,t=u,r=e.buffer.toBuffer;function n(e){e=e||{},this.enabled=e.enabled||!1,this.port=e.port||31e3,this.clientId=e.clientId||"",this.address=e.host||"127.0.0.1",this.clientId.length>255&&(this.clientId=this.clientId.substr(0,255)),this.messagesInFlight=0}return n.prototype.fieldsToTrim={UserAgent:256,SdkException:128,SdkExceptionMessage:512,AwsException:128,AwsExceptionMessage:512,FinalSdkException:128,FinalSdkExceptionMessage:512,FinalAwsException:128,FinalAwsExceptionMessage:512},n.prototype.trimFields=function(e){for(var t=Object.keys(this.fieldsToTrim),r=0,n=t.length;r<n;r++){var i=t[r];if(e.hasOwnProperty(i)){var o=this.fieldsToTrim[i],s=e[i];s&&s.length>o&&(e[i]=s.substr(0,o))}}return e},n.prototype.eventHandler=function(e){e.ClientId=this.clientId,this.trimFields(e);var t=r(JSON.stringify(e));!this.enabled||t.length>8192||this.publishDatagram(t)},n.prototype.publishDatagram=function(e){var t=this;this.getClient(),this.messagesInFlight++,this.client.send(e,0,e.length,this.port,this.address,function(e,r){--t.messagesInFlight<=0&&t.destroyClient()})},n.prototype.getClient=function(){return this.client||(this.client=t.createSocket("udp4")),this.client},n.prototype.destroyClient=function(){this.client&&(this.client.close(),this.client=void 0)},Br={Publisher:n}}function tn(){if(Wr)return Vr;Wr=1;var e=Kt();function t(e){var t=["false","0",void 0];return!e.enabled||t.indexOf(e.enabled.toLowerCase())>=0?e.enabled=!1:e.enabled=!0,e.port=e.port?parseInt(e.port,10):void 0,e}return Vr=function(){var r={port:void 0,clientId:void 0,enabled:void 0,host:void 0};return function(e){return e.port=e.port||process.env.AWS_CSM_PORT,e.enabled=e.enabled||process.env.AWS_CSM_ENABLED,e.clientId=e.clientId||process.env.AWS_CSM_CLIENT_ID,e.host=e.host||process.env.AWS_CSM_HOST,e.port&&e.enabled&&e.clientId&&e.host||["false","0"].indexOf(e.enabled)>=0}(r)||function(t){try{var r=e.util.iniLoader.loadFrom({isConfig:!0,filename:process.env[e.util.sharedConfigFileEnv]})[process.env.AWS_PROFILE||e.util.defaultProfile]}catch(e){return!1}r&&(t.port=t.port||r.csm_port,t.enabled=t.enabled||r.csm_enabled,t.clientId=t.clientId||r.csm_client_id,t.host=t.host||r.csm_host,t.port&&t.enabled&&t.clientId&&t.host)}(r),t(r)},Vr}var rn,nn,on,sn={};function an(){if(nn)return rn;nn=1;var e=Kt(),t=c,r=l;function n(t){return e.util.ini.parse(e.util.readFileSync(t))}function i(e){var t={};return Object.keys(e).forEach(function(r){/^sso-session\s/.test(r)||Object.defineProperty(t,r.replace(/^profile\s/,""),{value:e[r],enumerable:!0})}),t}function o(e){var t={};return Object.keys(e).forEach(function(r){/^sso-session\s/.test(r)&&Object.defineProperty(t,r.replace(/^sso-session\s/,""),{value:e[r],enumerable:!0})}),t}e.IniLoader=e.util.inherit({constructor:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},clearCachedFiles:function(){this.resolvedProfiles={},this.resolvedSsoSessions={}},loadFrom:function(e){var t=!0===(e=e||{}).isConfig,r=e.filename||this.getDefaultFilePath(t);if(!this.resolvedProfiles[r]){var o=n(r);t?Object.defineProperty(this.resolvedProfiles,r,{value:i(o)}):Object.defineProperty(this.resolvedProfiles,r,{value:o})}return this.resolvedProfiles[r]},loadSsoSessionsFrom:function(e){var t=(e=e||{}).filename||this.getDefaultFilePath(!0);if(!this.resolvedSsoSessions[t]){var r=n(t);Object.defineProperty(this.resolvedSsoSessions,t,{value:o(r)})}return this.resolvedSsoSessions[t]},getDefaultFilePath:function(e){return r.join(this.getHomeDir(),".aws",e?"config":"credentials")},getHomeDir:function(){var r=process.env,n=r.HOME||r.USERPROFILE||(r.HOMEPATH?(r.HOMEDRIVE||"C:/")+r.HOMEPATH:null);if(n)return n;if("function"==typeof t.homedir)return t.homedir();throw e.util.error(new Error("Cannot load credentials, HOME path not set"))}});var s=e.IniLoader;return rn={IniLoader:s}}var un,cn={};var ln,pn={};var hn,dn={};var fn,mn,gn,yn={},vn={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",protocols:["json"],serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30",auth:["aws.auth#sigv4"]},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}},authtype:"none",auth:["smithy.api#noAuth"]},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}},authtype:"none",auth:["smithy.api#noAuth"]},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}},authtype:"none",auth:["smithy.api#noAuth"]},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},PrincipalTags:{shape:"S1s"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},SetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}},authtype:"none",auth:["smithy.api#noAuth"]},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}},S1s:{type:"map",key:{},value:{}}}},bn={pagination:{ListIdentityPools:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken",result_key:"IdentityPools"}}};function En(){if(gn)return yn;gn=1;var e=Kt(),t=function(){if(mn)return fn;mn=1,oa();var e=Kt(),t=e.Service,r=e.apiLoader;return r.services.cognitoidentity={},e.CognitoIdentity=t.defineService("cognitoidentity",["2014-06-30"]),Object.defineProperty(r.services.cognitoidentity,"2014-06-30",{get:function(){var e=vn;return e.paginators=bn.pagination,e},enumerable:!0,configurable:!0}),fn=e.CognitoIdentity}(),r=ma();return e.CognitoIdentityCredentials=e.util.inherit(e.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(t,r){e.Credentials.call(this),this.expired=!0,this.params=t,this.data=null,this._identityId=null,this._clientConfig=e.util.copy(r||{}),this.loadCachedId();var n=this;Object.defineProperty(this,"identityId",{get:function(){return n.loadCachedId(),n._identityId||n.params.IdentityId},set:function(e){n._identityId=e}})},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.data=null,t._identityId=null,t.getId(function(r){r?(t.clearIdOnNotAuthorized(r),e(r)):t.params.RoleArn?t.getCredentialsFromSTS(e):t.getCredentialsForIdentity(e)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var e=this.params.IdentityPoolId,t=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+e+t],delete this.storage[this.localStorageKey.providers+e+t]},clearIdOnNotAuthorized:function(e){"NotAuthorizedException"==e.code&&this.clearCachedId()},getId:function(e){var t=this;if("string"==typeof t.params.IdentityId)return e(null,t.params.IdentityId);t.cognito.getId(function(r,n){!r&&n.IdentityId?(t.params.IdentityId=n.IdentityId,e(null,n.IdentityId)):e(r)})},loadCredentials:function(e,t){e&&t&&(t.expired=!1,t.accessKeyId=e.Credentials.AccessKeyId,t.secretAccessKey=e.Credentials.SecretKey,t.sessionToken=e.Credentials.SessionToken,t.expireTime=e.Credentials.Expiration)},getCredentialsForIdentity:function(e){var t=this;t.cognito.getCredentialsForIdentity(function(r,n){r?t.clearIdOnNotAuthorized(r):(t.cacheId(n),t.data=n,t.loadCredentials(t.data,t)),e(r)})},getCredentialsFromSTS:function(e){var t=this;t.cognito.getOpenIdToken(function(r,n){r?(t.clearIdOnNotAuthorized(r),e(r)):(t.cacheId(n),t.params.WebIdentityToken=n.Token,t.webIdentityCredentials.refresh(function(r){r||(t.data=t.webIdentityCredentials.data,t.sts.credentialsFrom(t.data,t)),e(r)}))})},loadCachedId:function(){var t=this;if(e.util.isBrowser()&&!t.params.IdentityId){var r=t.getStorage("id");if(r&&t.params.Logins){var n=Object.keys(t.params.Logins);0!==(t.getStorage("providers")||"").split(",").filter(function(e){return-1!==n.indexOf(e)}).length&&(t.params.IdentityId=r)}else r&&(t.params.IdentityId=r)}},createClients:function(){var n=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new e.WebIdentityCredentials(this.params,n),!this.cognito){var i=e.util.merge({},n);i.params=this.params,this.cognito=new t(i)}this.sts=this.sts||new r(n)},cacheId:function(t){this._identityId=t.IdentityId,this.params.IdentityId=this._identityId,e.util.isBrowser()&&(this.setStorage("id",t.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(e){return this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(e,t){try{this.storage[this.localStorageKey[e]+this.params.IdentityPoolId+(this.params.LoginId||"")]=t}catch(e){}},storage:function(){try{var t=e.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return t["aws.test-storage"]="foobar",delete t["aws.test-storage"],t}catch(e){return{}}}()}),yn}var wn,Sn={};var Cn,Tn={};function _n(){if(Cn)return Tn;Cn=1;var e=Kt(),t=p,r=e.util.iniLoader;return e.ProcessCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),t=t||{},this.filename=t.filename,this.profile=t.profile||process.env.AWS_PROFILE||e.util.defaultProfile,this.get(t.callback||e.util.fn.noop)},load:function(t){var n=this;try{var i=e.util.getProfilesFromSharedConfig(r,this.filename)[this.profile]||{};if(0===Object.keys(i).length)throw e.util.error(new Error("Profile "+this.profile+" not found"),{code:"ProcessCredentialsProviderFailure"});if(!i.credential_process)throw e.util.error(new Error("Profile "+this.profile+" did not include credential process"),{code:"ProcessCredentialsProviderFailure"});this.loadViaCredentialProcess(i,function(e,r){e?t(e,null):(n.expired=!1,n.accessKeyId=r.AccessKeyId,n.secretAccessKey=r.SecretAccessKey,n.sessionToken=r.SessionToken,r.Expiration&&(n.expireTime=new Date(r.Expiration)),t(null))})}catch(e){t(e)}},loadViaCredentialProcess:function(r,n){t.exec(r.credential_process,{env:process.env},function(t,r,i){if(t)n(e.util.error(new Error("credential_process returned error"),{code:"ProcessCredentialsProviderFailure"}),null);else try{var o=JSON.parse(r);if(o.Expiration){var s=e.util.date.getDate();if(new Date(o.Expiration)<s)throw Error("credential_process returned expired credentials")}if(1!==o.Version)throw Error("credential_process does not return Version == 1");n(null,o)}catch(t){n(e.util.error(new Error(t.message),{code:"ProcessCredentialsProviderFailure"}),null)}})},refresh:function(t){r.clearCachedFiles(),this.coalesceRefresh(t||e.util.fn.callback)}}),Tn}var In,xn={},An={};function Pn(){return In||(In=1,function(){An.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}.call(An)),An}var On,kn={},Rn={},Dn={};function Nn(){return On||(On=1,function(){var e,t,r,n,i,o,s,a=[].slice,u={}.hasOwnProperty;e=function(){var e,t,r,n,o,s;if(s=arguments[0],o=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(e=0,r=o.length;e<r;e++)if(null!=(n=o[e]))for(t in n)u.call(n,t)&&(s[t]=n[t]);return s},i=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},o=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},r=function(e){return i(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},n=function(e){var t;if(r(e))return!e.length;for(t in e)if(u.call(e,t))return!1;return!0},s=function(e){var t,r;return o(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},t=function(e){return i(e.valueOf)?e.valueOf():e},Dn.assign=e,Dn.isFunction=i,Dn.isObject=o,Dn.isArray=r,Dn.isEmpty=n,Dn.isPlainObject=s,Dn.getValue=t}.call(Dn)),Dn}var Ln,Mn={exports:{}},Fn=Mn.exports;function qn(){return Ln||(Ln=1,function(){Mn.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}.call(Fn)),Mn.exports}var jn,Bn={exports:{}},Un={exports:{}},Vn={exports:{}},Wn=Vn.exports;function zn(){return jn||(jn=1,function(){Vn.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}.call(Wn)),Vn.exports}var Hn,Kn={exports:{}},Gn=Kn.exports;function Xn(){return Hn||(Hn=1,function(){Kn.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}.call(Gn)),Kn.exports}var Yn,Qn=Un.exports;function Jn(){return Yn||(Yn=1,function(){var e,t;e=zn(),t=Xn(),Un.exports=function(){function r(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(r.prototype,"parameterNames",{get:function(){return new t(Object.keys(this.defaultParams))}}),r.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},r.prototype.canSetParameter=function(e,t){return!0},r.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},r}()}.call(Qn)),Un.exports}var $n,Zn={exports:{}},ei={exports:{}},ti={exports:{}},ri=ti.exports;function ni(){return $n||($n=1,function(){ti.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}.call(ri)),ti.exports}var ii,oi={exports:{}},si=oi.exports;function ai(){return ii||(ii=1,function(){var e;e=ni(),To(),oi.exports=function(){function t(t,r,n){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},t.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},t}()}.call(si)),oi.exports}var ui,ci={exports:{}},li=ci.exports;function pi(){return ui||(ui=1,function(){ci.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}.call(li)),ci.exports}var hi,di=ei.exports;function fi(){return hi||(hi=1,function(){var e,t,r,n,i,o,s,a,u={}.hasOwnProperty;a=Nn(),s=a.isObject,o=a.isFunction,i=a.getValue,n=To(),e=ni(),t=ai(),r=pi(),ei.exports=function(n){function a(t,r,n){var i,o,s,u;if(a.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=n&&this.attribute(n),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(o=0,s=(u=t.children).length;o<s;o++)if((i=u[o]).type===e.DocType){i.name=this.name;break}}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),Object.defineProperty(a.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(a.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(a.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(a.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new r(this.attribs)),this.attributeMap}}),a.prototype.clone=function(){var e,t,r,n;for(t in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)u.call(n,t)&&(e=n[t],r.attribs[t]=e.clone());return r.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=r,r.children.push(t)}),r},a.prototype.attribute=function(e,r){var n,a;if(null!=e&&(e=i(e)),s(e))for(n in e)u.call(e,n)&&(a=e[n],this.attribute(n,a));else o(r)&&(r=r.apply()),this.options.keepNullAttributes&&null==r?this.attribs[e]=new t(this,e,""):null!=r&&(this.attribs[e]=new t(this,e,r));return this},a.prototype.removeAttribute=function(e){var t,r,n;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=i(e),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attribs[t];else delete this.attribs[e];return this},a.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},a.prototype.att=function(e,t){return this.attribute(e,t)},a.prototype.a=function(e,t){return this.attribute(e,t)},a.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},a.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},a.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},a.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},a.prototype.setIdAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(e){var t,r,n;if(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=r=0,n=this.attribs.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},a}(n)}.call(di)),ei.exports}var mi,gi={exports:{}},yi={exports:{}},vi=yi.exports;function bi(){return mi||(mi=1,function(){var e,t={}.hasOwnProperty;e=To(),yi.exports=function(e){function r(e){r.__super__.constructor.call(this,e),this.value=""}return function(e,r){for(var n in r)t.call(r,n)&&(e[n]=r[n]);function i(){this.constructor=e}i.prototype=r.prototype,e.prototype=new i,e.__super__=r.prototype}(r,e),Object.defineProperty(r.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},r}(e)}.call(vi)),yi.exports}var Ei,wi=gi.exports;function Si(){return Ei||(Ei=1,function(){var e,t,r={}.hasOwnProperty;e=ni(),t=bi(),gi.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(r)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},n}(t)}.call(wi)),gi.exports}var Ci,Ti={exports:{}},_i=Ti.exports;function Ii(){return Ci||(Ci=1,function(){var e,t,r={}.hasOwnProperty;e=ni(),t=bi(),Ti.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(r)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},n}(t)}.call(_i)),Ti.exports}var xi,Ai={exports:{}},Pi=Ai.exports;function Oi(){return xi||(xi=1,function(){var e,t,r,n={}.hasOwnProperty;r=Nn().isObject,t=To(),e=ni(),Ai.exports=function(t){function i(t,n,o,s){var a;i.__super__.constructor.call(this,t),r(n)&&(n=(a=n).version,o=a.encoding,s=a.standalone),n||(n="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(n),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,t),i.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},i}(t)}.call(Pi)),Ai.exports}var ki,Ri={exports:{}},Di={exports:{}},Ni=Di.exports;function Li(){return ki||(ki=1,function(){var e,t,r={}.hasOwnProperty;t=To(),e=ni(),Di.exports=function(t){function n(t,r,i,o,s,a){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},n}(t)}.call(Ni)),Di.exports}var Mi,Fi={exports:{}},qi=Fi.exports;function ji(){return Mi||(Mi=1,function(){var e,t,r,n={}.hasOwnProperty;r=Nn().isObject,t=To(),e=ni(),Fi.exports=function(t){function i(t,n,o,s){if(i.__super__.constructor.call(this,t),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!n,this.name=this.stringify.name(o),this.type=e.EntityDeclaration,r(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,t),Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(i.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(i.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlVersion",{get:function(){return null}}),i.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},i}(t)}.call(qi)),Fi.exports}var Bi,Ui={exports:{}},Vi=Ui.exports;function Wi(){return Bi||(Bi=1,function(){var e,t,r={}.hasOwnProperty;t=To(),e=ni(),Ui.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},n}(t)}.call(Vi)),Ui.exports}var zi,Hi={exports:{}},Ki=Hi.exports;function Gi(){return zi||(zi=1,function(){var e,t,r={}.hasOwnProperty;t=To(),e=ni(),Hi.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=e.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},n}(t)}.call(Ki)),Hi.exports}var Xi,Yi=Ri.exports;function Qi(){return Xi||(Xi=1,function(){var e,t,r,n,i,o,s,a,u={}.hasOwnProperty;a=Nn().isObject,s=To(),e=ni(),t=Li(),n=ji(),r=Wi(),i=Gi(),o=pi(),Ri.exports=function(s){function c(t,r,n){var i,o,s,u,l,p;if(c.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(o=0,s=(u=t.children).length;o<s;o++)if((i=u[o]).type===e.Element){this.name=i.name;break}this.documentObject=t,a(r)&&(r=(l=r).pubID,n=l.sysID),null==n&&(n=(p=[r,n])[0],r=p[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(c,s),Object.defineProperty(c.prototype,"entities",{get:function(){var t,r,n,i,s;for(i={},r=0,n=(s=this.children).length;r<n;r++)(t=s[r]).type!==e.EntityDeclaration||t.pe||(i[t.name]=t);return new o(i)}}),Object.defineProperty(c.prototype,"notations",{get:function(){var t,r,n,i,s;for(i={},r=0,n=(s=this.children).length;r<n;r++)(t=s[r]).type===e.NotationDeclaration&&(i[t.name]=t);return new o(i)}}),Object.defineProperty(c.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(c.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(c.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),c.prototype.element=function(e,t){var n;return n=new r(this,e,t),this.children.push(n),this},c.prototype.attList=function(e,r,n,i,o){var s;return s=new t(this,e,r,n,i,o),this.children.push(s),this},c.prototype.entity=function(e,t){var r;return r=new n(this,!1,e,t),this.children.push(r),this},c.prototype.pEntity=function(e,t){var r;return r=new n(this,!0,e,t),this.children.push(r),this},c.prototype.notation=function(e,t){var r;return r=new i(this,e,t),this.children.push(r),this},c.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},c.prototype.ele=function(e,t){return this.element(e,t)},c.prototype.att=function(e,t,r,n,i){return this.attList(e,t,r,n,i)},c.prototype.ent=function(e,t){return this.entity(e,t)},c.prototype.pent=function(e,t){return this.pEntity(e,t)},c.prototype.not=function(e,t){return this.notation(e,t)},c.prototype.up=function(){return this.root()||this.documentObject},c.prototype.isEqualNode=function(e){return!!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},c}(s)}.call(Yi)),Ri.exports}var Ji,$i={exports:{}},Zi=$i.exports;function eo(){return Ji||(Ji=1,function(){var e,t,r={}.hasOwnProperty;e=ni(),t=To(),$i.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(r)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},n}(t)}.call(Zi)),$i.exports}var to,ro={exports:{}},no=ro.exports;function io(){return to||(to=1,function(){var e,t,r={}.hasOwnProperty;e=ni(),t=bi(),ro.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(r)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var e,t,r;for(r="",t=this.previousSibling;t;)r=t.data+r,t=t.previousSibling;for(r+=this.data,e=this.nextSibling;e;)r+=e.data,e=e.nextSibling;return r}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(t)}.call(no)),ro.exports}var oo,so={exports:{}},ao=so.exports;function uo(){return oo||(oo=1,function(){var e,t,r={}.hasOwnProperty;e=ni(),t=bi(),so.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},n}(t)}.call(ao)),so.exports}var co,lo={exports:{}},po=lo.exports;function ho(){return co||(co=1,function(){var e,t,r={}.hasOwnProperty;t=To(),e=ni(),lo.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.type=e.Dummy}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(t)}.call(po)),lo.exports}var fo,mo={exports:{}},go=mo.exports;function yo(){return fo||(fo=1,function(){mo.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}.call(go)),mo.exports}var vo,bo={exports:{}},Eo=bo.exports;function wo(){return vo||(vo=1,function(){bo.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}.call(Eo)),bo.exports}var So,Co=Zn.exports;function To(){return So||(So=1,function(){var e,t,r,n,i,o,s,a,u,c,l,p,h,d,f,m,g,y={}.hasOwnProperty;g=Nn(),m=g.isObject,f=g.isFunction,d=g.isEmpty,h=g.getValue,a=null,r=null,n=null,i=null,o=null,l=null,p=null,c=null,s=null,t=null,u=null,e=null,Zn.exports=function(){function g(h){this.parent=h,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,a||(a=fi(),r=Si(),n=Ii(),i=Oi(),o=Qi(),l=eo(),p=io(),c=uo(),s=ho(),t=ni(),u=yo(),pi(),e=wo())}return Object.defineProperty(g.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(g.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(g.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(g.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new u(this.children)),this.childNodeList}}),Object.defineProperty(g.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(g.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(g.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(g.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(g.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(g.prototype,"textContent",{get:function(){var e,r,n,i,o;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(o="",r=0,n=(i=this.children).length;r<n;r++)(e=i[r]).textContent&&(o+=e.textContent);return o}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),g.prototype.setParent=function(e){var t,r,n,i,o;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=[],r=0,n=(i=this.children).length;r<n;r++)t=i[r],o.push(t.setParent(this));return o},g.prototype.element=function(e,t,r){var n,i,o,s,a,u,c,l,p,g,v;if(u=null,null===t&&null==r&&(t=(p=[{},null])[0],r=p[1]),null==t&&(t={}),t=h(t),m(t)||(r=(g=[t,r])[0],t=g[1]),null!=e&&(e=h(e)),Array.isArray(e))for(o=0,c=e.length;o<c;o++)i=e[o],u=this.element(i);else if(f(e))u=this.element(e.apply());else if(m(e)){for(a in e)if(y.call(e,a))if(v=e[a],f(v)&&(v=v.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),v);else if(!this.options.separateArrayItems&&Array.isArray(v)&&d(v))u=this.dummy();else if(m(v)&&d(v))u=this.element(a);else if(this.options.keepNullNodes||null!=v)if(!this.options.separateArrayItems&&Array.isArray(v))for(s=0,l=v.length;s<l;s++)i=v[s],(n={})[a]=i,u=this.element(n);else m(v)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?u=this.element(v):(u=this.element(a)).element(v):u=this.element(a,v);else u=this.dummy()}else u=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r):this.dummy();if(null==u)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return u},g.prototype.insertBefore=function(e,t,r){var n,i,o,s,a;if(null!=e?e.type:void 0)return s=t,(o=e).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,a),n},g.prototype.insertAfter=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},g.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},g.prototype.node=function(e,t,r){var n,i;return null!=e&&(e=h(e)),t||(t={}),t=h(t),m(t)||(r=(i=[t,r])[0],t=i[1]),n=new a(this,e,t),null!=r&&n.text(r),this.children.push(n),n},g.prototype.text=function(e){var t;return m(e)&&this.element(e),t=new p(this,e),this.children.push(t),this},g.prototype.cdata=function(e){var t;return t=new r(this,e),this.children.push(t),this},g.prototype.comment=function(e){var t;return t=new n(this,e),this.children.push(t),this},g.prototype.commentBefore=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},g.prototype.commentAfter=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},g.prototype.raw=function(e){var t;return t=new l(this,e),this.children.push(t),this},g.prototype.dummy=function(){return new s(this)},g.prototype.instruction=function(e,t){var r,n,i,o,s;if(null!=e&&(e=h(e)),null!=t&&(t=h(t)),Array.isArray(e))for(o=0,s=e.length;o<s;o++)r=e[o],this.instruction(r);else if(m(e))for(r in e)y.call(e,r)&&(n=e[r],this.instruction(r,n));else f(t)&&(t=t.apply()),i=new c(this,e,t),this.children.push(i);return this},g.prototype.instructionBefore=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},g.prototype.instructionAfter=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},g.prototype.declaration=function(e,r,n){var o,s;return o=this.document(),s=new i(o,e,r,n),0===o.children.length?o.children.unshift(s):o.children[0].type===t.Declaration?o.children[0]=s:o.children.unshift(s),o.root()||o},g.prototype.dtd=function(e,r){var n,i,s,a,u,c,l,p,h;for(n=this.document(),i=new o(n,e,r),s=a=0,c=(p=n.children).length;a<c;s=++a)if(p[s].type===t.DocType)return n.children[s]=i,i;for(s=u=0,l=(h=n.children).length;u<l;s=++u)if(h[s].isRoot)return n.children.splice(s,0,i),i;return n.children.push(i),i},g.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},g.prototype.root=function(){var e;for(e=this;e;){if(e.type===t.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},g.prototype.document=function(){var e;for(e=this;e;){if(e.type===t.Document)return e;e=e.parent}},g.prototype.end=function(e){return this.document().end(e)},g.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},g.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},g.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},g.prototype.debugInfo=function(e){var t,r;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},g.prototype.ele=function(e,t,r){return this.element(e,t,r)},g.prototype.nod=function(e,t,r){return this.node(e,t,r)},g.prototype.txt=function(e){return this.text(e)},g.prototype.dat=function(e){return this.cdata(e)},g.prototype.com=function(e){return this.comment(e)},g.prototype.ins=function(e,t){return this.instruction(e,t)},g.prototype.doc=function(){return this.document()},g.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},g.prototype.e=function(e,t,r){return this.element(e,t,r)},g.prototype.n=function(e,t,r){return this.node(e,t,r)},g.prototype.t=function(e){return this.text(e)},g.prototype.d=function(e){return this.cdata(e)},g.prototype.c=function(e){return this.comment(e)},g.prototype.r=function(e){return this.raw(e)},g.prototype.i=function(e,t){return this.instruction(e,t)},g.prototype.u=function(){return this.up()},g.prototype.importXMLBuilder=function(e){return this.importDocument(e)},g.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.hasChildNodes=function(){return 0!==this.children.length},g.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isSupported=function(e,t){return!0},g.prototype.hasAttributes=function(){return 0!==this.attribs.length},g.prototype.compareDocumentPosition=function(t){var r,n;return(r=this)===t?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?n|=e.Preceding:n|=e.Following,n):r.isAncestor(t)?e.Contains|e.Preceding:r.isDescendant(t)?e.Contains|e.Following:r.isPreceding(t)?e.Preceding:e.Following},g.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isEqualNode=function(e){var t,r,n;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},g.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setUserData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},g.prototype.isDescendant=function(e){var t,r,n,i;for(r=0,n=(i=this.children).length;r<n;r++){if(e===(t=i[r]))return!0;if(t.isDescendant(e))return!0}return!1},g.prototype.isAncestor=function(e){return e.isDescendant(this)},g.prototype.isPreceding=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t<r},g.prototype.isFollowing=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t>r},g.prototype.treePosition=function(e){var t,r;return r=0,t=!1,this.foreachTreeNode(this.document(),function(n){if(r++,!t&&n===e)return t=!0}),t?r:-1},g.prototype.foreachTreeNode=function(e,t){var r,n,i,o,s;for(e||(e=this.document()),n=0,i=(o=e.children).length;n<i;n++){if(s=t(r=o[n]))return s;if(s=this.foreachTreeNode(r,t))return s}},g}()}.call(Co)),Zn.exports}var _o,Io={exports:{}},xo=Io.exports;function Ao(){return _o||(_o=1,function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty;Io.exports=function(){function r(r){var n,i,o;for(n in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),r||(r={}),this.options=r,this.options.version||(this.options.version="1.0"),i=r.stringify||{})t.call(i,n)&&(o=i[n],this[n]=o)}return r.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},r.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},r.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},r.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},r.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},r.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},r.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},r.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},r.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},r.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},r.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},r.prototype.convertAttKey="@",r.prototype.convertPIKey="?",r.prototype.convertTextKey="#text",r.prototype.convertCDataKey="#cdata",r.prototype.convertCommentKey="#comment",r.prototype.convertRawKey="#raw",r.prototype.assertLegalChar=function(e){var t,r;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+r.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+r.index);return e},r.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},r.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},r.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},r}()}.call(xo)),Io.exports}var Po,Oo={exports:{}},ko={exports:{}},Ro={exports:{}},Do=Ro.exports;function No(){return Po||(Po=1,function(){Ro.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}.call(Do)),Ro.exports}var Lo,Mo=ko.exports;function Fo(){return Lo||(Lo=1,function(){var e,t,r,n={}.hasOwnProperty;r=Nn().assign,e=ni(),Oi(),Qi(),Si(),Ii(),fi(),eo(),io(),uo(),ho(),Li(),Wi(),ji(),Gi(),t=No(),ko.exports=function(){function i(e){var t,r,i;for(t in e||(e={}),this.options=e,r=e.writer||{})n.call(r,t)&&(i=r[t],this["_"+t]=this[t],this[t]=i)}return i.prototype.filterOptions=function(e){var n,i,o,s,a,u,c,l;return e||(e={}),e=r({},this.options,e),(n={writer:this}).pretty=e.pretty||!1,n.allowEmpty=e.allowEmpty||!1,n.indent=null!=(i=e.indent)?i:"  ",n.newline=null!=(o=e.newline)?o:"\n",n.offset=null!=(s=e.offset)?s:0,n.dontPrettyTextNodes=null!=(a=null!=(u=e.dontPrettyTextNodes)?u:e.dontprettytextnodes)?a:0,n.spaceBeforeSlash=null!=(c=null!=(l=e.spaceBeforeSlash)?l:e.spacebeforeslash)?c:"",!0===n.spaceBeforeSlash&&(n.spaceBeforeSlash=" "),n.suppressPrettyCount=0,n.user={},n.state=t.None,n},i.prototype.indent=function(e,t,r){var n;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(n=(r||0)+t.offset+1)>0?new Array(n).join(t.indent):""},i.prototype.endline=function(e,t,r){return!t.pretty||t.suppressPrettyCount?"":t.newline},i.prototype.attribute=function(e,t,r){var n;return this.openAttribute(e,t,r),n=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,r),n},i.prototype.cdata=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<![CDATA[",r.state=t.InsideTag,i+=e.value,r.state=t.CloseTag,i+="]]>"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.comment=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"\x3c!-- ",r.state=t.InsideTag,i+=e.value,r.state=t.CloseTag,i+=" --\x3e"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.declaration=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<?xml",r.state=t.InsideTag,i+=' version="'+e.version+'"',null!=e.encoding&&(i+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(i+=' standalone="'+e.standalone+'"'),r.state=t.CloseTag,i+=r.spaceBeforeSlash+"?>",i+=this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.docType=function(e,r,n){var i,o,s,a,u;if(n||(n=0),this.openNode(e,r,n),r.state=t.OpenTag,a=this.indent(e,r,n),a+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(a+=" [",a+=this.endline(e,r,n),r.state=t.InsideTag,o=0,s=(u=e.children).length;o<s;o++)i=u[o],a+=this.writeChildNode(i,r,n+1);r.state=t.CloseTag,a+="]"}return r.state=t.CloseTag,a+=r.spaceBeforeSlash+">",a+=this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),a},i.prototype.element=function(r,i,o){var s,a,u,c,l,p,h,d,f,m,g,y,v,b;for(f in o||(o=0),m=!1,g="",this.openNode(r,i,o),i.state=t.OpenTag,g+=this.indent(r,i,o)+"<"+r.name,y=r.attribs)n.call(y,f)&&(s=y[f],g+=this.attribute(s,i,o));if(c=0===(u=r.children.length)?null:r.children[0],0===u||r.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))i.allowEmpty?(g+=">",i.state=t.CloseTag,g+="</"+r.name+">"+this.endline(r,i,o)):(i.state=t.CloseTag,g+=i.spaceBeforeSlash+"/>"+this.endline(r,i,o));else if(!i.pretty||1!==u||c.type!==e.Text&&c.type!==e.Raw||null==c.value){if(i.dontPrettyTextNodes)for(l=0,h=(v=r.children).length;l<h;l++)if(((a=v[l]).type===e.Text||a.type===e.Raw)&&null!=a.value){i.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(r,i,o),i.state=t.InsideTag,p=0,d=(b=r.children).length;p<d;p++)a=b[p],g+=this.writeChildNode(a,i,o+1);i.state=t.CloseTag,g+=this.indent(r,i,o)+"</"+r.name+">",m&&i.suppressPrettyCount--,g+=this.endline(r,i,o),i.state=t.None}else g+=">",i.state=t.InsideTag,i.suppressPrettyCount++,m=!0,g+=this.writeChildNode(c,i,o+1),i.suppressPrettyCount--,m=!1,i.state=t.CloseTag,g+="</"+r.name+">"+this.endline(r,i,o);return this.closeNode(r,i,o),g},i.prototype.writeChildNode=function(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},i.prototype.processingInstruction=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<?",r.state=t.InsideTag,i+=e.target,e.value&&(i+=" "+e.value),r.state=t.CloseTag,i+=r.spaceBeforeSlash+"?>",i+=this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.raw=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n),r.state=t.InsideTag,i+=e.value,r.state=t.CloseTag,i+=this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.text=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n),r.state=t.InsideTag,i+=e.value,r.state=t.CloseTag,i+=this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.dtdAttList=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<!ATTLIST",r.state=t.InsideTag,i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(i+=" "+e.defaultValueType),e.defaultValue&&(i+=' "'+e.defaultValue+'"'),r.state=t.CloseTag,i+=r.spaceBeforeSlash+">"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.dtdElement=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<!ELEMENT",r.state=t.InsideTag,i+=" "+e.name+" "+e.value,r.state=t.CloseTag,i+=r.spaceBeforeSlash+">"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.dtdEntity=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<!ENTITY",r.state=t.InsideTag,e.pe&&(i+=" %"),i+=" "+e.name,e.value?i+=' "'+e.value+'"':(e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.nData&&(i+=" NDATA "+e.nData)),r.state=t.CloseTag,i+=r.spaceBeforeSlash+">"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.dtdNotation=function(e,r,n){var i;return this.openNode(e,r,n),r.state=t.OpenTag,i=this.indent(e,r,n)+"<!NOTATION",r.state=t.InsideTag,i+=" "+e.name,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?i+=' PUBLIC "'+e.pubID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),r.state=t.CloseTag,i+=r.spaceBeforeSlash+">"+this.endline(e,r,n),r.state=t.None,this.closeNode(e,r,n),i},i.prototype.openNode=function(e,t,r){},i.prototype.closeNode=function(e,t,r){},i.prototype.openAttribute=function(e,t,r){},i.prototype.closeAttribute=function(e,t,r){},i}()}.call(Mo)),ko.exports}var qo,jo=Oo.exports;function Bo(){return qo||(qo=1,function(){var e,t={}.hasOwnProperty;e=Fo(),Oo.exports=function(e){function r(e){r.__super__.constructor.call(this,e)}return function(e,r){for(var n in r)t.call(r,n)&&(e[n]=r[n]);function i(){this.constructor=e}i.prototype=r.prototype,e.prototype=new i,e.__super__=r.prototype}(r,e),r.prototype.document=function(e,t){var r,n,i,o,s;for(t=this.filterOptions(t),o="",n=0,i=(s=e.children).length;n<i;n++)r=s[n],o+=this.writeChildNode(r,t,0);return t.pretty&&o.slice(-t.newline.length)===t.newline&&(o=o.slice(0,-t.newline.length)),o},r}(e)}.call(jo)),Oo.exports}var Uo,Vo=Bn.exports;function Wo(){return Uo||(Uo=1,function(){var e,t,r,n,i,o,s,a={}.hasOwnProperty;s=Nn().isPlainObject,r=qn(),t=Jn(),n=To(),e=ni(),o=Ao(),i=Bo(),Bn.exports=function(n){function u(r){u.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,r||(r={}),r.writer||(r.writer=new i),this.options=r,this.stringify=new o(r)}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(u,n),Object.defineProperty(u.prototype,"implementation",{value:new r}),Object.defineProperty(u.prototype,"doctype",{get:function(){var t,r,n,i;for(r=0,n=(i=this.children).length;r<n;r++)if((t=i[r]).type===e.DocType)return t;return null}}),Object.defineProperty(u.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(u.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(u.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(u.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(u.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(u.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(u.prototype,"origin",{get:function(){return null}}),Object.defineProperty(u.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(u.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(u.prototype,"contentType",{get:function(){return null}}),u.prototype.end=function(e){var t;return t={},e?s(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},u.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},u.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.renameNode=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createNodeIterator=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.createTreeWalker=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},u}(n)}.call(Vo)),Bn.exports}var zo,Ho={exports:{}},Ko=Ho.exports;function Go(){return zo||(zo=1,function(){var e,t,r,n,i,o,s,a,u,c,l,p,h,d,f,m,g,y,v,b,E,w,S,C={}.hasOwnProperty;S=Nn(),E=S.isObject,b=S.isFunction,w=S.isPlainObject,v=S.getValue,e=ni(),p=Wo(),h=fi(),n=Si(),i=Ii(),f=eo(),y=io(),d=uo(),c=Oi(),l=Qi(),o=Li(),a=ji(),s=Wi(),u=Gi(),r=ai(),g=Ao(),m=Bo(),t=No(),Ho.exports=function(){function S(t,r,n){var i;this.name="?xml",this.type=e.Document,t||(t={}),i={},t.writer?w(t.writer)&&(i=t.writer,t.writer=new m):t.writer=new m,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new g(t),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return S.prototype.createChildNode=function(t){var r,n,i,o,s,a,u,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(n in i={},u=t.attribs)C.call(u,n)&&(r=u[n],i[n]=r.value);this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,a=(c=t.children).length;s<a;s++)o=c[s],this.createChildNode(o),o.type===e.Element&&this.up();return this},S.prototype.dummy=function(){return this},S.prototype.node=function(e,t,r){var n;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=v(e),null==t&&(t={}),t=v(t),E(t)||(r=(n=[t,r])[0],t=n[1]),this.currentNode=new h(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},S.prototype.element=function(t,r,n){var i,o,s,a,u,c;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||E(t)||b(t))for(a=this.options.noValidation,this.options.noValidation=!0,(c=new p(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,o=0,s=(u=c.children).length;o<s;o++)i=u[o],this.createChildNode(i),i.type===e.Element&&this.up();else this.node(t,r,n);return this},S.prototype.attribute=function(e,t){var n,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=v(e)),E(e))for(n in e)C.call(e,n)&&(i=e[n],this.attribute(n,i));else b(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new r(this,e,""):null!=t&&(this.currentNode.attribs[e]=new r(this,e,t));return this},S.prototype.text=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.cdata=function(e){var t;return this.openCurrent(),t=new n(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.comment=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.raw=function(e){var t;return this.openCurrent(),t=new f(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.instruction=function(e,t){var r,n,i,o,s;if(this.openCurrent(),null!=e&&(e=v(e)),null!=t&&(t=v(t)),Array.isArray(e))for(r=0,o=e.length;r<o;r++)n=e[r],this.instruction(n);else if(E(e))for(n in e)C.call(e,n)&&(i=e[n],this.instruction(n,i));else b(t)&&(t=t.apply()),s=new d(this,e,t),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},S.prototype.declaration=function(e,t,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new c(this,e,t,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.doctype=function(e,t,r){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},S.prototype.dtdElement=function(e,t){var r;return this.openCurrent(),r=new s(this,e,t),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.attList=function(e,t,r,n,i){var s;return this.openCurrent(),s=new o(this,e,t,r,n,i),this.onData(this.writer.dtdAttList(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.entity=function(e,t){var r;return this.openCurrent(),r=new a(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.pEntity=function(e,t){var r;return this.openCurrent(),r=new a(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.notation=function(e,t){var r;return this.openCurrent(),r=new u(this,e,t),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},S.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},S.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},S.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},S.prototype.openNode=function(r){var n,i,o,s;if(!r.isOpen){if(this.root||0!==this.currentLevel||r.type!==e.Element||(this.root=r),i="",r.type===e.Element){for(o in this.writerOptions.state=t.OpenTag,i=this.writer.indent(r,this.writerOptions,this.currentLevel)+"<"+r.name,s=r.attribs)C.call(s,o)&&(n=s[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(r.children?">":"/>")+this.writer.endline(r,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,i=this.writer.indent(r,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+r.rootNodeName,r.pubID&&r.sysID?i+=' PUBLIC "'+r.pubID+'" "'+r.sysID+'"':r.sysID&&(i+=' SYSTEM "'+r.sysID+'"'),r.children?(i+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,i+=">"),i+=this.writer.endline(r,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),r.isOpen=!0}},S.prototype.closeNode=function(r){var n;if(!r.isClosed)return n="",this.writerOptions.state=t.CloseTag,n=r.type===e.Element?this.writer.indent(r,this.writerOptions,this.currentLevel)+"</"+r.name+">"+this.writer.endline(r,this.writerOptions,this.currentLevel):this.writer.indent(r,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(r,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(n,this.currentLevel),r.isClosed=!0},S.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},S.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},S.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},S.prototype.ele=function(){return this.element.apply(this,arguments)},S.prototype.nod=function(e,t,r){return this.node(e,t,r)},S.prototype.txt=function(e){return this.text(e)},S.prototype.dat=function(e){return this.cdata(e)},S.prototype.com=function(e){return this.comment(e)},S.prototype.ins=function(e,t){return this.instruction(e,t)},S.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},S.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)},S.prototype.e=function(e,t,r){return this.element(e,t,r)},S.prototype.n=function(e,t,r){return this.node(e,t,r)},S.prototype.t=function(e){return this.text(e)},S.prototype.d=function(e){return this.cdata(e)},S.prototype.c=function(e){return this.comment(e)},S.prototype.r=function(e){return this.raw(e)},S.prototype.i=function(e,t){return this.instruction(e,t)},S.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},S.prototype.ent=function(e,t){return this.entity(e,t)},S.prototype.pent=function(e,t){return this.pEntity(e,t)},S.prototype.not=function(e,t){return this.notation(e,t)},S}()}.call(Ko)),Ho.exports}var Xo,Yo,Qo,Jo={exports:{}},$o=Jo.exports;function Zo(){return Xo||(Xo=1,function(){var e,t,r,n={}.hasOwnProperty;e=ni(),r=Fo(),t=No(),Jo.exports=function(r){function i(e,t){this.stream=e,i.__super__.constructor.call(this,t)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,r),i.prototype.endline=function(e,r,n){return e.isLastRootNode&&r.state===t.CloseTag?"":i.__super__.endline.call(this,e,r,n)},i.prototype.document=function(e,t){var r,n,i,o,s,a,u,c,l;for(n=i=0,s=(u=e.children).length;i<s;n=++i)(r=u[n]).isLastRootNode=n===e.children.length-1;for(t=this.filterOptions(t),l=[],o=0,a=(c=e.children).length;o<a;o++)r=c[o],l.push(this.writeChildNode(r,t,0));return l},i.prototype.attribute=function(e,t,r){return this.stream.write(i.__super__.attribute.call(this,e,t,r))},i.prototype.cdata=function(e,t,r){return this.stream.write(i.__super__.cdata.call(this,e,t,r))},i.prototype.comment=function(e,t,r){return this.stream.write(i.__super__.comment.call(this,e,t,r))},i.prototype.declaration=function(e,t,r){return this.stream.write(i.__super__.declaration.call(this,e,t,r))},i.prototype.docType=function(e,r,n){var i,o,s,a;if(n||(n=0),this.openNode(e,r,n),r.state=t.OpenTag,this.stream.write(this.indent(e,r,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,r,n)),r.state=t.InsideTag,o=0,s=(a=e.children).length;o<s;o++)i=a[o],this.writeChildNode(i,r,n+1);r.state=t.CloseTag,this.stream.write("]")}return r.state=t.CloseTag,this.stream.write(r.spaceBeforeSlash+">"),this.stream.write(this.endline(e,r,n)),r.state=t.None,this.closeNode(e,r,n)},i.prototype.element=function(r,i,o){var s,a,u,c,l,p,h,d,f;for(h in o||(o=0),this.openNode(r,i,o),i.state=t.OpenTag,this.stream.write(this.indent(r,i,o)+"<"+r.name),d=r.attribs)n.call(d,h)&&(s=d[h],this.attribute(s,i,o));if(c=0===(u=r.children.length)?null:r.children[0],0===u||r.children.every(function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value}))i.allowEmpty?(this.stream.write(">"),i.state=t.CloseTag,this.stream.write("</"+r.name+">")):(i.state=t.CloseTag,this.stream.write(i.spaceBeforeSlash+"/>"));else if(!i.pretty||1!==u||c.type!==e.Text&&c.type!==e.Raw||null==c.value){for(this.stream.write(">"+this.endline(r,i,o)),i.state=t.InsideTag,l=0,p=(f=r.children).length;l<p;l++)a=f[l],this.writeChildNode(a,i,o+1);i.state=t.CloseTag,this.stream.write(this.indent(r,i,o)+"</"+r.name+">")}else this.stream.write(">"),i.state=t.InsideTag,i.suppressPrettyCount++,this.writeChildNode(c,i,o+1),i.suppressPrettyCount--,i.state=t.CloseTag,this.stream.write("</"+r.name+">");return this.stream.write(this.endline(r,i,o)),i.state=t.None,this.closeNode(r,i,o)},i.prototype.processingInstruction=function(e,t,r){return this.stream.write(i.__super__.processingInstruction.call(this,e,t,r))},i.prototype.raw=function(e,t,r){return this.stream.write(i.__super__.raw.call(this,e,t,r))},i.prototype.text=function(e,t,r){return this.stream.write(i.__super__.text.call(this,e,t,r))},i.prototype.dtdAttList=function(e,t,r){return this.stream.write(i.__super__.dtdAttList.call(this,e,t,r))},i.prototype.dtdElement=function(e,t,r){return this.stream.write(i.__super__.dtdElement.call(this,e,t,r))},i.prototype.dtdEntity=function(e,t,r){return this.stream.write(i.__super__.dtdEntity.call(this,e,t,r))},i.prototype.dtdNotation=function(e,t,r){return this.stream.write(i.__super__.dtdNotation.call(this,e,t,r))},i}(r)}.call($o)),Jo.exports}function es(){return Qo||(Qo=1,function(){var e,t,r,n,i,o={}.hasOwnProperty;Yo||(Yo=1,function(){var e,t,r,n,i,o,s,a,u,c;c=Nn(),a=c.assign,u=c.isFunction,r=qn(),n=Wo(),i=Go(),s=Bo(),o=Zo(),e=ni(),t=No(),Rn.create=function(e,t,r,i){var o,s;if(null==e)throw new Error("Root element needs a name.");return i=a({},t,r,i),s=(o=new n(i)).element(e),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.dtd(i)),s},Rn.begin=function(e,t,r){var o;return u(e)&&(t=(o=[e,t])[0],r=o[1],e={}),t?new i(e,t,r):new n(e)},Rn.stringWriter=function(e){return new s(e)},Rn.streamWriter=function(e,t){return new o(e,t)},Rn.implementation=new r,Rn.nodeType=e,Rn.writerState=t}.call(Rn)),e=Rn,t=Pn().defaults,n=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},i=function(e){return"<![CDATA["+r(e)+"]]>"},r=function(e){return e.replace("]]>","]]]]><![CDATA[>")},kn.Builder=function(){function r(e){var r,n,i;for(r in this.options={},n=t[.2])o.call(n,r)&&(i=n[r],this.options[r]=i);for(r in e)o.call(e,r)&&(i=e[r],this.options[r]=i)}return r.prototype.buildObject=function(r){var s,a,u,c,l,p;return s=this.options.attrkey,a=this.options.charkey,1===Object.keys(r).length&&this.options.rootName===t[.2].rootName?r=r[l=Object.keys(r)[0]]:l=this.options.rootName,p=this,u=function(e,t){var r,c,l,h,d,f;if("object"!=typeof t)p.options.cdata&&n(t)?e.raw(i(t)):e.txt(t);else if(Array.isArray(t)){for(h in t)if(o.call(t,h))for(d in c=t[h])l=c[d],e=u(e.ele(d),l).up()}else for(d in t)if(o.call(t,d))if(c=t[d],d===s){if("object"==typeof c)for(r in c)f=c[r],e=e.att(r,f)}else if(d===a)e=p.options.cdata&&n(c)?e.raw(i(c)):e.txt(c);else if(Array.isArray(c))for(h in c)o.call(c,h)&&(e="string"==typeof(l=c[h])?p.options.cdata&&n(l)?e.ele(d).raw(i(l)).up():e.ele(d,l).up():u(e.ele(d),l).up());else"object"==typeof c?e=u(e.ele(d),c).up():"string"==typeof c&&p.options.cdata&&n(c)?e=e.ele(d).raw(i(c)).up():(null==c&&(c=""),e=e.ele(d,c.toString()).up());return e},c=e.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(c,r).end(this.options.renderOpts)},r}()}.call(kn)),kn}var ts,rs={},ns={};function is(){return ts||(ts=1,function(e){e.parser=function(e,t){return new n(e,t)},e.SAXParser=n,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(t,i){if(!(this instanceof n))return new n(t,i);var o=this;!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=e.MAX_BUFFER_LENGTH,o.opt=i||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=x.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(g)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),P(o,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),n.prototype={end:function(){N(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return D(n,"Cannot write after close. Assign an onready handler.");if(null===t)return N(n);"object"==typeof t&&(t=t.toString());for(var i=0,o="";o=W(t,i++),n.c=o,o;)switch(n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++),n.state){case x.BEGIN:if(n.state=x.BEGIN_WHITESPACE,"\ufeff"===o)continue;V(n,o);continue;case x.BEGIN_WHITESPACE:V(n,o);continue;case x.TEXT:if(n.sawRoot&&!n.closedRoot){for(var a=i-1;o&&"<"!==o&&"&"!==o;)(o=W(t,i++))&&n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(a,i-1)}"<"!==o||n.sawRoot&&n.closedRoot&&!n.strict?(!C(s,o)||n.sawRoot&&!n.closedRoot||L(n,"Text data outside of root node."),"&"===o?n.state=x.TEXT_ENTITY:n.textNode+=o):(n.state=x.OPEN_WAKA,n.startTagPosition=n.position);continue;case x.SCRIPT:"<"===o?n.state=x.SCRIPT_ENDING:n.script+=o;continue;case x.SCRIPT_ENDING:"/"===o?n.state=x.CLOSE_TAG:(n.script+="<"+o,n.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===o)n.state=x.SGML_DECL,n.sgmlDecl="";else if(S(s,o));else if(S(y,o))n.state=x.OPEN_TAG,n.tagName=o;else if("/"===o)n.state=x.CLOSE_TAG,n.tagName="";else if("?"===o)n.state=x.PROC_INST,n.procInstName=n.procInstBody="";else{if(L(n,"Unencoded <"),n.startTagPosition+1<n.position){var u=n.position-n.startTagPosition;o=new Array(u).join(" ")+o}n.textNode+="<"+o,n.state=x.TEXT}continue;case x.SGML_DECL:(n.sgmlDecl+o).toUpperCase()===p?(O(n,"onopencdata"),n.state=x.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+o==="--"?(n.state=x.COMMENT,n.comment="",n.sgmlDecl=""):(n.sgmlDecl+o).toUpperCase()===d?(n.state=x.DOCTYPE,(n.doctype||n.sawRoot)&&L(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===o?(O(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=x.TEXT):S(c,o)?(n.state=x.SGML_DECL_QUOTED,n.sgmlDecl+=o):n.sgmlDecl+=o;continue;case x.SGML_DECL_QUOTED:o===n.q&&(n.state=x.SGML_DECL,n.q=""),n.sgmlDecl+=o;continue;case x.DOCTYPE:">"===o?(n.state=x.TEXT,O(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=o,"["===o?n.state=x.DOCTYPE_DTD:S(c,o)&&(n.state=x.DOCTYPE_QUOTED,n.q=o));continue;case x.DOCTYPE_QUOTED:n.doctype+=o,o===n.q&&(n.q="",n.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:n.doctype+=o,"]"===o?n.state=x.DOCTYPE:S(c,o)&&(n.state=x.DOCTYPE_DTD_QUOTED,n.q=o);continue;case x.DOCTYPE_DTD_QUOTED:n.doctype+=o,o===n.q&&(n.state=x.DOCTYPE_DTD,n.q="");continue;case x.COMMENT:"-"===o?n.state=x.COMMENT_ENDING:n.comment+=o;continue;case x.COMMENT_ENDING:"-"===o?(n.state=x.COMMENT_ENDED,n.comment=R(n.opt,n.comment),n.comment&&O(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+o,n.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==o?(L(n,"Malformed comment"),n.comment+="--"+o,n.state=x.COMMENT):n.state=x.TEXT;continue;case x.CDATA:"]"===o?n.state=x.CDATA_ENDING:n.cdata+=o;continue;case x.CDATA_ENDING:"]"===o?n.state=x.CDATA_ENDING_2:(n.cdata+="]"+o,n.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===o?(n.cdata&&O(n,"oncdata",n.cdata),O(n,"onclosecdata"),n.cdata="",n.state=x.TEXT):"]"===o?n.cdata+="]":(n.cdata+="]]"+o,n.state=x.CDATA);continue;case x.PROC_INST:"?"===o?n.state=x.PROC_INST_ENDING:S(s,o)?n.state=x.PROC_INST_BODY:n.procInstName+=o;continue;case x.PROC_INST_BODY:if(!n.procInstBody&&S(s,o))continue;"?"===o?n.state=x.PROC_INST_ENDING:n.procInstBody+=o;continue;case x.PROC_INST_ENDING:">"===o?(O(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=x.TEXT):(n.procInstBody+="?"+o,n.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:S(v,o)?n.tagName+=o:(M(n),">"===o?j(n):"/"===o?n.state=x.OPEN_TAG_SLASH:(C(s,o)&&L(n,"Invalid character in tag name"),n.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===o?(j(n,!0),B(n)):(L(n,"Forward-slash in opening tag not followed by >"),n.state=x.ATTRIB);continue;case x.ATTRIB:if(S(s,o))continue;">"===o?j(n):"/"===o?n.state=x.OPEN_TAG_SLASH:S(y,o)?(n.attribName=o,n.attribValue="",n.state=x.ATTRIB_NAME):L(n,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===o?n.state=x.ATTRIB_VALUE:">"===o?(L(n,"Attribute without value"),n.attribValue=n.attribName,q(n),j(n)):S(s,o)?n.state=x.ATTRIB_NAME_SAW_WHITE:S(v,o)?n.attribName+=o:L(n,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===o)n.state=x.ATTRIB_VALUE;else{if(S(s,o))continue;L(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",O(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===o?j(n):S(y,o)?(n.attribName=o,n.state=x.ATTRIB_NAME):(L(n,"Invalid attribute name"),n.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(S(s,o))continue;S(c,o)?(n.q=o,n.state=x.ATTRIB_VALUE_QUOTED):(L(n,"Unquoted attribute value"),n.state=x.ATTRIB_VALUE_UNQUOTED,n.attribValue=o);continue;case x.ATTRIB_VALUE_QUOTED:if(o!==n.q){"&"===o?n.state=x.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=o;continue}q(n),n.q="",n.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:S(s,o)?n.state=x.ATTRIB:">"===o?j(n):"/"===o?n.state=x.OPEN_TAG_SLASH:S(y,o)?(L(n,"No whitespace between attributes"),n.attribName=o,n.attribValue="",n.state=x.ATTRIB_NAME):L(n,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(C(l,o)){"&"===o?n.state=x.ATTRIB_VALUE_ENTITY_U:n.attribValue+=o;continue}q(n),">"===o?j(n):n.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(n.tagName)">"===o?B(n):S(v,o)?n.tagName+=o:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=x.SCRIPT):(C(s,o)&&L(n,"Invalid tagname in closing tag"),n.state=x.CLOSE_TAG_SAW_WHITE);else{if(S(s,o))continue;C(y,o)?n.script?(n.script+="</"+o,n.state=x.SCRIPT):L(n,"Invalid tagname in closing tag."):n.tagName=o}continue;case x.CLOSE_TAG_SAW_WHITE:if(S(s,o))continue;">"===o?B(n):L(n,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var h,f;switch(n.state){case x.TEXT_ENTITY:h=x.TEXT,f="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:h=x.ATTRIB_VALUE_QUOTED,f="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:h=x.ATTRIB_VALUE_UNQUOTED,f="attribValue"}";"===o?(n[f]+=U(n),n.entity="",n.state=h):S(n.entity.length?E:b,o)?n.entity+=o:(L(n,"Invalid character in entity name"),n[f]+="&"+n.entity+o,n.entity="",n.state=h);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=t[r[o]].length;if(a>n)switch(r[o]){case"textNode":k(t);break;case"cdata":O(t,"oncdata",t.cdata),t.cdata="";break;case"script":O(t,"onscript",t.script),t.script="";break;default:D(t,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var u=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=u+t.position}(n),n}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function(e){k(e),""!==e.cdata&&(O(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(O(e,"onscript",e.script),e.script="")}(this)}};try{t=require("stream").Stream}catch(e){t=function(){}}var i=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function o(e,r){if(!(this instanceof o))return new o(e,r);t.apply(this),this._parser=new n(e,r),this.writable=!0,this.readable=!0;var s=this;this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(e){s.emit("error",e),s._parser.error=null},this._decoder=null,i.forEach(function(e){Object.defineProperty(s,"on"+e,{get:function(){return s._parser["on"+e]},set:function(t){if(!t)return s.removeAllListeners(e),s._parser["on"+e]=t,t;s.on(e,t)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=h.StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===i.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var s="\r\n\t ",a="0124356789",u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c="'\"",l=s+">",p="[CDATA[",d="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",g={xml:f,xmlns:m};s=w(s),a=w(a),u=w(u);var y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function w(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function S(e,t){return function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function C(e,t){return!S(e,t)}c=w(c),l=w(l);var T,_,I,x=0;for(var A in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n}),e.STATE)e.STATE[e.STATE[A]]=A;function P(e,t,r){e[t]&&e[t](r)}function O(e,t,r){e.textNode&&k(e),P(e,t,r)}function k(e){e.textNode=R(e.opt,e.textNode),e.textNode&&P(e,"ontext",e.textNode),e.textNode=""}function R(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function D(e,t){return k(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,P(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&L(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&D(e,"Unexpected end"),k(e),e.c="",e.closed=!0,P(e,"onend"),n.call(e,e.strict,e.opt),e}function L(e,t){if("object"!=typeof e||!(e instanceof n))throw new Error("bad call to strictFail");e.strict&&D(e,t)}function M(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,O(e,"onopentagstart",r)}function F(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function q(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=F(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==f)L(e,"xml: prefix must be bound to "+f+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==m)L(e,"xmlns: prefix must be bound to "+m+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,O(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function j(e,t){if(e.opt.xmlns){var r=e.tag,n=F(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(L(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){O(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],c=a[1],l=F(u,!0),p=l.prefix,h=l.local,d=""===p?"":r.ns[p]||"",f={name:u,value:c,prefix:p,local:h,uri:d};p&&"xmlns"!==p&&!d&&(L(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[u]=f,O(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),O(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function B(e){if(!e.tagName)return L(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);O(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)L(e,"Unexpected close tag");if(t<0)return L(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,O(e,"onclosetag",e.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var r=o.ns[t];O(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function U(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(L(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function V(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):C(s,t)&&(L(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function W(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}x=e.STATE,String.fromCodePoint||(T=String.fromCharCode,_=Math.floor,I=function(){var e,t,r=[],n=-1,i=arguments.length;if(!i)return"";for(var o="";++n<i;){var s=Number(arguments[n]);if(!isFinite(s)||s<0||s>1114111||_(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(n+1===i||r.length>16384)&&(o+=T.apply(null,r),r.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0}):String.fromCodePoint=I)}(ns)),ns}var os,ss={};function as(){return os||(os=1,function(){ss.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}.call(ss)),ss}var us,cs,ls,ps,hs,ds={};function fs(){return us||(us=1,function(){var e;e=new RegExp(/(?!xmlns)^.*:/),ds.normalize=function(e){return e.toLowerCase()},ds.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},ds.stripPrefix=function(t){return t.replace(e,"")},ds.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},ds.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}.call(ds)),ds}function ms(){return cs||(cs=1,e=rs,function(){var t,r,n,i,o,s,a,u,c,l=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;u=is(),i=d,t=as(),a=fs(),c=f.setImmediate,r=Pn().defaults,o=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t=(0,e[n])(t,r);return t},n=function(e,t,r){var n;return(n=Object.create(null)).value=r,n.writable=!0,n.enumerable=!0,n.configurable=!0,Object.defineProperty(e,t,n)},e.Parser=function(i){function h(t){var n,i,o;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(n in this.options={},i=r[.2])p.call(i,n)&&(o=i[n],this.options[n]=o);for(n in t)p.call(t,n)&&(o=t[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(h,i),h.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),c(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},h.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||n(e,t,[e[t]]),e[t].push(r)):this.options.explicitArray?n(e,t,[r]):n(e,t,r)},h.prototype.reset=function(){var e,t,r,i,a;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(a=this,function(e){if(a.saxParser.resume(),!a.saxParser.errThrown)return a.saxParser.errThrown=!0,a.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,i=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(o){var a,u,c,l,h;if((c={})[t]="",!r.options.ignoreAttrs)for(a in h=o.attributes)p.call(h,a)&&(e in c||r.options.mergeAttrs||(c[e]={}),u=r.options.attrValueProcessors?s(r.options.attrValueProcessors,o.attributes[a],a):o.attributes[a],l=r.options.attrNameProcessors?s(r.options.attrNameProcessors,a):a,r.options.mergeAttrs?r.assignOrPush(c,l,u):n(c[e],l,u));return c["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,o.name):o.name,r.options.xmlns&&(c[r.options.xmlnskey]={uri:o.uri,local:o.local}),i.push(c)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,a,u,c,l,h,d,f,m,g;if(h=i.pop(),l=h["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete h["#name"],!0===h.cdata&&(r=h.cdata,delete h.cdata),m=i[i.length-1],h[t].match(/^\s*$/)&&!r?(a=h[t],delete h[t]):(e.options.trim&&(h[t]=h[t].trim()),e.options.normalize&&(h[t]=h[t].replace(/\s{2,}/g," ").trim()),h[t]=e.options.valueProcessors?s(e.options.valueProcessors,h[t],l):h[t],1===Object.keys(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])),o(h)&&(h="function"==typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:a),null!=e.options.validator&&(g="/"+function(){var e,t,r;for(r=[],e=0,t=i.length;e<t;e++)c=i[e],r.push(c["#name"]);return r}().concat(l).join("/"),function(){var t;try{return h=e.options.validator(g,m&&m[l],h)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof h)if(e.options.preserveChildrenOrder){if(m){for(u in m[e.options.childkey]=m[e.options.childkey]||[],d={},h)p.call(h,u)&&n(d,u,h[u]);m[e.options.childkey].push(d),delete h["#name"],1===Object.keys(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])}}else c={},e.options.attrkey in h&&(c[e.options.attrkey]=h[e.options.attrkey],delete h[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in h&&(c[e.options.charkey]=h[e.options.charkey],delete h[e.options.charkey]),Object.getOwnPropertyNames(h).length>0&&(c[e.options.childkey]=h),h=c;return i.length>0?e.assignOrPush(m,l,h):(e.options.explicitRoot&&(f=h,n(h={},l,f)),e.resultObject=h,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var n,o;if(o=i[i.length-1])return o[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(o[e.options.childkey]=o[e.options.childkey]||[],(n={"#name":"__text__"})[t]=r,e.options.normalize&&(n[t]=n[t].replace(/\s{2,}/g," ").trim()),o[e.options.childkey].push(n)),o}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(e){var t;if(t=r(e))return t.cdata=!0}},h.prototype.parseString=function(e,r){var n;null!=r&&"function"==typeof r&&(this.on("end",function(e){return this.reset(),r(null,e)}),this.on("error",function(e){return this.reset(),r(e)}));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,c(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(e){if(n=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},h.prototype.parseStringPromise=function(e){return new Promise((t=this,function(r,n){return t.parseString(e,function(e,t){return e?n(e):r(t)})}));var t},h}(i),e.parseString=function(t,r,n){var i,o;return null!=n?("function"==typeof n&&(i=n),"object"==typeof r&&(o=r)):("function"==typeof r&&(i=r),o={}),new e.Parser(o).parseString(t,i)},e.parseStringPromise=function(t,r){var n;return"object"==typeof r&&(n=r),new e.Parser(n).parseStringPromise(t)}}.call(rs)),rs;var e}function gs(){return ls||(ls=1,function(){var e,t,r,n,i={}.hasOwnProperty;t=Pn(),e=es(),r=ms(),n=fs(),xn.defaults=t.defaults,xn.processors=n,xn.ValidationError=function(){function e(e){this.message=e}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(e,Error),e}(),xn.Builder=e.Builder,xn.Parser=r.Parser,xn.parseString=r.parseString,xn.parseStringPromise=r.parseStringPromise}.call(xn)),xn}function ys(){if(hs)return ps;hs=1;var e=Kt(),t=e.util,r=e.Model.Shape,n=gs(),i={explicitCharkey:!1,trim:!1,normalize:!1,explicitRoot:!1,emptyTag:null,explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,validator:null};function o(){}function s(e,r){switch(r.type){case"structure":return function(e,r){var n={};return null===e||t.each(r.members,function(t,i){var o=i.name;if(Object.prototype.hasOwnProperty.call(e,o)&&Array.isArray(e[o])){var a=e[o];i.flattened||(a=a[0]),n[t]=s(a,i)}else i.isXmlAttribute&&e.$&&Object.prototype.hasOwnProperty.call(e.$,o)?n[t]=u(e.$[o],i):"list"!==i.type||r.api.xmlNoDefaultLists||(n[t]=i.defaultValue)}),n}(e,r);case"map":return function(e,r){var n={};if(null===e)return n;var i=r.key.name||"key",o=r.value.name||"value",a=r.flattened?e:e.entry;Array.isArray(a)&&t.arrayEach(a,function(e){n[e[i][0]]=s(e[o][0],r.value)});return n}(e,r);case"list":return a(e,r);case void 0:case null:return function(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e)){var t=[];for(r=0;r<e.length;r++)t.push(s(e[r],{}));return t}var r,n=Object.keys(e);if(0===n.length||1===n.length&&"$"===n[0])return{};var i={};for(r=0;r<n.length;r++){var o=n[r],u=e[o];"$"!==o&&(u.length>1?i[o]=a(u,{member:{}}):i[o]=s(u[0],{}))}return i}(e);default:return u(e,r)}}function a(e,r){var n=[],i=r.member.name||"member";return r.flattened?t.arrayEach(e,function(e){n.push(s(e,r.member))}):e&&Array.isArray(e[i])&&t.arrayEach(e[i],function(e){n.push(s(e,r.member))}),n}function u(e,t){return e&&e.$&&"base64"===e.$.encoding&&(t=new r.create({type:e.$.encoding})),e&&e._&&(e=e._),"function"==typeof t.toType?t.toType(e):e}return o.prototype.parse=function(e,r){r=r||{};var o=null,a=null;if(new n.Parser(i).parseString(e,function(e,t){a=e,o=t}),o){var u=s(o,r);return o.ResponseMetadata&&(u.ResponseMetadata=s(o.ResponseMetadata[0],{})),u}if(a)throw t.error(a,{code:"XMLParserError",retryable:!0});return s({},r)},ps=o}var vs,bs={};var Es,ws={};var Ss,Cs,Ts,_s,Is,xs,As,Ps,Os,ks,Rs,Ds,Ns,Ls={};function Ms(){if(_s)return Ts;_s=1;return Ts=function(){return{IPv4:"IPv4",IPv6:"IPv6"}}}function Fs(){if(ks)return Os;ks=1;var e=Kt(),t=(Cs?Ss:(Cs=1,Ss=function(){return{IPv4:"http://169.254.169.254",IPv6:"http://[fd00:ec2::254]"}}))(),r=Ms()(),n=(xs?Is:(xs=1,Is=function(){return{environmentVariableSelector:function(e){return e.AWS_EC2_METADATA_SERVICE_ENDPOINT},configFileSelector:function(e){return e.ec2_metadata_service_endpoint},default:void 0}}))(),i=function(){if(Ps)return As;Ps=1;var e=Ms()();return As=function(){return{environmentVariableSelector:function(e){return e.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE},configFileSelector:function(e){return e.ec2_metadata_service_endpoint_mode},default:e.IPv4}}}()();return Os=function(){var o=e.util.loadConfig(n);if(void 0!==o)return o;var s=e.util.loadConfig(i);switch(s){case r.IPv4:return t.IPv4;case r.IPv6:return t.IPv6;default:throw new Error("Unsupported endpoint mode: "+s)}}}function qs(){if(Ns)return Ls;Ns=1;var e=Kt();return function(){if(Ds)return Rs;Ds=1;var e=Kt();Ze();var t=e.util.inherit,r=Fs(),n=s.URL;e.MetadataService=t({endpoint:r(),httpOptions:{timeout:0},disableFetchToken:!1,constructor:function(t){t&&t.host&&(t.endpoint="http://"+t.host,delete t.host),this.profile=t&&t.profile||process.env.AWS_PROFILE||e.util.defaultProfile,this.ec2MetadataV1Disabled=!(!t||!t.ec2MetadataV1Disabled),this.filename=t&&t.filename,e.util.update(this,t)},request:function(t,r,i){if(2===arguments.length&&(i=r,r={}),process.env[e.util.imdsDisabledEnv])i(new Error("EC2 Instance Metadata Service access disabled"));else{t=t||"/",n&&new n(this.endpoint);var o=new e.HttpRequest(this.endpoint+t);o.method=r.method||"GET",r.headers&&(o.headers=r.headers),e.util.handleRequestWithRetries(o,this,i)}},loadCredentialsCallbacks:[],fetchMetadataToken:function(e){this.request("/latest/api/token",{method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}},e)},fetchCredentials:function(t,r){var n=this,i="/latest/meta-data/iam/security-credentials/";if((n.disableFetchToken||!(t&&t.headers&&t.headers["x-aws-ec2-metadata-token"]))&&!process.env.AWS_EC2_METADATA_DISABLED){try{var o=e.util.getProfilesFromSharedConfig(e.util.iniLoader,this.filename)[this.profile]||{}}catch(e){o={}}if(o.ec2_metadata_v1_disabled&&"false"!==o.ec2_metadata_v1_disabled)return r(e.util.error(new Error("AWS EC2 Metadata v1 fallback has been blocked by AWS config file profile.")));if(n.ec2MetadataV1Disabled)return r(e.util.error(new Error("AWS EC2 Metadata v1 fallback has been blocked by AWS.MetadataService::options.ec2MetadataV1Disabled=true.")));if(process.env.AWS_EC2_METADATA_V1_DISABLED&&"false"!==process.env.AWS_EC2_METADATA_V1_DISABLED)return r(e.util.error(new Error("AWS EC2 Metadata v1 fallback has been blocked by process.env.AWS_EC2_METADATA_V1_DISABLED.")))}n.request(i,t,function(o,s){if(o)return n.disableFetchToken=!(401===o.statusCode),void r(e.util.error(o,{message:"EC2 Metadata roleName request returned error"}));s=s.split("\n")[0],n.request(i+s,t,function(t,i){if(t)return n.disableFetchToken=!(401===t.statusCode),void r(e.util.error(t,{message:"EC2 Metadata creds request returned error"}));try{var o=JSON.parse(i);r(null,o)}catch(e){r(e)}})})},loadCredentials:function(t){var r=this;function n(e,t){for(var n;void 0!==(n=r.loadCredentialsCallbacks.shift());)n(e,t)}r.loadCredentialsCallbacks.push(t),r.loadCredentialsCallbacks.length>1||(r.disableFetchToken?r.fetchCredentials({},n):r.fetchMetadataToken(function(t,i){if(t)if("TimeoutError"===t.code)r.disableFetchToken=!0;else{if(!0===t.retryable)return void n(e.util.error(t,{message:"EC2 Metadata token request returned error"}));if(400===t.statusCode)return void n(e.util.error(t,{message:"EC2 Metadata token request returned 400"}))}var o={};i&&(o.headers={"x-aws-ec2-metadata-token":i}),r.fetchCredentials(o,n)}))}}),Rs=e.MetadataService}(),e.EC2MetadataCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),t=t?e.util.copy(t):{},(t=e.util.merge({maxRetries:this.defaultMaxRetries},t)).httpOptions||(t.httpOptions={}),t.httpOptions=e.util.merge({timeout:this.defaultTimeout,connectTimeout:this.defaultConnectTimeout},t.httpOptions),this.metadataService=new e.MetadataService(t),this.logger=t.logger||e.config&&e.config.logger},defaultTimeout:1e3,defaultConnectTimeout:1e3,defaultMaxRetries:3,originalExpiration:void 0,refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this;t.metadataService.loadCredentials(function(r,n){r?t.hasLoadedCredentials()?(t.extendExpirationIfExpired(),e()):e(r):(t.setCredentials(n),t.extendExpirationIfExpired(),e())})},hasLoadedCredentials:function(){return this.AccessKeyId&&this.secretAccessKey},extendExpirationIfExpired:function(){if(this.needsRefresh()){this.originalExpiration=this.originalExpiration||this.expireTime,this.expired=!1;var t=900+Math.floor(5*Math.random()*60),r=e.util.date.getDate().getTime();this.expireTime=new Date(r+1e3*t),this.logger.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted again at "+this.expireTime+"\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html")}},setCredentials:function(t){var r=e.util.date.getDate().getTime(),n=new Date(t.Expiration);this.expired=r>=n,this.metadata=t,this.accessKeyId=t.AccessKeyId,this.secretAccessKey=t.SecretAccessKey,this.sessionToken=t.Token,this.expireTime=n}}),Ls}var js,Bs={};var Us,Vs={};var Ws,zs={};var Hs,Ks={};var Gs,Xs={};var Ys,Qs={};var Js,$s={};var Zs,ea={};var ta,ra,na,ia={};function oa(){if(na)return ra;na=1;var u,c=Yr(),p=Ue(),h=p.isFipsRegion,d=p.getRealRegion;c.isBrowser=function(){return!1},c.isNode=function(){return!0},c.crypto.lib=r,c.Buffer=n.Buffer,c.domain=i,c.stream=o,c.url=s,c.querystring=a,c.environment="nodejs",c.createEventStream=c.stream.Readable?$r().createEventStream:Zr().createEventStream,c.realClock=jr?qr:(jr=1,qr={now:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}}),c.clientSideMonitoring={Publisher:en().Publisher,configProvider:tn()},c.iniLoader=function(){if(on)return sn;on=1;var e=an().IniLoader;return sn.iniLoader=new e,sn}().iniLoader,c.getSystemErrorName=e.getSystemErrorName,c.loadConfig=function(e){var t=e.environmentVariableSelector(process.env);if(void 0!==t)return t;var r={};try{r=c.iniLoader?c.iniLoader.loadFrom({isConfig:!0,filename:process.env[c.sharedConfigFileEnv]}):{}}catch(e){}var n=r[process.env.AWS_PROFILE||c.defaultProfile]||{},i=e.configFileSelector(n);return void 0!==i?i:"function"==typeof e.default?e.default():e.default},ra=u=Kt(),Ke(),Qe(),function(){if(un)return cn;un=1;var e=Kt(),t=ma();e.TemporaryCredentials=e.util.inherit(e.Credentials,{constructor:function(t,r){e.Credentials.call(this),this.loadMasterCredentials(r),this.expired=!0,this.params=t||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.masterCredentials.get(function(){t.service.config.credentials=t.masterCredentials,(t.params.RoleArn?t.service.assumeRole:t.service.getSessionToken).call(t.service,function(r,n){r||t.service.credentialsFrom(n,t),e(r)})})},loadMasterCredentials:function(t){for(this.masterCredentials=t||e.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new e.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new t({params:this.params})}})}(),function(){if(ln)return pn;ln=1;var e=Kt(),t=ma();e.ChainableTemporaryCredentials=e.util.inherit(e.Credentials,{constructor:function(r){e.Credentials.call(this),r=r||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var n=e.util.copy(r.params)||{};if(n.RoleArn&&(n.RoleSessionName=n.RoleSessionName||"temporary-credentials"),n.SerialNumber){if(!r.tokenCodeFn||"function"!=typeof r.tokenCodeFn)throw new e.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=r.tokenCodeFn}var i=e.util.merge({params:n,credentials:r.masterCredentials||e.config.credentials},r.stsConfig||{});this.service=new t(i)},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this,r=t.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode(function(n,i){var o={};n?e(n):(i&&(o.TokenCode=i),t.service[r](o,function(r,n){r||t.service.credentialsFrom(n,t),e(r)}))})},getTokenCode:function(t){var r=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,function(n,i){if(n){var o=n;return n instanceof Error&&(o=n.message),void t(e.util.error(new Error("Error fetching MFA token: "+o),{code:r.errorCode}))}t(null,i)}):t(null)}})}(),function(){if(hn)return dn;hn=1;var e=Kt(),t=ma();e.WebIdentityCredentials=e.util.inherit(e.Credentials,{constructor:function(t,r){e.Credentials.call(this),this.expired=!0,this.params=t,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=e.util.copy(r||{})},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithWebIdentity(function(r,n){t.data=null,r||(t.data=n,t.service.credentialsFrom(n,t)),e(r)})},createClients:function(){if(!this.service){var r=e.util.merge({},this._clientConfig);r.params=this.params,this.service=new t(r)}}})}(),En(),function(){if(wn)return Sn;wn=1;var e=Kt(),t=ma();e.SAMLCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),this.expired=!0,this.params=t},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},load:function(e){var t=this;t.createClients(),t.service.assumeRoleWithSAML(function(r,n){r||t.service.credentialsFrom(n,t),e(r)})},createClients:function(){this.service=this.service||new t({params:this.params})}})}(),_n(),u.XML.Parser=ys(),function(){if(vs)return bs;vs=1;var e=Kt(),t=e.util.stream.Stream,r=e.util.stream.Transform,n=e.util.stream.Readable;Ze(),e.NodeHttpClient=e.util.inherit({handleRequest:function(t,r,n,i){var o=this,s=t.endpoint,a="";r||(r={}),r.proxy&&(a=s.protocol+"//"+s.hostname,80!==s.port&&443!==s.port&&(a+=":"+s.port),s=new e.Endpoint(r.proxy));var u="https:"===s.protocol,c=u?m:g,l={host:s.hostname,port:s.port,method:t.method,headers:t.headers,path:a+t.path};e.util.update(l,r),r.agent||(l.agent=this.getAgent(u,{keepAlive:"1"===process.env.AWS_NODEJS_CONNECTION_REUSE_ENABLED})),delete l.proxy,delete l.timeout;var p,h=c.request(l,function(e){h.didCallback||(n(e),e.emit("headers",e.statusCode,e.headers,e.statusMessage))});return t.stream=h,h.didCallback=!1,r.connectTimeout&&h.on("socket",function(t){t.connecting&&(p=setTimeout(function(){h.didCallback||(h.didCallback=!0,h.abort(),i(e.util.error(new Error("Socket timed out without establishing a connection"),{code:"TimeoutError"})))},r.connectTimeout),t.on("connect",function(){clearTimeout(p),p=null}))}),h.setTimeout(r.timeout||0,function(){if(!h.didCallback){h.didCallback=!0;var t="Connection timed out after "+r.timeout+"ms";i(e.util.error(new Error(t),{code:"TimeoutError"})),h.abort()}}),h.on("error",function(t){p&&(clearTimeout(p),p=null),h.didCallback||(h.didCallback=!0,"ECONNRESET"===t.code||"EPIPE"===t.code||"ETIMEDOUT"===t.code?i(e.util.error(t,{code:"TimeoutError"})):i(t))}),"100-continue"===(t.headers.Expect||t.headers.expect)?h.once("continue",function(){o.writeBody(h,t)}):this.writeBody(h,t),h},writeBody:function(e,r){var n=r.body,i=parseInt(r.headers["Content-Length"],10);if(n instanceof t){var o=this.progressStream(e,i);o?n.pipe(o).pipe(e):n.pipe(e)}else n?(e.once("finish",function(){e.emit("sendProgress",{loaded:i,total:i})}),e.end(n)):e.end()},getAgent:function(t,r){var n=t?m:g;return t?(e.NodeHttpClient.sslAgent||(e.NodeHttpClient.sslAgent=new n.Agent(e.util.merge({rejectUnauthorized:"0"!==process.env.NODE_TLS_REJECT_UNAUTHORIZED},r||{})),e.NodeHttpClient.sslAgent.setMaxListeners(0),Object.defineProperty(e.NodeHttpClient.sslAgent,"maxSockets",{enumerable:!0,get:function(){var e=n.globalAgent;return e&&e.maxSockets!==1/0&&"number"==typeof e.maxSockets?e.maxSockets:50}})),e.NodeHttpClient.sslAgent):(e.NodeHttpClient.agent||(e.NodeHttpClient.agent=new n.Agent(r)),e.NodeHttpClient.agent)},progressStream:function(e,t){if(void 0!==r){var n=0,i=new r;return i._transform=function(r,i,o){r&&(n+=r.length,e.emit("sendProgress",{loaded:n,total:t})),o(null,r)},i}},emitter:null}),e.HttpClient.prototype=e.NodeHttpClient.prototype,e.HttpClient.streamsApiVersion=n?2:1}(),an(),function(){if(Es)return ws;Es=1;var e=Kt(),r=t,n=ma(),i=e.util.iniLoader;e.TokenFileWebIdentityCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),this.data=null,this.clientConfig=e.util.copy(t||{})},getParamsFromEnv:function(){var e="AWS_WEB_IDENTITY_TOKEN_FILE",t="AWS_ROLE_ARN";if(process.env[e]&&process.env[t])return[{envTokenFile:process.env[e],roleArn:process.env[t],roleSessionName:process.env.AWS_ROLE_SESSION_NAME}]},getParamsFromSharedConfig:function(){var t=e.util.getProfilesFromSharedConfig(i),r=process.env.AWS_PROFILE||e.util.defaultProfile,n=t[r]||{};if(0===Object.keys(n).length)throw e.util.error(new Error("Profile "+r+" not found"),{code:"TokenFileWebIdentityCredentialsProviderFailure"});for(var o=[];!n.web_identity_token_file&&n.source_profile;)o.unshift({roleArn:n.role_arn,roleSessionName:n.role_session_name}),n=t[n.source_profile];return o.unshift({envTokenFile:n.web_identity_token_file,roleArn:n.role_arn,roleSessionName:n.role_session_name}),o},refresh:function(t){this.coalesceRefresh(t||e.util.fn.callback)},assumeRoleChaining:function(e,t){var r=this;if(0===e.length)r.service.credentialsFrom(r.data,r),t();else{var n=e.shift();r.service.config.credentials=r.service.credentialsFrom(r.data,r),r.service.assumeRole({RoleArn:n.roleArn,RoleSessionName:n.roleSessionName||"token-file-web-identity"},function(n,i){r.data=null,n?t(n):(r.data=i,r.assumeRoleChaining(e,t))})}},load:function(e){var t=this;try{var n=t.getParamsFromEnv();if(n||(n=t.getParamsFromSharedConfig()),n){var i=n.shift(),o=r.readFileSync(i.envTokenFile,{encoding:"ascii"});t.service||t.createClients(),t.service.assumeRoleWithWebIdentity({WebIdentityToken:o,RoleArn:i.roleArn,RoleSessionName:i.roleSessionName||"token-file-web-identity"},function(r,i){t.data=null,r?e(r):(t.data=i,t.assumeRoleChaining(n,e))})}}catch(t){e(t)}},createClients:function(){if(!this.service){var t=e.util.merge({},this.clientConfig);this.service=new n(t),this.service.retryableError=function(t){return"IDPCommunicationErrorException"===t.code||"InvalidIdentityToken"===t.code||e.Service.prototype.retryableError.call(this,t)}}}})}(),qs(),function(){if(js)return Bs;js=1;var e=t,r=Kt(),n="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",i="AWS_CONTAINER_CREDENTIALS_FULL_URI",o="AWS_CONTAINER_AUTHORIZATION_TOKEN",s="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",a=["https:"],u=["http:","https:"],c=["localhost","127.0.0.1","169.254.170.23"];r.RemoteCredentials=r.util.inherit(r.Credentials,{constructor:function(e){r.Credentials.call(this),(e=e?r.util.copy(e):{}).httpOptions||(e.httpOptions={}),e.httpOptions=r.util.merge(this.httpOptions,e.httpOptions),r.util.update(this,e)},httpOptions:{timeout:1e3},maxRetries:3,isConfiguredForEcsCredentials:function(){return Boolean(process&&process.env&&(process.env[n]||process.env[i]))},getECSFullUri:function(){if(process&&process.env){var e=process.env[n],t=process.env[i];if(e)return"http://169.254.170.2"+e;if(t){var o=r.util.urlParse(t);if(u.indexOf(o.protocol)<0)throw r.util.error(new Error("Unsupported protocol:  AWS.RemoteCredentials supports "+u.join(",")+" only; "+o.protocol+" requested."),{code:"ECSCredentialsProviderFailure"});if(a.indexOf(o.protocol)<0&&c.indexOf(o.hostname)<0)throw r.util.error(new Error("Unsupported hostname: AWS.RemoteCredentials only supports "+c.join(",")+" for "+o.protocol+"; "+o.protocol+"//"+o.hostname+" requested."),{code:"ECSCredentialsProviderFailure"});return t}throw r.util.error(new Error("Variable "+n+" or "+i+" must be set to use AWS.RemoteCredentials."),{code:"ECSCredentialsProviderFailure"})}throw r.util.error(new Error("No process info available"),{code:"ECSCredentialsProviderFailure"})},getECSAuthToken:function(){if(process&&process.env&&(process.env[i]||process.env[s])){if(!process.env[o]&&process.env[s])try{return e.readFileSync(process.env[s]).toString()}catch(e){throw console.error("Error reading token file:",e),e}return process.env[o]}},credsFormatIsValid:function(e){return!!(e.accessKeyId&&e.secretAccessKey&&e.sessionToken&&e.expireTime)},formatCreds:function(e){return e.credentials&&(e=e.credentials),{expired:!1,accessKeyId:e.accessKeyId||e.AccessKeyId,secretAccessKey:e.secretAccessKey||e.SecretAccessKey,sessionToken:e.sessionToken||e.Token,expireTime:new Date(e.expiration||e.Expiration)}},request:function(e,t){var n=new r.HttpRequest(e);n.method="GET",n.headers.Accept="application/json";var i=this.getECSAuthToken();i&&(n.headers.Authorization=i),r.util.handleRequestWithRetries(n,this,t)},refresh:function(e){this.coalesceRefresh(e||r.util.fn.callback)},load:function(e){var t,n=this;try{t=this.getECSFullUri()}catch(t){return void e(t)}this.request(t,function(t,i){if(!t)try{i=JSON.parse(i);var o=n.formatCreds(i);if(!n.credsFormatIsValid(o))throw r.util.error(new Error("Response data is not in valid format"),{code:"ECSCredentialsProviderFailure"});r.util.update(n,o)}catch(e){t=e}e(t,o)})}})}(),function(){if(Us)return Vs;Us=1;var e=Kt();e.ECSCredentials=e.RemoteCredentials}(),function(){if(Ws)return zs;Ws=1;var e=Kt();e.EnvironmentCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),this.envPrefix=t,this.get(function(){})},refresh:function(t){if(t||(t=e.util.fn.callback),process&&process.env){for(var r=["ACCESS_KEY_ID","SECRET_ACCESS_KEY","SESSION_TOKEN"],n=[],i=0;i<r.length;i++){var o="";if(this.envPrefix&&(o=this.envPrefix+"_"),n[i]=process.env[o+r[i]],!n[i]&&"SESSION_TOKEN"!==r[i])return void t(e.util.error(new Error("Variable "+o+r[i]+" not set."),{code:"EnvironmentCredentialsProviderFailure"}))}this.expired=!1,e.Credentials.apply(this,n),t()}else t(e.util.error(new Error("No process info or environment variables available"),{code:"EnvironmentCredentialsProviderFailure"}))}})}(),function(){if(Hs)return Ks;Hs=1;var e=Kt();e.FileSystemCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),this.filename=t,this.get(function(){})},refresh:function(t){t||(t=e.util.fn.callback);try{var r=JSON.parse(e.util.readFileSync(this.filename));if(e.Credentials.call(this,r),!this.accessKeyId||!this.secretAccessKey)throw e.util.error(new Error("Credentials not set in "+this.filename),{code:"FileSystemCredentialsProviderFailure"});this.expired=!1,t()}catch(e){t(e)}}})}(),function(){if(Gs)return Xs;Gs=1;var e=Kt(),t=ma(),r=e.util.iniLoader;e.SharedIniFileCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),t=t||{},this.filename=t.filename,this.profile=t.profile||process.env.AWS_PROFILE||e.util.defaultProfile,this.disableAssumeRole=Boolean(t.disableAssumeRole),this.preferStaticCredentials=Boolean(t.preferStaticCredentials),this.tokenCodeFn=t.tokenCodeFn||null,this.httpOptions=t.httpOptions||null,this.get(t.callback||e.util.fn.noop)},load:function(t){var n=this;try{var i=e.util.getProfilesFromSharedConfig(r,this.filename),o=i[this.profile]||{};if(0===Object.keys(o).length)throw e.util.error(new Error("Profile "+this.profile+" not found"),{code:"SharedIniFileCredentialsProviderFailure"});var s=Boolean(this.preferStaticCredentials&&o.aws_access_key_id&&o.aws_secret_access_key);if(o.role_arn&&!s)return void this.loadRoleProfile(i,o,function(e,r){e?t(e):(n.expired=!1,n.accessKeyId=r.Credentials.AccessKeyId,n.secretAccessKey=r.Credentials.SecretAccessKey,n.sessionToken=r.Credentials.SessionToken,n.expireTime=r.Credentials.Expiration,t(null))});if(this.accessKeyId=o.aws_access_key_id,this.secretAccessKey=o.aws_secret_access_key,this.sessionToken=o.aws_session_token,!this.accessKeyId||!this.secretAccessKey)throw e.util.error(new Error("Credentials not set for profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});this.expired=!1,t(null)}catch(e){t(e)}},refresh:function(t){r.clearCachedFiles(),this.coalesceRefresh(t||e.util.fn.callback,this.disableAssumeRole)},loadRoleProfile:function(r,n,i){if(this.disableAssumeRole)throw e.util.error(new Error("Role assumption profiles are disabled. Failed to load profile "+this.profile+" from "+r.filename),{code:"SharedIniFileCredentialsProviderFailure"});var o=n.role_arn,s=n.role_session_name,a=n.external_id,u=n.mfa_serial,c=n.source_profile,l=parseInt(n.duration_seconds,10)||void 0,p=n.region||"us-east-1";if(!c)throw e.util.error(new Error("source_profile is not set using profile "+this.profile),{code:"SharedIniFileCredentialsProviderFailure"});if("object"!=typeof r[c])throw e.util.error(new Error("source_profile "+c+" using profile "+this.profile+" does not exist"),{code:"SharedIniFileCredentialsProviderFailure"});var h=new e.SharedIniFileCredentials(e.util.merge(this.options||{},{profile:c,preferStaticCredentials:!0}));this.roleArn=o;var d=new t({credentials:h,region:p,httpOptions:this.httpOptions}),f={DurationSeconds:l,RoleArn:o,RoleSessionName:s||"aws-sdk-js-"+Date.now()};if(a&&(f.ExternalId=a),u&&this.tokenCodeFn)return f.SerialNumber=u,void this.tokenCodeFn(u,function(t,r){var n;if(t)return n=t instanceof Error?t.message:t,void i(e.util.error(new Error("Error fetching MFA token: "+n),{code:"SharedIniFileCredentialsProviderFailure"}));f.TokenCode=r,d.assumeRole(f,i)});d.assumeRole(f,i)}})}(),_n(),function(){if(Ys)return Qs;Ys=1;var e=Kt(),t=l,n=r,i=e.util.iniLoader;e.SsoCredentials=e.util.inherit(e.Credentials,{constructor:function(t){e.Credentials.call(this),t=t||{},this.errorCode="SsoCredentialsProviderFailure",this.expired=!0,this.filename=t.filename,this.profile=t.profile||process.env.AWS_PROFILE||e.util.defaultProfile,this.service=t.ssoClient,this.httpOptions=t.httpOptions||null,this.get(t.callback||e.util.fn.noop)},load:function(t){var r=this;try{var n=e.util.getProfilesFromSharedConfig(i,this.filename)[this.profile]||{};if(0===Object.keys(n).length)throw e.util.error(new Error("Profile "+this.profile+" not found"),{code:r.errorCode});if(n.sso_session){if(!n.sso_account_id||!n.sso_role_name)throw e.util.error(new Error("Profile "+this.profile+" with session "+n.sso_session+' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_session", "sso_role_name". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),{code:r.errorCode})}else if(!(n.sso_start_url&&n.sso_account_id&&n.sso_region&&n.sso_role_name))throw e.util.error(new Error("Profile "+this.profile+' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),{code:r.errorCode});this.getToken(this.profile,n,function(i,o){if(i)return t(i);var s={accessToken:o,accountId:n.sso_account_id,roleName:n.sso_role_name};r.service&&r.service.config.region===n.sso_region||(r.service=new e.SSO({region:n.sso_region,httpOptions:r.httpOptions})),r.service.getRoleCredentials(s,function(n,i){if(!n&&i&&i.roleCredentials){if(!(i.roleCredentials.accessKeyId&&i.roleCredentials.secretAccessKey&&i.roleCredentials.sessionToken&&i.roleCredentials.expiration))throw e.util.error(new Error("SSO returns an invalid temporary credential."));r.expired=!1,r.accessKeyId=i.roleCredentials.accessKeyId,r.secretAccessKey=i.roleCredentials.secretAccessKey,r.sessionToken=i.roleCredentials.sessionToken,r.expireTime=new Date(i.roleCredentials.expiration),t(null)}else t(e.util.error(n||new Error('Please log in using "aws sso login"'),{code:r.errorCode}),null)})})}catch(e){t(e)}},getToken:function(r,o,s){if(o.sso_session){var a=e.util.iniLoader.loadSsoSessionsFrom()[o.sso_session];Object.assign(o,a);var u=new e.SSOTokenProvider({profile:r});u.get(function(e){return e?s(e):s(null,u.token)})}else try{var c=n.createHash("sha1").update(o.sso_start_url).digest("hex")+".json",l=t.join(i.getHomeDir(),".aws","sso","cache",c),p=e.util.readFileSync(l),h=null;if(p&&(h=JSON.parse(p)),!h)throw e.util.error(new Error("Cached credentials not found under "+this.profile+" profile. Please make sure you log in with aws sso login first"),{code:this.errorCode});if(!(h.startUrl&&h.region&&h.accessToken&&h.expiresAt))throw e.util.error(new Error("Cached credentials are missing required properties. Try running aws sso login."));if(new Date(h.expiresAt).getTime()-Date.now()<=9e5)throw e.util.error(new Error("The SSO session associated with this profile has expired. To refresh this SSO session run aws sso login with the corresponding profile."));return s(null,h.accessToken)}catch(e){return s(e,null)}},refresh:function(t){i.clearCachedFiles(),this.coalesceRefresh(t||e.util.fn.callback)}})}(),u.CredentialProviderChain.defaultProviders=[function(){return new u.EnvironmentCredentials("AWS")},function(){return new u.EnvironmentCredentials("AMAZON")},function(){return new u.SsoCredentials},function(){return new u.SharedIniFileCredentials},function(){return new u.ECSCredentials},function(){return new u.ProcessCredentials},function(){return new u.TokenFileWebIdentityCredentials},function(){return new u.EC2MetadataCredentials}],function(){if(Js)return $s;Js=1;var e=Kt();e.Token=e.util.inherit({constructor:function(t){e.util.hideProperties(this,["token"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],1===arguments.length&&(t=arguments[0],this.token=t.token,this.expireTime=t.expireTime)},expiryWindow:15,needsRefresh:function(){var t=e.util.date.getDate().getTime(),r=new Date(t+1e3*this.expiryWindow);return!!(this.expireTime&&r>this.expireTime)||this.expired||!this.token},get:function(e){var t=this;this.needsRefresh()?this.refresh(function(r){r||(t.expired=!1),e&&e(r)}):e&&e()},refresh:function(e){this.expired=!1,e()},coalesceRefresh:function(t,r){var n=this;1===n.refreshCallbacks.push(t)&&n.load(function(t){e.util.arrayEach(n.refreshCallbacks,function(n){r?n(t):e.util.defer(function(){n(t)})}),n.refreshCallbacks.length=0})},load:function(e){e()}}),e.Token.addPromisesToClass=function(t){this.prototype.getPromise=e.util.promisifyMethod("get",t),this.prototype.refreshPromise=e.util.promisifyMethod("refresh",t)},e.Token.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},e.util.addPromises(e.Token)}(),function(){if(Zs)return ea;Zs=1;var e=Kt();e.TokenProviderChain=e.util.inherit(e.Token,{constructor:function(t){this.providers=t||e.TokenProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(t){var r=this;if(0===r.providers.length)return t(new Error("No providers")),r;if(1===r.resolveCallbacks.push(t)){var n=0,i=r.providers.slice(0);function o(t,s){if(!t&&s||n===i.length)return e.util.arrayEach(r.resolveCallbacks,function(e){e(t,s)}),void(r.resolveCallbacks.length=0);var a=i[n++];(s="function"==typeof a?a.call():a).get?s.get(function(e){o(e,e?null:s)}):o(null,s)}o()}return r}}),e.TokenProviderChain.defaultProviders=[],e.TokenProviderChain.addPromisesToClass=function(t){this.prototype.resolvePromise=e.util.promisifyMethod("resolve",t)},e.TokenProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},e.util.addPromises(e.TokenProviderChain)}(),function(){if(ta)return ia;ta=1;var e=Kt(),n=r,i=t,o=l,s=e.util.iniLoader,a=0,u=function(t,r){if(!t[r])throw e.util.error(new Error('Key "'+r+'" not present in SSO Token'),{code:"SSOTokenProviderFailure"})},c=function(t,r,n){if(!(r>t))throw e.util.error(new Error('SSO Token refresh failed. Please log in using "aws sso login"'),{code:"SSOTokenProviderFailure"});n(null)};e.SSOTokenProvider=e.util.inherit(e.Token,{expiryWindow:300,constructor:function(t){e.Token.call(this),t=t||{},this.expired=!0,this.profile=t.profile||process.env.AWS_PROFILE||e.util.defaultProfile,this.get(t.callback||e.util.fn.noop)},load:function(t){var r=this,l=s.loadFrom({isConfig:!0})[this.profile]||{};if(0===Object.keys(l).length)throw e.util.error(new Error('Profile "'+this.profile+'" not found'),{code:"SSOTokenProviderFailure"});if(!l.sso_session)throw e.util.error(new Error('Profile "'+this.profile+'" is missing required property "sso_session".'),{code:"SSOTokenProviderFailure"});var p=l.sso_session,h=s.loadSsoSessionsFrom()[p];if(!h)throw e.util.error(new Error('Sso session "'+p+'" not found'),{code:"SSOTokenProviderFailure"});if(!h.sso_start_url)throw e.util.error(new Error('Sso session "'+this.profile+'" is missing required property "sso_start_url".'),{code:"SSOTokenProviderFailure"});if(!h.sso_region)throw e.util.error(new Error('Sso session "'+this.profile+'" is missing required property "sso_region".'),{code:"SSOTokenProviderFailure"});var d=n.createHash("sha1").update(p).digest("hex")+".json",f=o.join(s.getHomeDir(),".aws","sso","cache",d),m=JSON.parse(i.readFileSync(f));if(!m)throw e.util.error(new Error('Cached token not found. Please log in using "aws sso login" for profile "'+this.profile+'".'),{code:"SSOTokenProviderFailure"});u(m,"accessToken"),u(m,"expiresAt");var g=e.util.date.getDate().getTime(),y=new Date(g+1e3*this.expiryWindow),v=new Date(m.expiresAt);if(v>y)return r.token=m.accessToken,r.expireTime=v,r.expired=!1,void t(null);if(g-a<3e4)c(g,v,t);else{u(m,"clientId"),u(m,"clientSecret"),u(m,"refreshToken"),r.service&&r.service.config.region===h.sso_region||(r.service=new e.SSOOIDC({region:h.sso_region}));var b={clientId:m.clientId,clientSecret:m.clientSecret,refreshToken:m.refreshToken,grantType:"refresh_token"};a=e.util.date.getDate().getTime(),r.service.createToken(b,function(e,n){if(e||!n)c(g,v,t);else try{u(n,"accessToken"),u(n,"expiresIn"),r.expired=!1,r.token=n.accessToken,r.expireTime=new Date(Date.now()+1e3*n.expiresIn),t(null);try{m.accessToken=n.accessToken,m.expiresAt=r.expireTime.toISOString(),m.refreshToken=n.refreshToken,i.writeFileSync(f,JSON.stringify(m,null,2))}catch(e){}}catch(e){c(g,v,t)}})}},refresh:function(t){s.clearCachedFiles(),this.coalesceRefresh(t||e.util.fn.callback)}})}(),u.TokenProviderChain.defaultProviders=[function(){return new u.SSOTokenProvider}];var f=function(){var e=process.env,t=e.AWS_REGION||e.AMAZON_REGION;if(e[u.util.configOptInEnv])for(var r=[{filename:e[u.util.sharedCredentialsFileEnv]},{isConfig:!0,filename:e[u.util.sharedConfigFileEnv]}],n=u.util.iniLoader;!t&&r.length;){var i={},o=r.shift();try{i=n.loadFrom(o)}catch(e){if(o.isConfig)throw e}var s=i[e.AWS_PROFILE||u.util.defaultProfile];t=s&&s.region}return t},y=function(e){return"true"===e||"false"!==e&&void 0},v={environmentVariableSelector:function(e){return y(e.AWS_USE_FIPS_ENDPOINT)},configFileSelector:function(e){return y(e.use_fips_endpoint)},default:!1},b={environmentVariableSelector:function(e){return y(e.AWS_USE_DUALSTACK_ENDPOINT)},configFileSelector:function(e){return y(e.use_dualstack_endpoint)},default:!1};return u.util.update(u.Config.prototype.keys,{credentials:function(){var e=null;return new u.CredentialProviderChain([function(){return new u.EnvironmentCredentials("AWS")},function(){return new u.EnvironmentCredentials("AMAZON")},function(){return new u.SharedIniFileCredentials({disableAssumeRole:!0})}]).resolve(function(t,r){t||(e=r)}),e},credentialProvider:function(){return new u.CredentialProviderChain},logger:function(){return process.env.AWSJS_DEBUG?console:null},region:function(){var e=f();return e?d(e):void 0},tokenProvider:function(){return new u.TokenProviderChain},useFipsEndpoint:function(){var e=f();return!!h(e)||c.loadConfig(v)},useDualstackEndpoint:function(){return c.loadConfig(b)}}),u.config=new u.Config,ra}var sa,aa,ua,ca={};function la(){if(ua)return ca;ua=1;var e=Kt(),t=function(){if(aa)return sa;aa=1;var e=Kt();function t(t,r){if("string"==typeof t){if(["legacy","regional"].indexOf(t.toLowerCase())>=0)return t.toLowerCase();throw e.util.error(new Error,r)}}return sa=function(r,n){var i;if((r=r||{})[n.clientConfig]&&(i=t(r[n.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+n.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+r[n.clientConfig]+'".'})))return i;if(!e.util.isNode())return i;if(Object.prototype.hasOwnProperty.call(process.env,n.env)&&(i=t(process.env[n.env],{code:"InvalidEnvironmentalVariable",message:"invalid "+n.env+' environmental variable. Expect "legacy"  or "regional". Got "'+process.env[n.env]+'".'})))return i;var o={};try{o=e.util.getProfilesFromSharedConfig(e.util.iniLoader)[process.env.AWS_PROFILE||e.util.defaultProfile]}catch(e){}return o&&Object.prototype.hasOwnProperty.call(o,n.sharedConfig)&&(i=t(o[n.sharedConfig],{code:"InvalidConfiguration",message:"invalid "+n.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+o[n.sharedConfig]+'".'})),i}}();return e.util.update(e.STS.prototype,{credentialsFrom:function(t,r){return t?(r||(r=new e.TemporaryCredentials),r.expired=!1,r.accessKeyId=t.Credentials.AccessKeyId,r.secretAccessKey=t.Credentials.SecretAccessKey,r.sessionToken=t.Credentials.SessionToken,r.expireTime=t.Credentials.Expiration,r):null},assumeRoleWithWebIdentity:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",e,t)},assumeRoleWithSAML:function(e,t){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",e,t)},setupRequestListeners:function(e){e.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(r){var n=r.service,i=n.config;if(i.stsRegionalEndpoints=t(n._originalConfig,{env:"AWS_STS_REGIONAL_ENDPOINTS",sharedConfig:"sts_regional_endpoints",clientConfig:"stsRegionalEndpoints"}),"regional"===i.stsRegionalEndpoints&&n.isGlobalEndpoint){if(!i.region)throw e.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var o=i.endpoint.indexOf(".amazonaws.com"),s=i.endpoint.substring(0,o)+"."+i.region+i.endpoint.substring(o);r.httpRequest.updateEndpoint(s),r.httpRequest.region=i.region}}}),ca}var pa,ha,da={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{},SourceIdentity:{},ProvidedContexts:{type:"list",member:{type:"structure",members:{ProviderArn:{},ContextAssertion:{}}}}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sl"},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},SourceIdentity:{}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{type:"string",sensitive:!0},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sl"},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{},SourceIdentity:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{type:"string",sensitive:!0},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sl"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{},SourceIdentity:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sl"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sl"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Sl:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{type:"string",sensitive:!0},SessionToken:{},Expiration:{type:"timestamp"}}},Sq:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}},fa={pagination:{}};function ma(){if(ha)return pa;ha=1,oa();var e=Kt(),t=e.Service,r=e.apiLoader;return r.services.sts={},e.STS=t.defineService("sts",["2011-06-15"]),la(),Object.defineProperty(r.services.sts,"2011-06-15",{get:function(){var e=da;return e.paginators=fa.pagination,e},enumerable:!0,configurable:!0}),pa=e.STS}const ga=new(y(ma())),ya=async()=>ga.getCallerIdentity().promise();export{ya as handler};
